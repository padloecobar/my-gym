/Users/pavelkulikou/Projects/my-gym/gym-app/README.md
```
This is a [Next.js](https://nextjs.org) project bootstrapped with [`create-next-app`](https://nextjs.org/docs/app/api-reference/cli/create-next-app).

## Getting Started

First, run the development server:

```bash
npm run dev
# or
yarn dev
# or
pnpm dev
# or
bun dev
```

Open [http://localhost:3000](http://localhost:3000) with your browser to see the result.

You can start editing the page by modifying `app/page.tsx`. The page auto-updates as you edit the file.

This project uses [`next/font`](https://nextjs.org/docs/app/building-your-application/optimizing/fonts) to automatically optimize and load [Geist](https://vercel.com/font), a new font family for Vercel.

## Learn More

To learn more about Next.js, take a look at the following resources:

- [Next.js Documentation](https://nextjs.org/docs) - learn about Next.js features and API.
- [Learn Next.js](https://nextjs.org/learn) - an interactive Next.js tutorial.

You can check out [the Next.js GitHub repository](https://github.com/vercel/next.js) - your feedback and contributions are welcome!

## Deploy on Vercel

The easiest way to deploy your Next.js app is to use the [Vercel Platform](https://vercel.com/new?utm_medium=default-template&filter=next.js&utm_source=create-next-app&utm_campaign=create-next-app-readme) from the creators of Next.js.

Check out our [Next.js deployment documentation](https://nextjs.org/docs/app/building-your-application/deploying) for more details.
```

/Users/pavelkulikou/Projects/my-gym/gym-app/STATE_RULES.md
```
# State Rules (Zustand v5)

## ✅ Global Rules
- ✅ No Zustand hooks in Server Components (files using hooks must include `"use client"`).
- ✅ SSR determinism: server HTML must match first client render (don’t read `window/document/matchMedia/time/random/storage` during render to affect markup).
- ✅ Selectors must not return new arrays/objects/functions unless stabilized with `useShallow`.
- ✅ Prefer one subscription per component (group selectors + `useShallow` for heavy screens).
- ✅ Persisted slices must be serializable (no functions, DOM nodes, or class instances).
- ✅ UI store is never persisted.

## ✅ Persistence Rules
- All persistence goes through `storage/adapter` (stores never touch IndexedDB directly).
- Persisted stores must expose `hasHydrated`, `hydrate()`, and `schemaVersion`.
- Migrations must be explicit and versioned.
- Hydration must be centralized (don’t trigger hydrate/rehydrate from multiple components).

## ✅ UI Commands
- No callbacks stored in Zustand state (use command objects + centralized executor).

## ✅ Data Shape
- Session store uses normalized entities and ID maps.
- Avoid deep nested mutations; update by IDs.
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/components/BackButton.tsx
```
"use client";

import { useRouter } from "next/navigation";
import { backWithTransition } from "../../app/shared/lib/navigation";
import { ChevronIcon } from "../shared/components/icons/ChevronIcon";

export default function BackButton({ label = "Back" }: { label?: string }) {
  const router = useRouter();

  const handle = () => {
    backWithTransition(router);
  };

  return (
    <button type="button" className="back-btn" onClick={handle} aria-label={label}>
      <ChevronIcon size="md" />
    </button>
  );
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/components/BottomNav.tsx
```
"use client";

import type { ReactNode } from "react";
import { usePathname } from "next/navigation";
import VtLink from "./VtLink";
import { CalendarIcon } from "../shared/components/icons/CalendarIcon";
import { BookIcon } from "../shared/components/icons/BookIcon";
import { ClockIcon } from "../shared/components/icons/ClockIcon";
import { GearIcon } from "../shared/components/icons/GearIcon";

const items: { href: string; label: string; icon: ReactNode }[] = [
  { href: "/", label: "Today", icon: <CalendarIcon className="bottom-nav__icon" /> },
  { href: "/programs", label: "Programs", icon: <BookIcon className="bottom-nav__icon" /> },
  { href: "/history", label: "History", icon: <ClockIcon className="bottom-nav__icon" /> },
  { href: "/settings", label: "Settings", icon: <GearIcon className="bottom-nav__icon" /> },
];

export default function BottomNav() {
  const pathname = usePathname();

  return (
    <nav className="bottom-nav" aria-label="Primary">
      {items.map((item) => {
        const isActive = pathname === item.href || (item.href !== "/" && pathname.startsWith(item.href));
        return (
          <VtLink
            key={item.href}
            href={item.href}
            className="bottom-nav__item"
            ariaCurrent={isActive ? "page" : "false"}
          >
            {item.icon}
            <span className="bottom-nav__label">{item.label}</span>
          </VtLink>
        );
      })}
    </nav>
  );
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/components/SetRow.tsx
```
"use client";

import { useMemo } from "react";
import type { SetEntry } from "../../types/gym";
import { formatKg, formatLb } from "../../app/shared/lib/utils";
import { TrashIcon } from "../shared/components/icons/TrashIcon";

export default function SetRow({
  set,
  barWeight,
  onEdit,
  onDelete,
  highlight,
}: {
  set: SetEntry;
  barWeight: number;
  onEdit: () => void;
  onDelete: () => void;
  highlight?: boolean;
}) {
  const perSide = useMemo(() => Math.max(0, (set.weightKg - barWeight) / 2), [set.weightKg, barWeight]);

  const handleKeyDown = (event: React.KeyboardEvent<HTMLDivElement>) => {
    if (event.key === "Enter" || event.key === " ") {
      event.preventDefault();
      onEdit();
    }
  };

  return (
    <div
      role="button"
      tabIndex={0}
      className={`set-row${highlight ? " set-row--highlight" : ""}`}
      aria-label={`${formatKg(set.weightKg)} kg x ${set.reps} reps. Tap to edit.`}
      onClick={onEdit}
      onKeyDown={handleKeyDown}
    >
      <div className="set-row__weight">
        <button
          type="button"
          className="set-row__edit"
          aria-label="Edit weight and reps"
          onClick={(event) => {
            event.stopPropagation();
            onEdit();
          }}
        >
          <span className="set-row__kg">{formatKg(set.weightKg)} kg</span>
          <span className="set-row__lb muted">{formatLb(set.weightKg)} lb</span>
          {set.mode === "plates" ? (
            <span className="set-row__plates muted">{formatKg(perSide)} kg / side</span>
          ) : null}
        </button>
      </div>
      <div className="set-row__reps">
        <button
          type="button"
          className="set-row__edit"
          aria-label="Edit weight and reps"
          onClick={(event) => {
            event.stopPropagation();
            onEdit();
          }}
        >
          <span className="set-row__reps-value">{set.reps}</span>
          <span className="set-row__reps-label muted">reps</span>
        </button>
      </div>
      <div className="set-row__meta">
        <button
          type="button"
          className="set-row__menu"
          aria-label="Delete set"
          title="Delete set"
          onClick={(event) => {
            event.stopPropagation();
            onDelete();
          }}
        >
          <TrashIcon size="sm" />
        </button>
      </div>
    </div>
  );
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/features/programs/components/ProgramCard.tsx
```
"use client";

import type { Program } from "../../../../types/gym";
import VtLink from "../../../shared/components/VtLink";

type ProgramCardProps = {
  program: Program;
  meta?: string;
  href?: string;
  onClick?: () => void;
  hero?: boolean;
  actionLabel?: string;
};

export default function ProgramCard({ program, meta, href, onClick, hero, actionLabel }: ProgramCardProps) {
  const content = (
    <div className="card__body">
      <div className="program-card__header">
        <h3 className="card__title truncate">{program.name}</h3>
        {actionLabel ? <span className="badge badge--brand">{actionLabel}</span> : null}
      </div>
      {meta ? <p className="card__meta">{meta}</p> : null}
      {program.note ? <p className="program-card__note muted">{program.note}</p> : null}
    </div>
  );

  const className = `card program-card${hero ? " vt-hero" : ""}`;

  if (href) {
    return (
      <VtLink href={href} className={className}>
        {content}
      </VtLink>
    );
  }

  return (
    <button type="button" className={className} onClick={onClick}>
      {content}
    </button>
  );
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/features/programs/components/SearchExerciseSheet.tsx
```
"use client";

import { useMemo, useState } from "react";
import BottomSheet from "../../../shared/components/BottomSheet";
import { useCatalogShallow } from "../../../../store/useCatalogStore";
import { useUiShallow } from "../../../../store/useUiStore";
import type { Exercise, ExerciseType, InputMode } from "../../../../types/gym";

const exerciseTypes: ExerciseType[] = ["Barbell", "Dumbbell", "Machine", "Bodyweight", "Cable"];

export default function SearchExerciseSheet() {
  const { sheet, closeSheet } = useUiShallow((state) => ({
    sheet: state.sheet,
    closeSheet: state.closeSheet,
  }));
  const { exercises, addExerciseToProgram, createExercise } = useCatalogShallow((state) => ({
    exercises: state.exercises,
    addExerciseToProgram: state.addExerciseToProgram,
    createExercise: state.createExercise,
  }));

  if (sheet.type !== "searchExercise") return null;

  return (
    <BottomSheet
      open={sheet.open}
      title="Add exercise"
      onClose={closeSheet}
    >
      <SearchExerciseForm
        key={sheet.sessionId}
        exercises={exercises}
        onClose={closeSheet}
        onSelect={(exerciseId) => {
          addExerciseToProgram(sheet.payload.programId, exerciseId);
          closeSheet();
        }}
        onCreate={(name, type, mode) => {
          const nextMode = type === "Barbell" ? mode : "total";
          const newId = createExercise(name, type, nextMode);
          addExerciseToProgram(sheet.payload.programId, newId);
          closeSheet();
        }}
      />
    </BottomSheet>
  );
}

function SearchExerciseForm({
  exercises,
  onClose,
  onSelect,
  onCreate,
}: {
  exercises: Exercise[];
  onClose: () => void;
  onSelect: (exerciseId: string) => void;
  onCreate: (name: string, type: ExerciseType, mode: InputMode) => void;
}) {
  const [query, setQuery] = useState("");
  const [type, setType] = useState<ExerciseType>("Barbell");
  const [mode, setMode] = useState<InputMode>("plates");

  const results = useMemo(() => {
    const normalized = query.trim().toLowerCase();
    if (!normalized) return exercises;
    return exercises.filter((exercise) => exercise.name.toLowerCase().includes(normalized));
  }, [exercises, query]);

  return (
    <>
      <form
        id="search-exercise-form"
        className="stack"
        onSubmit={(event) => {
          event.preventDefault();
          const name = query.trim();
          if (!name) return;
          onCreate(name, type, mode);
        }}
      >
        <div className="field">
          <label className="label" htmlFor="exercise-search">
            Search or create
          </label>
          <input
            id="exercise-search"
            className="input"
            placeholder="e.g. Overhead Press"
            value={query}
            onChange={(event) => setQuery(event.target.value)}
          />
        </div>

        <div className="field">
          <label className="label" htmlFor="exercise-type">
            Type
          </label>
          <select
            id="exercise-type"
            className="select"
            value={type}
            onChange={(event) => {
              const nextType = event.target.value as ExerciseType;
              setType(nextType);
              setMode(nextType === "Barbell" ? "plates" : "total");
            }}
          >
            {exerciseTypes.map((item) => (
              <option key={item} value={item}>
                {item}
              </option>
            ))}
          </select>
        </div>

        {type === "Barbell" ? (
          <div className="field">
            <span className="label">Default mode</span>
            <div className="cluster">
              <button
                type="button"
                className={`btn${mode === "plates" ? " btn--primary" : ""}`}
                onClick={() => setMode("plates")}
              >
                Plates / side
              </button>
              <button
                type="button"
                className={`btn${mode === "total" ? " btn--primary" : ""}`}
                onClick={() => setMode("total")}
              >
                Total
              </button>
            </div>
          </div>
        ) : null}
      </form>

      <div className="sheet__list">
        <p className="label">Matches</p>
        <div className="stack">
          {results.map((exercise) => (
            <button key={exercise.id} type="button" className="list-row" onClick={() => onSelect(exercise.id)}>
              <span>{exercise.name}</span>
              <span className="badge">{exercise.type}</span>
            </button>
          ))}
          {results.length === 0 ? <p className="muted">No matches yet.</p> : null}
        </div>
      </div>

      <div className="sheet__actions">
        <button type="button" className="btn btn--ghost" onClick={onClose}>
          Cancel
        </button>
        <button type="submit" className="btn btn--primary" form="search-exercise-form">
          Create
        </button>
      </div>
    </>
  );
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/features/settings/components/ConfirmSheet.tsx
```
"use client";

import BottomSheet from "../../../shared/components/BottomSheet";
import { useCommandExecutor } from "../../../../commands/useCommandExecutor";
import { useUiShallow } from "../../../../store/useUiStore";

export default function ConfirmSheet() {
  const { sheet, closeSheet } = useUiShallow((state) => ({
    sheet: state.sheet,
    closeSheet: state.closeSheet,
  }));
  const executeCommand = useCommandExecutor();

  if (sheet.type !== "confirm") return null;

  const { title, message, confirmLabel, tone, command } = sheet.payload;

  return (
    <BottomSheet
      open={sheet.open}
      title={title}
      onClose={closeSheet}
      footer={
        <div className="sheet__actions">
          <button type="button" className="btn btn--ghost" onClick={closeSheet}>
            Cancel
          </button>
          <button
            type="button"
            className={`btn ${tone === "danger" ? "btn--danger" : "btn--primary"}`}
            onClick={() => {
              executeCommand(command);
              closeSheet();
            }}
          >
            {confirmLabel ?? "Confirm"}
          </button>
        </div>
      }
    >
      <p className="muted">{message}</p>
    </BottomSheet>
  );
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/features/workout/components/EditSetSheet.tsx
```
"use client";

import { useMemo, useState, type FormEvent } from "react";
import BottomSheet from "../../../shared/components/BottomSheet";
import { useCatalogShallow } from "../../../../store/useCatalogStore";
import { useSessionStore, useSessionStoreApi } from "../../../../store/useSessionStore";
import { useSettingsShallow } from "../../../../store/useSettingsStore";
import { useUiShallow } from "../../../../store/useUiStore";
import { clamp, formatKg, formatLb } from "../../../shared/lib/utils";
import type { Exercise, SetEntry, Settings } from "../../../../types/gym";

export default function EditSetSheet() {
  const { sheet, closeSheet } = useUiShallow((state) => ({
    sheet: state.sheet,
    closeSheet: state.closeSheet,
  }));
  const sessionStore = useSessionStoreApi();
  const { settings } = useSettingsShallow((state) => ({ settings: state.settings }));
  const payload = sheet.type === "editSet" ? sheet.payload : null;

  const setEntry = useSessionStore((state) =>
    payload ? state.setsById[payload.setId] : undefined
  );
  const { exercise } = useCatalogShallow((state) => ({
    exercise: payload ? state.exercises.find((item) => item.id === payload.exerciseId) : undefined,
  }));

  if (sheet.type !== "editSet" || !payload || !setEntry || !exercise) return null;

  const formKey = `${setEntry.id}-${sheet.sessionId}`;

  return (
    <BottomSheet
      open={sheet.open}
      title={`${exercise.name} set`}
      onClose={closeSheet}
      footer={
        <div className="sheet__actions">
          <button type="button" className="btn btn--ghost" onClick={closeSheet}>
            Cancel
          </button>
          <button type="submit" className="btn btn--primary" form="edit-set-form">
            Save
          </button>
        </div>
      }
    >
      <EditSetForm
        key={formKey}
        setEntry={setEntry}
        exercise={exercise}
        settings={settings}
        onSave={(next) => {
          sessionStore.getState().updateSet(payload.workoutId, payload.exerciseId, payload.setId, next);
          closeSheet();
        }}
      />
    </BottomSheet>
  );
}

type EditSetFormProps = {
  setEntry: SetEntry;
  exercise: Exercise;
  settings: Settings;
  onSave: (patch: Pick<SetEntry, "weightKg" | "reps" | "mode">) => void;
};

function EditSetForm({ setEntry, exercise, settings, onSave }: EditSetFormProps) {
  const [weight, setWeight] = useState(setEntry.weightKg);
  const [reps, setReps] = useState(setEntry.reps);
  const [mode, setMode] = useState<"total" | "plates">(setEntry.mode);

  const perSide = useMemo(
    () => Math.max(0, (weight - settings.defaultBarWeight) / 2),
    [weight, settings.defaultBarWeight]
  );

  const handleSave = (event: FormEvent) => {
    event.preventDefault();
    onSave({
      weightKg: clamp(weight, 0, 1000),
      reps: clamp(reps, 0, 200),
      mode,
    });
  };

  const handleWeightChange = (value: number) => {
    if (mode === "plates") {
      const total = settings.defaultBarWeight + value * 2;
      setWeight(clamp(total, 0, 1000));
    } else {
      setWeight(clamp(value, 0, 1000));
    }
  };

  const weightDisplay = mode === "plates" ? perSide : weight;

  return (
    <form id="edit-set-form" className="stack" onSubmit={handleSave}>
      <div className="field">
        <label className="label" htmlFor="weight-input">
          Weight ({mode === "plates" ? "per side" : "total"})
        </label>
        <div className="stepper">
          <button type="button" className="btn" onClick={() => handleWeightChange(weightDisplay - 2.5)}>
            -
          </button>
          <input
            id="weight-input"
            className="input"
            inputMode="decimal"
            value={weightDisplay}
            onChange={(event) => {
              const next = Number(event.target.value);
              handleWeightChange(Number.isFinite(next) ? next : 0);
            }}
          />
          <button type="button" className="btn" onClick={() => handleWeightChange(weightDisplay + 2.5)}>
            +
          </button>
        </div>
        <div className="help">
          {formatKg(weight)} kg / {formatLb(weight)} lb
        </div>
        {mode === "plates" ? (
          <div className="help">Bar weight {formatKg(settings.defaultBarWeight)} kg</div>
        ) : null}
      </div>

      <div className="field">
        <label className="label" htmlFor="reps-input">
          Reps
        </label>
        <div className="stepper">
          <button type="button" className="btn" onClick={() => setReps(clamp(reps - 1, 0, 200))}>
            -
          </button>
          <input
            id="reps-input"
            className="input"
            inputMode="numeric"
            value={reps}
            onChange={(event) => {
              const next = Number(event.target.value);
              setReps(clamp(Number.isFinite(next) ? next : 0, 0, 200));
            }}
          />
          <button type="button" className="btn" onClick={() => setReps(clamp(reps + 1, 0, 200))}>
            +
          </button>
        </div>
      </div>

      {exercise.type === "Barbell" ? (
        <div className="field">
          <span className="label">Mode</span>
          <div className="cluster">
            <button
              type="button"
              className={`btn${mode === "total" ? " btn--primary" : ""}`}
              onClick={() => setMode("total")}
            >
              Total
            </button>
            <button
              type="button"
              className={`btn${mode === "plates" ? " btn--primary" : ""}`}
              onClick={() => setMode("plates")}
            >
              Plates / side
            </button>
          </div>
        </div>
      ) : null}
    </form>
  );
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/features/workout/components/ExerciseCard.tsx
```
"use client";

import type { Exercise, WorkoutEntry } from "../../../../types/gym";
import SetRow from "./SetRow";

export default function ExerciseCard({
  exercise,
  entry,
  barWeight,
  onEditSet,
  onDeleteSet,
  onAddSet,
  highlightedSetId,
}: {
  exercise: Exercise;
  entry: WorkoutEntry;
  barWeight: number;
  onEditSet: (setId: string) => void;
  onDeleteSet: (setId: string) => void;
  onAddSet: () => void;
  highlightedSetId?: string | null;
}) {
  return (
    <article className="card exercise-card">
      <div className="card__body">
        <div className="exercise-card__header">
          <div>
            <h3 className="card__title">{exercise.name}</h3>
            <div className="cluster">
              <span className="badge">{exercise.type}</span>
              {entry.suggested ? <span className="badge badge--brand">Suggested</span> : null}
            </div>
          </div>
        </div>
        <div className="exercise-card__sets">
          {entry.sets.map((set) => (
            <SetRow
              key={set.id}
              set={set}
              barWeight={barWeight}
              onEdit={() => onEditSet(set.id)}
              onDelete={() => onDeleteSet(set.id)}
              highlight={highlightedSetId === set.id}
            />
          ))}
        </div>
        <button type="button" className="btn btn--ghost exercise-card__add" onClick={onAddSet}>
          + Add set
        </button>
      </div>
    </article>
  );
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/features/workout/components/SetRow.tsx
```
"use client";

import { useMemo } from "react";
import type { SetEntry } from "../../../../types/gym";
import { formatKg, formatLb } from "../../../shared/lib/utils";
import { TrashIcon } from "../../../shared/components/icons/TrashIcon";

export default function SetRow({
  set,
  barWeight,
  onEdit,
  onDelete,
  highlight,
}: {
  set: SetEntry;
  barWeight: number;
  onEdit: () => void;
  onDelete: () => void;
  highlight?: boolean;
}) {
  const perSide = useMemo(() => Math.max(0, (set.weightKg - barWeight) / 2), [set.weightKg, barWeight]);

  const handleKeyDown = (event: React.KeyboardEvent<HTMLDivElement>) => {
    if (event.key === "Enter" || event.key === " ") {
      event.preventDefault();
      onEdit();
    }
  };

  return (
    <div
      role="button"
      tabIndex={0}
      className={`set-row${highlight ? " set-row--highlight" : ""}`}
      aria-label={`${formatKg(set.weightKg)} kg x ${set.reps} reps. Tap to edit.`}
      onClick={onEdit}
      onKeyDown={handleKeyDown}
    >
      <div className="set-row__weight">
        <button
          type="button"
          className="set-row__edit"
          aria-label="Edit weight and reps"
          onClick={(event) => {
            event.stopPropagation();
            onEdit();
          }}
        >
          <span className="set-row__kg">{formatKg(set.weightKg)} kg</span>
          <span className="set-row__lb muted">{formatLb(set.weightKg)} lb</span>
          {set.mode === "plates" ? (
            <span className="set-row__plates muted">{formatKg(perSide)} kg / side</span>
          ) : null}
        </button>
      </div>
      <div className="set-row__reps">
        <button
          type="button"
          className="set-row__edit"
          aria-label="Edit weight and reps"
          onClick={(event) => {
            event.stopPropagation();
            onEdit();
          }}
        >
          <span className="set-row__reps-value">{set.reps}</span>
          <span className="set-row__reps-label muted">reps</span>
        </button>
      </div>
      <div className="set-row__meta">
        <button
          type="button"
          className="set-row__menu"
          aria-label="Delete set"
          title="Delete set"
          onClick={(event) => {
            event.stopPropagation();
            onDelete();
          }}
        >
          <TrashIcon size="sm" />
        </button>
      </div>
    </div>
  );
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/globals.css
```
/* globals.css (2026 Modern Baseline Design System)
   Goals: scalable layers, token-first, accessible defaults, component-first responsiveness,
   baseline-safe modern CSS, progressive enhancement for frontier features.
*/

/* --------------------------------------------
   0) Cascade Layers
-------------------------------------------- */
@layer reset, tokens, base, layout, components, motion, utilities, overrides;

/* --------------------------------------------
   1) Reset (minimal, modern, non-destructive)
-------------------------------------------- */
@layer reset {
  *,
  *::before,
  *::after {
    box-sizing: border-box;
  }

  body {
    margin: 0;
    min-block-size: 100dvh; /* modern viewport unit: avoids mobile URL bar issues */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  img,
  picture,
  video,
  canvas,
  svg {
    display: block;
    max-inline-size: 100%;
    block-size: auto;
  }

  input,
  button,
  textarea,
  select {
    font: inherit;
    color: inherit;
  }

  button {
    cursor: pointer;
  }

  :where(ul, ol) {
    padding: 0;
    margin: 0;
    list-style: none;
  }

  :where(h1, h2, h3, h4, h5, h6, p, figure, blockquote) {
    margin: 0;
  }

  :where(a) {
    color: inherit;
    text-decoration: none;
  }

  :where(table) {
    border-collapse: collapse;
    border-spacing: 0;
  }

  /* Better default for anchors and focused scroll targets */
  :where(:target) {
    scroll-margin-block: 6rem;
  }
}

/* --------------------------------------------
   2) Tokens (design system primitives)
-------------------------------------------- */
@layer tokens {
  :root {
    /* Let the UA draw appropriate built-in UI for light/dark contexts */
    color-scheme: light dark;

    /* Typography */
    --font-sans: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial,
      "Apple Color Emoji", "Segoe UI Emoji";
    --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono",
      "Courier New", monospace;

    /* Fluid type scale (tweak to taste) */
    --fs-1: clamp(0.875rem, 0.84rem + 0.2vw, 0.95rem);
    --fs-2: clamp(1rem, 0.95rem + 0.35vw, 1.125rem);
    --fs-3: clamp(1.125rem, 1.05rem + 0.55vw, 1.35rem);
    --fs-4: clamp(1.35rem, 1.2rem + 1vw, 1.9rem);
    --fs-5: clamp(1.7rem, 1.4rem + 1.7vw, 2.6rem);

    --lh-tight: 1.15;
    --lh-normal: 1.5;
    --lh-relaxed: 1.7;

    /* Spacing rhythm: 8/12/16/24 (--space-2/3/4/6) */
    --space-0: 0;
    --space-1: 0.25rem;
    --space-2: 0.5rem;   /* 8px */
    --space-3: 0.75rem;  /* 12px */
    --space-4: 1rem;     /* 16px */
    --space-5: 1.25rem;
    --space-6: 1.5rem;   /* 24px */
    --space-7: 2rem;
    --space-8: 2.5rem;
    --space-9: 3rem;

    /* Radii: 12/16 (--r-2/--r-3) */
    --r-1: 0.5rem;
    --r-2: 0.75rem;   /* 12px */
    --r-3: 1rem;      /* 16px */
    --r-pill: 999px;

    /* Borders + shadows */
    --border-1: 1px;
    --shadow-1: 0 1px 2px hsl(0 0% 0% / 0.15);
    --shadow-2: 0 6px 20px hsl(0 0% 0% / 0.18);

    /* Motion durations per improve-1.md guidelines */
    --dur-press: 120ms;        /* Press feedback: 90-120ms */
    --dur-quick: 180ms;        /* Quick state change: 150-200ms */
    --dur-enter: 225ms;        /* Element enter */
    --dur-exit: 195ms;         /* Element exit */
    --dur-page: 300ms;         /* Full-screen navigation */
    --dur-page-lg: 375ms;      /* Large/complex full-screen (max) */
    /* Legacy durations for backward compatibility */
    --dur-1: 120ms;
    --dur-2: 200ms;
    --dur-3: 320ms;

    /* Motion easing curves per improve-1.md (Material Design) */
    --ease-standard: cubic-bezier(0.4, 0.0, 0.2, 1);  /* Standard */
    --ease-decel: cubic-bezier(0.0, 0.0, 0.2, 1);     /* Deceleration (enter) */
    --ease-accel: cubic-bezier(0.4, 0.0, 1, 1);       /* Acceleration (exit) */
    --ease-sharp: cubic-bezier(0.4, 0.0, 0.6, 1);     /* Sharp (rare) */
    /* Legacy easings for backward compatibility */
    --ease-1: cubic-bezier(0.2, 0.8, 0.2, 1);
    --ease-2: cubic-bezier(0.2, 0.0, 0.0, 1);

    /* Touch targets per improve-1.md */
    --tap: 48px;

    /* Layout primitives */
    --container-max: 72rem;
    --gutter: clamp(1rem, 2vw, 1.5rem);

    /* Color tokens (OKLCH first, HSL fallback below via @supports) */
    --brand: oklch(62% 0.18 250);
    --brand-2: oklch(68% 0.16 240);

    --bg: oklch(99% 0.01 250);
    --surface: oklch(97% 0.015 250);
    --surface-2: oklch(94% 0.02 250);

    --text: oklch(22% 0.02 250);
    --muted: oklch(45% 0.02 250);

    --border: oklch(86% 0.02 250);
    --ring: var(--brand);

    --success: oklch(66% 0.14 150);
    --warning: oklch(78% 0.15 80);
    --danger: oklch(63% 0.19 25);

    /* Derived colors */
    --brand-soft: color-mix(in srgb, var(--brand) 18%, transparent);
    --border-soft: color-mix(in srgb, var(--border) 70%, transparent);
    --shadow-color: color-mix(in srgb, var(--text) 18%, transparent);

    /* Focus ring */
    --ring-size: 3px;
    --ring-offset: 2px;
  }

  /* Dark theme tokens using prefers-color-scheme (viewport-level preference) */
  @media (prefers-color-scheme: dark) {
    :root {
      --bg: oklch(18% 0.02 250);
      --surface: oklch(22% 0.02 250);
      --surface-2: oklch(27% 0.02 250);

      --text: oklch(96% 0.01 250);
      --muted: oklch(76% 0.02 250);

      --border: oklch(34% 0.02 250);

      --brand-soft: color-mix(in srgb, var(--brand) 22%, transparent);
      --shadow-color: color-mix(in srgb, var(--text) 10%, transparent);
    }
  }

  /* Fallback for browsers that lack OKLCH (progressive enhancement) */
  @supports not (color: oklch(62% 0.18 250)) {
    :root {
      --brand: hsl(220 95% 62%);
      --brand-2: hsl(215 90% 66%);

      --bg: hsl(0 0% 100%);
      --surface: hsl(225 20% 98%);
      --surface-2: hsl(225 18% 94%);

      --text: hsl(230 20% 15%);
      --muted: hsl(230 10% 45%);

      --border: hsl(230 15% 85%);

      --success: hsl(145 65% 38%);
      --warning: hsl(42 95% 50%);
      --danger: hsl(0 78% 55%);
    }

    @media (prefers-color-scheme: dark) {
      :root {
        --bg: hsl(230 18% 11%);
        --surface: hsl(230 17% 14%);
        --surface-2: hsl(230 16% 18%);

        --text: hsl(220 25% 96%);
        --muted: hsl(220 12% 72%);

        --border: hsl(230 12% 30%);
      }
    }
  }
}

/* --------------------------------------------
   3) Base styles (low specificity, accessible defaults)
-------------------------------------------- */
@layer base {
  html {
    font-size: 16px;
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;
  }

  body {
    background: var(--bg);
    color: var(--text);
    font-family: var(--font-sans);
    font-size: var(--fs-2);
    line-height: var(--lh-normal);

    /* Modern, low-risk typography defaults */
    font-kerning: normal;
  }

  /* Smooth scrolling only when the user has NOT requested reduced motion */
  @media (prefers-reduced-motion: no-preference) {
    html:focus-within {
      scroll-behavior: smooth;
    }
  }

  :where(h1) { font-size: var(--fs-5); line-height: var(--lh-tight); letter-spacing: -0.02em; }
  :where(h2) { font-size: var(--fs-4); line-height: var(--lh-tight); letter-spacing: -0.015em; }
  :where(h3) { font-size: var(--fs-3); line-height: var(--lh-tight); }
  :where(p)  { max-inline-size: 70ch; }

  :where(code, pre, kbd, samp) {
    font-family: var(--font-mono);
    font-size: 0.95em;
  }

  :where(pre) {
    padding: var(--space-4);
    border-radius: var(--r-2);
    background: color-mix(in srgb, var(--surface) 70%, var(--bg));
    border: var(--border-1) solid var(--border-soft);
    overflow: auto;
  }

  /* Links: underline only on actual <a href> for clarity */
  :where(a[href]) {
    text-decoration: none;
    text-underline-offset: 0.18em;
    text-decoration-thickness: 0.08em;
  }
  :where(a[href]:hover),
  :where(a[href]:focus-visible) {
    text-decoration: underline;
  }

  /* Accessible focus: never remove outlines without replacement */
  :where(:focus-visible) {
    outline: var(--ring-size) solid var(--ring);
    outline-offset: var(--ring-offset);
  }

  /* Fallback if :focus-visible is not supported */
  @supports not selector(:focus-visible) {
    :where(:focus) {
      outline: var(--ring-size) solid var(--ring);
      outline-offset: var(--ring-offset);
    }
  }

  /* Make tap targets feel better on touch */
  :where(button, [role="button"], input, select, textarea) {
    touch-action: manipulation;
  }

  /* Better text selection */
  ::selection {
    background: color-mix(in srgb, var(--brand) 30%, transparent);
  }

  /* Reduce motion for people who ask for it */
  @media (prefers-reduced-motion: reduce) {
    html:focus-within { scroll-behavior: auto; }

    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }

  /* Improve layout stability when scrollbars appear */
  :root { scrollbar-gutter: stable; }
}

/* --------------------------------------------
   4) Layout system (grid for structure, flex for alignment)
-------------------------------------------- */
@layer layout {
  .container {
    inline-size: min(100% - (var(--gutter) * 2), var(--container-max));
    margin-inline: auto;
  }

  .stack {
    display: grid;
    gap: var(--space-4);
  }

  .cluster {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-3);
    align-items: center;
  }

  .grid {
    display: grid;
    gap: var(--space-4);
  }

  /* Utility-ish but structural: keeps long lists fast */
  .virtual-list {
    content-visibility: auto;
    contain: content; /* safer than contain: layout paint style in more situations */
    contain-intrinsic-size: 1px 800px;
  }
}

/* --------------------------------------------
   5) Components (generic building blocks)
-------------------------------------------- */
@layer components {
  /* Buttons */
  .btn {
    --_bg: var(--brand-soft);
    --_fg: var(--text);
    --_bd: color-mix(in srgb, var(--border) 70%, transparent);

    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2);

    padding-inline: var(--space-4);
    padding-block: var(--space-2);

    border-radius: var(--r-2);
    border: var(--border-1) solid var(--_bd);
    background: var(--_bg);
    color: var(--_fg);

    box-shadow: var(--shadow-1);
    transition:
      transform var(--dur-1) var(--ease-1),
      filter var(--dur-2) var(--ease-1),
      background-color var(--dur-2) var(--ease-1),
      border-color var(--dur-2) var(--ease-1);
  }

  .btn:hover { filter: brightness(1.05); }
  .btn:active { transform: translateY(1px); }

  .btn[disabled],
  .btn[aria-disabled="true"] {
    opacity: 0.55;
    cursor: not-allowed;
    pointer-events: none; /* make aria-disabled truly non-interactive */
  }

  .btn--primary {
    --_bg: var(--brand);
    --_fg: color-mix(in srgb, white 92%, var(--text));
    --_bd: color-mix(in srgb, var(--brand) 70%, black);
  }

  .btn--ghost {
    --_bg: transparent;
    --_bd: var(--border-soft);
  }

  /* Shared Button component variants */
  .button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2);
    padding-inline: var(--space-4);
    border-radius: var(--r-2);
    font-weight: 500;
    border: var(--border-1) solid var(--_bd, transparent);
    background: var(--_bg, transparent);
    color: var(--_fg, var(--text));
    cursor: pointer;
    transition: all var(--dur-1) var(--ease-1);
    min-block-size: var(--_height, var(--tap, 48px));
  }

  .button:hover:not(:disabled) {
    opacity: 0.9;
    transform: translateY(-1px);
  }

  .button:active:not(:disabled) {
    transform: translateY(0);
  }

  .button:disabled {
    opacity: 0.55;
    cursor: not-allowed;
    pointer-events: none;
  }

  .button:focus-visible {
    outline: 2px solid var(--brand);
    outline-offset: 2px;
  }

  /* Button variants */
  .button--primary {
    --_bg: var(--brand);
    --_fg: color-mix(in srgb, white 92%, var(--text));
    --_bd: color-mix(in srgb, var(--brand) 70%, black);
  }

  .button--secondary {
    --_bg: var(--surface-2);
    --_fg: var(--text);
    --_bd: var(--border-soft);
  }

  .button--ghost {
    --_bg: transparent;
    --_fg: var(--brand);
    --_bd: transparent;
  }

  .button--danger {
    --_bg: color-mix(in srgb, var(--danger) 18%, transparent);
    --_fg: var(--danger);
    --_bd: color-mix(in srgb, var(--danger) 35%, transparent);
  }

  /* Button sizes */
  .button--sm {
    --_height: 40px;
    padding-inline: var(--space-3);
    font-size: var(--fs-1);
  }

  .button--md {
    --_height: 48px;
    padding-inline: var(--space-4);
    font-size: var(--fs-2);
  }

  .button--lg {
    --_height: 56px;
    padding-inline: var(--space-5);
    font-size: var(--fs-3);
  }

  /* Card */
  .card {
    container-type: inline-size; /* component-first responsiveness */
    border-radius: var(--r-3);
    border: var(--border-1) solid var(--border-soft);
    background: var(--surface);
    box-shadow: var(--shadow-1);
    overflow: clip;
  }

  .card__body {
    padding: var(--space-5);
    display: grid;
    gap: var(--space-3);
  }

  .card__title {
    font-size: var(--fs-3);
    line-height: var(--lh-tight);
  }

  .card__meta {
    color: var(--muted);
    font-size: var(--fs-1);
  }

  /* Card responsiveness via container queries */
  @container (min-width: 34rem) {
    .card__body {
      padding: calc(var(--space-5) * 1.2);
      gap: var(--space-4);
    }
  }

  /* Form field */
  .field {
    display: grid;
    gap: var(--space-2);
  }

  .label {
    font-size: var(--fs-1);
    color: var(--muted);
  }

  .input,
  .select,
  .textarea {
    inline-size: 100%;
    padding-inline: var(--space-3);
    padding-block: var(--space-2);

    border-radius: var(--r-2);
    border: var(--border-1) solid var(--border-soft);
    background: color-mix(in srgb, var(--surface) 70%, var(--bg));
    color: var(--text);

    transition: border-color var(--dur-2) var(--ease-1), box-shadow var(--dur-2) var(--ease-1);
  }

  .textarea {
    min-block-size: 8lh;
    resize: vertical;
  }

  .input:focus-visible,
  .select:focus-visible,
  .textarea:focus-visible {
    border-color: color-mix(in srgb, var(--ring) 60%, var(--border));
    box-shadow: 0 0 0 4px color-mix(in srgb, var(--ring) 20%, transparent);
    outline: none; /* replaced by stronger box-shadow ring */
  }

  .help {
    font-size: var(--fs-1);
    color: var(--muted);
  }

  .error {
    color: var(--danger);
    font-size: var(--fs-1);
  }

  /* Use :has() to style parent field when it contains an invalid input */
  .field { --_state: transparent; }
  @supports selector(:has(*)) {
    .field:has(.input:invalid, .textarea:invalid, .select:invalid) {
      --_state: color-mix(in srgb, var(--danger) 35%, transparent);
    }
    .field:has(.input:invalid, .textarea:invalid, .select:invalid) :where(.input, .textarea, .select) {
      border-color: color-mix(in srgb, var(--danger) 60%, var(--border));
      box-shadow: 0 0 0 4px var(--_state);
    }
  }

  /* Badge */
  .badge {
    display: inline-flex;
    align-items: center;
    gap: var(--space-1);
    padding-inline: var(--space-2);
    padding-block: var(--space-1);
    border-radius: var(--r-pill);
    border: var(--border-1) solid var(--border-soft);
    background: color-mix(in srgb, var(--surface) 75%, var(--bg));
    font-size: var(--fs-1);
    color: var(--muted);
    white-space: nowrap;
  }

  .badge--brand {
    color: color-mix(in srgb, var(--brand) 70%, var(--text));
    background: color-mix(in srgb, var(--brand) 18%, transparent);
    border-color: color-mix(in srgb, var(--brand) 22%, transparent);
  }

  /* Media */
  .media {
    aspect-ratio: 16 / 9;
    background: color-mix(in srgb, var(--surface-2) 70%, var(--bg));
    border-radius: var(--r-3);
    overflow: clip;
  }

  .media > :where(img, video) {
    inline-size: 100%;
    block-size: 100%;
    object-fit: cover;
  }

  /* Dialog (fallback styles apply everywhere) */
  .dialog {
    border-radius: var(--r-3);
    border: var(--border-1) solid var(--border-soft);
    background: var(--surface);
    box-shadow: var(--shadow-2);
  }
  .dialog__body { padding: var(--space-5); }
  .dialog__footer {
    padding: var(--space-4);
    border-top: var(--border-1) solid var(--border-soft);
    display: flex;
    justify-content: flex-end;
    gap: var(--space-3);
  }
}

/* --------------------------------------------
   6) Motion (View Transitions, Animations, Motion Safety)
-------------------------------------------- */
@layer motion {
  /* Motion reduction gating per improve-1.md:
     - OS preference: @media (prefers-reduced-motion: reduce)
     - App override: [data-motion="reduced"] */
  
  /* View Transitions (progressive enhancement) */
  @supports (view-transition-name: vt-hero) {
    .vt-hero { view-transition-name: vt-hero; }
  }

  /* Scroll-driven animations (progressive enhancement) */
  @supports (animation-timeline: view()) {
    .reveal-on-scroll {
      animation: fade-in linear both;
      animation-timeline: view();
      animation-range: entry 10% cover 35%;
    }

    @keyframes fade-in {
      from { opacity: 0; transform: translateY(8px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    /* Respect OS preference OR app-level override */
    @media (prefers-reduced-motion: reduce) {
      .reveal-on-scroll { animation: none; }
    }
    [data-motion-mode="reduced"] .reveal-on-scroll {
      animation: none;
    }
  }

  /* Anchor Positioning (frontier, guardrails)
     Gate on the actual properties used. Fallback is static flow layout. */
  @supports (position-anchor: --anchor) and (inset-area: bottom) {
    .anchor {
      anchor-name: --anchor;
    }
    .anchored-popover {
      position: absolute;
      position-anchor: --anchor;
      inset-area: bottom;
      margin-block-start: var(--space-2);
    }
  }
  @supports not ((position-anchor: --anchor) and (inset-area: bottom)) {
    .anchored-popover {
      position: static;
      margin-block-start: var(--space-2);
    }
  }

  /* @scope (frontier, guardrails)
     Fallback styles live in @layer components. This block only narrows spill when supported.
     Note: there isn't a perfect @supports gate for @scope everywhere, so we keep it additive. */
  @supports (selector(:is(*))) {
    @scope (.dialog) to (.dialog__footer) {
      :scope {
        border-radius: var(--r-3);
        border: var(--border-1) solid var(--border-soft);
        background: var(--surface);
        box-shadow: var(--shadow-2);
      }
      .dialog__body { padding: var(--space-5); }
      .dialog__footer {
        padding: var(--space-4);
        border-top: var(--border-1) solid var(--border-soft);
        display: flex;
        justify-content: flex-end;
        gap: var(--space-3);
      }
    }
  }
}

/* --------------------------------------------
   7) Utilities (small, composable helpers)
-------------------------------------------- */
@layer utilities {
  /* Visually hidden but accessible */
  .sr-only {
    position: absolute;
    inline-size: 1px;
    block-size: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0 0 0 0);
    clip-path: inset(50%);
    white-space: nowrap;
    border: 0;
  }

  .flow > * + * { margin-block-start: var(--space-4); }

  .muted { color: var(--muted); }
  .mono { font-family: var(--font-mono); }

  .surface {
    background: var(--surface);
    border: var(--border-1) solid var(--border-soft);
    border-radius: var(--r-3);
  }

  .shadow-1 { box-shadow: var(--shadow-1); }
  .shadow-2 { box-shadow: var(--shadow-2); }

  .center {
    display: grid;
    place-items: center;
  }

  .truncate {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  .nowrap { white-space: nowrap; }

  /* Safe spacing utilities using tokens */
  .p-4 { padding: var(--space-4); }
  .p-5 { padding: var(--space-5); }
  .px-4 { padding-inline: var(--space-4); }
  .py-3 { padding-block: var(--space-3); }
  .gap-3 { gap: var(--space-3); }
  .gap-4 { gap: var(--space-4); }

  /* Simple responsive switcher using container queries */
  .switcher {
    container-type: inline-size;
    display: grid;
    gap: var(--space-4);
  }
  @container (min-width: 42rem) {
    .switcher { grid-template-columns: 1fr 1fr; align-items: start; }
  }
}

/* --------------------------------------------
   8) Overrides (keep mostly empty, last-resort only)
-------------------------------------------- */
@layer overrides {
  /* Example: emergency patch region */
  /* .some-legacy-thing { ... } */
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/history/[workoutId]/page.tsx
```
"use client";

import { useParams } from "next/navigation";
import { useMemo } from "react";
import HeaderBar from "../../shared/components/HeaderBar";
import BackButton from "../../shared/components/BackButton";
import { getWorkoutStats, makeWorkoutViewSelector } from "../../../store/selectors/sessionSelectors";
import { useCatalogShallow } from "../../../store/useCatalogStore";
import { useSessionStore } from "../../../store/useSessionStore";
import { useUiShallow } from "../../../store/useUiStore";
import { formatDate, formatKg, formatLb, formatTime } from "../../../app/shared/lib/utils";

export default function WorkoutDetailPage() {
  const params = useParams<{ workoutId: string }>();
  const workoutSelector = useMemo(() => makeWorkoutViewSelector(params.workoutId), [params.workoutId]);
  const workout = useSessionStore(workoutSelector);
  const { programs, exercises } = useCatalogShallow((state) => ({
    programs: state.programs,
    exercises: state.exercises,
  }));
  const { vtHero } = useUiShallow((state) => ({ vtHero: state.vtHero }));
  const program = useMemo(
    () => (workout ? programs.find((item) => item.id === workout.programId) : undefined),
    [programs, workout]
  );

  if (!workout) {
    return (
      <div className="page container">
        <p>Workout not found.</p>
      </div>
    );
  }

  const { totalVolume } = getWorkoutStats(workout);
  const programName = program?.name ?? "Deleted program";

  return (
    <div className="page container">
      <HeaderBar title="Workout Detail" />
      <BackButton />

      <div className={`card ${vtHero?.type === "history" && vtHero.id === workout.id ? "vt-hero" : ""}`}>
        <div className="card__body">
          <h2 className="card__title">{programName}</h2>
          <p className="card__meta">
            {formatDate(workout.endedAt ?? workout.startedAt)} - {formatTime(workout.endedAt ?? workout.startedAt)}
          </p>
          <div className="cluster">
            <span className="badge">{formatKg(totalVolume)} kg</span>
            <span className="badge">{formatLb(totalVolume)} lb</span>
          </div>
        </div>
      </div>

      <section className="stack">
        {workout.entries.map((entry) => {
          const exercise = exercises.find((item) => item.id === entry.exerciseId);
          if (!exercise) return null;
          return (
            <div key={entry.exerciseId} className="card">
              <div className="card__body">
                <div className="cluster cluster--between">
                  <h3 className="card__title">{exercise.name}</h3>
                  <span className="badge">{exercise.type}</span>
                </div>
                <div className="stack">
                  {entry.sets.map((set) => (
                    <div key={set.id} className="set-row set-row--static">
                      <div>
                        <div className="set-row__kg">{formatKg(set.weightKg)} kg</div>
                        <div className="set-row__lb muted">{formatLb(set.weightKg)} lb</div>
                      </div>
                      <div className="set-row__reps">
                        <span className="set-row__reps-value">{set.reps}</span>
                        <span className="set-row__reps-label muted">reps</span>
                      </div>
                    </div>
                  ))}
                </div>
              </div>
            </div>
          );
        })}
      </section>
    </div>
  );
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/history/page.tsx
```
"use client";

import HeaderBar from "../shared/components/HeaderBar";
import VtLink from "../shared/components/VtLink";
import { useMemo } from "react";
import { useCatalogShallow } from "../../store/useCatalogStore";
import { useSessionShallow } from "../../store/useSessionStore";
import { useUiShallow } from "../../store/useUiStore";
import type { SetEntry, Workout, WorkoutEntry } from "../../types/gym";
import { formatDate, formatKg } from "../../app/shared/lib/utils";
import { getWorkoutStats } from "../../store/selectors/sessionSelectors";

export default function HistoryPage() {
  const { programs } = useCatalogShallow((state) => ({ programs: state.programs }));
  const { setVtHero, vtHero } = useUiShallow((state) => ({
    setVtHero: state.setVtHero,
    vtHero: state.vtHero,
  }));
  const { workoutIds, workoutsById, entriesById, entryIdsByWorkoutId, setIdsByEntryId, setsById } =
    useSessionShallow((state) => ({
      workoutIds: state.workoutIds,
      workoutsById: state.workoutsById,
      entriesById: state.entriesById,
      entryIdsByWorkoutId: state.entryIdsByWorkoutId,
      setIdsByEntryId: state.setIdsByEntryId,
      setsById: state.setsById,
    }));

  const completed = useMemo<Workout[]>(() => {
    return workoutIds
      .map((workoutId) => {
        const workout = workoutsById[workoutId];
        if (!workout || !workout.endedAt) return null;
        const entryIds = entryIdsByWorkoutId[workoutId] ?? [];
        const entries = entryIds
          .map((entryId) => {
            const entry = entriesById[entryId];
            if (!entry) return null;
            const setIds = setIdsByEntryId[entryId] ?? [];
            const sets = setIds
              .map((setId) => setsById[setId])
              .filter((set): set is SetEntry => Boolean(set));
            return { exerciseId: entry.exerciseId, suggested: entry.suggested, sets };
          })
          .filter((entry): entry is WorkoutEntry => Boolean(entry));
        return { ...workout, entries };
      })
      .filter((workout): workout is Workout => Boolean(workout));
  }, [workoutIds, workoutsById, entryIdsByWorkoutId, entriesById, setIdsByEntryId, setsById]);

  const grouped = useMemo(() => {
    return completed.reduce<Record<string, Workout[]>>((acc, workout) => {
      const dateKey = new Date(workout.endedAt ?? workout.startedAt).toDateString();
      acc[dateKey] = acc[dateKey] ? [...acc[dateKey], workout] : [workout];
      return acc;
    }, {});
  }, [completed]);

  const programById = useMemo(() => new Map(programs.map((program) => [program.id, program])), [programs]);

  const volumeByWorkoutId = useMemo(() => {
    return new Map(completed.map((workout) => [workout.id, getWorkoutStats(workout).totalVolume]));
  }, [completed]);

  return (
    <div className="page container">
      <HeaderBar title="History" />

      <div className="stack virtual-list">
        {Object.entries(grouped).map(([dateKey, items]) => (
          <section key={dateKey} className="page__section">
            <h2 className="card__title">{formatDate(new Date(dateKey).getTime())}</h2>
            <div className="stack">
              {items.map((workout) => {
                const program = programById.get(workout.programId);
                const volume = volumeByWorkoutId.get(workout.id) ?? 0;
                return (
                  <VtLink
                    key={workout.id}
                    href={`/history/${workout.id}`}
                    className={`card program-card ${
                      vtHero?.type === "history" && vtHero.id === workout.id ? "vt-hero" : ""
                    }`}
                    onClick={() => setVtHero({ type: "history", id: workout.id })}
                  >
                    <div className="card__body">
                      <div className="program-card__header">
                        <h3 className="card__title">{program?.name ?? "Workout"}</h3>
                        <span className="badge">{formatKg(volume)} kg</span>
                      </div>
                      <p className="card__meta">{formatDate(workout.endedAt ?? workout.startedAt)}</p>
                    </div>
                  </VtLink>
                );
              })}
            </div>
          </section>
        ))}
        {completed.length === 0 ? <p className="muted">No workouts yet.</p> : null}
      </div>
    </div>
  );
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/layout.tsx
```
import type { Metadata, Viewport } from "next";
import "./globals.css";
import "./ui.css";
import "./motion.css";
import AppShell from "./shared/components/AppShell";
import AppStoreProvider from "../store/AppStoreProvider";

export const metadata: Metadata = {
  title: "Gym Runner",
  description: "Offline-first workout runner for strength training.",
  manifest: "/manifest.webmanifest",
  applicationName: "Gym Runner",
  appleWebApp: {
    capable: true,
    statusBarStyle: "default",
    title: "Gym Runner",
  },
};

export const viewport: Viewport = {
  themeColor: "#f7f8fb",
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en">
      <body>
        <AppStoreProvider>
          <AppShell>{children}</AppShell>
        </AppStoreProvider>
      </body>
    </html>
  );
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/manifest.ts
```
import type { MetadataRoute } from "next";

export default function manifest(): MetadataRoute.Manifest {
  return {
    name: "Gym Runner",
    short_name: "Gym Runner",
    description: "Offline-first workout runner for strength training.",
    start_url: "/",
    display: "standalone",
    background_color: "#f7f8fb",
    theme_color: "#f7f8fb",
    icons: [
      {
        src: "/icon-192.png",
        sizes: "192x192",
        type: "image/png",
      },
      {
        src: "/icon-512.png",
        sizes: "512x512",
        type: "image/png",
      },
    ],
  };
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/motion.css
```
/**
 * Motion styles: View Transitions, animations, and reduced motion overrides
 * Uses modern CSS View Transitions API with progressive enhancement
 */

/* Page transition fallback animation (when VT not supported) */
@keyframes page-in {
  from { opacity: 0; transform: translateY(6px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Set highlight animation (when set is updated) */
@keyframes set-highlight-fade {
  0% { background: var(--set-highlight-bg, hsl(var(--accent-hsl) / 0.15)); }
  100% { background: transparent; }
}

/* Snackbar entrance animation */
@keyframes snackbar-in {
  from { 
    opacity: 0; 
    transform: translateY(100%) scale(0.96); 
  }
  to { 
    opacity: 1; 
    transform: translateY(0) scale(1); 
  }
}

/* Summary badge entrance animation */
@keyframes summary-badge-in {
  0% { opacity: 0; transform: scale(0.85); }
  50% { opacity: 1; }
  100% { opacity: 1; transform: scale(1); }
}

/* Summary stats floating animation */
@keyframes stats-float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-2px); }
}

/* Reduced motion overrides - disable all animations */
@media (prefers-reduced-motion: reduce) {
  [data-motion-mode="reduced"] .route-view[data-anim="enter"],
  [data-motion-mode="reduced"] .snackbar,
  [data-motion-mode="reduced"] .set-row--highlight,
  [data-motion-mode="reduced"] .summary-stats,
  [data-motion-mode="reduced"] .summary-page__badge,
  [data-motion-mode="reduced"] .sheet__panel,
  [data-motion-mode="reduced"] .sheet__backdrop {
    animation: none;
  }
}

/* View Transition styles for motion themes (scoped via html[data-vt][data-motion-style]) */
@supports (view-transition-name: test) {
  /* Ensure proper stacking order during transitions */
  ::view-transition-group(main-content) {
    z-index: 1;
  }
  
  ::view-transition-group(vt-hero) {
    z-index: 2;
  }
  
  ::view-transition-group(bottom-nav) {
    z-index: 100;
  }
  
  @media (prefers-reduced-motion: no-preference) {
    /* LIFT - Powerful upward motion with scale (gym strength aesthetic) */
    html[data-vt="true"][data-motion-style="lift"]::view-transition-old(main-content),
    html[data-vt="true"][data-motion-style="lift"]::view-transition-new(main-content) {
      animation-duration: 300ms;
      animation-timing-function: cubic-bezier(0.4, 0.0, 0.2, 1);
      animation-fill-mode: both;
    }

    html[data-vt="true"][data-motion-style="lift"]::view-transition-old(main-content) {
      animation-name: vt-lift-old;
    }
    html[data-vt="true"][data-motion-style="lift"]::view-transition-new(main-content) {
      animation-name: vt-lift-new;
    }

    @keyframes vt-lift-old {
      from { opacity: 1; transform: translateY(0) scale(1); }
      to { opacity: 0; transform: translateY(-20px) scale(0.96); }
    }
    @keyframes vt-lift-new {
      from { opacity: 0; transform: translateY(30px) scale(0.94); }
      to { opacity: 1; transform: translateY(0) scale(1); }
    }

    /* SLIDE - Smooth horizontal glide with depth (directional navigation) */
    html[data-vt="true"][data-motion-style="slide"][data-nav="forward"]::view-transition-old(main-content) {
      animation-name: vt-slide-old-forward;
      animation-duration: 280ms;
      animation-timing-function: cubic-bezier(0.4, 0.0, 0.2, 1);
    }
    html[data-vt="true"][data-motion-style="slide"][data-nav="forward"]::view-transition-new(main-content) {
      animation-name: vt-slide-new-forward;
      animation-duration: 280ms;
      animation-timing-function: cubic-bezier(0.0, 0.0, 0.2, 1);
    }

    html[data-vt="true"][data-motion-style="slide"][data-nav="back"]::view-transition-old(main-content) {
      animation-name: vt-slide-old-back;
      animation-duration: 280ms;
      animation-timing-function: cubic-bezier(0.4, 0.0, 1, 1);
    }
    html[data-vt="true"][data-motion-style="slide"][data-nav="back"]::view-transition-new(main-content) {
      animation-name: vt-slide-new-back;
      animation-duration: 280ms;
      animation-timing-function: cubic-bezier(0.0, 0.0, 0.2, 1);
    }

    @keyframes vt-slide-old-forward { 
      from { opacity: 1; transform: translateX(0) scale(1); } 
      to { opacity: 0; transform: translateX(-25%) scale(0.9); } 
    }
    @keyframes vt-slide-new-forward { 
      from { opacity: 0; transform: translateX(100%) scale(1.05); } 
      to { opacity: 1; transform: translateX(0) scale(1); } 
    }
    @keyframes vt-slide-old-back { 
      from { opacity: 1; transform: translateX(0) scale(1); } 
      to { opacity: 0; transform: translateX(100%) scale(1.05); } 
    }
    @keyframes vt-slide-new-back { 
      from { opacity: 0; transform: translateX(-25%) scale(0.9); } 
      to { opacity: 1; transform: translateX(0) scale(1); } 
    }

    /* SPRING - Energetic bounce with overshoot (motivational gym energy) */
    html[data-vt="true"][data-motion-style="spring"]::view-transition-old(main-content) {
      animation-name: vt-spring-old;
      animation-duration: 250ms;
      animation-timing-function: cubic-bezier(0.4, 0.0, 1, 1);
    }
    html[data-vt="true"][data-motion-style="spring"]::view-transition-new(main-content) {
      animation-name: vt-spring-new;
      animation-duration: 350ms;
      animation-timing-function: cubic-bezier(0.2, 1.2, 0.3, 1);
    }

    @keyframes vt-spring-old { 
      from { opacity: 1; transform: scale(1) rotate(0deg); } 
      to { opacity: 0; transform: scale(0.85) rotate(-2deg); } 
    }
    @keyframes vt-spring-new { 
      0% { opacity: 0; transform: scale(0.88) translateY(8px); } 
      50% { opacity: 1; } 
      100% { opacity: 1; transform: scale(1) translateY(0); } 
    }

    /* Hero variants: respect selected motion style */
    html[data-vt="true"][data-motion-style="lift"]::view-transition-old(vt-hero) { animation: vt-lift-old 300ms both; }
    html[data-vt="true"][data-motion-style="lift"]::view-transition-new(vt-hero) { animation: vt-lift-new 300ms both; }

    html[data-vt="true"][data-motion-style="slide"][data-nav="forward"]::view-transition-old(vt-hero) { animation: vt-slide-old-forward 280ms both; }
    html[data-vt="true"][data-motion-style="slide"][data-nav="forward"]::view-transition-new(vt-hero) { animation: vt-slide-new-forward 280ms both; }

    html[data-vt="true"][data-motion-style="slide"][data-nav="back"]::view-transition-old(vt-hero) { animation: vt-slide-old-back 280ms both; }
    html[data-vt="true"][data-motion-style="slide"][data-nav="back"]::view-transition-new(vt-hero) { animation: vt-slide-new-back 280ms both; }

    html[data-vt="true"][data-motion-style="spring"]::view-transition-old(vt-hero) { animation: vt-spring-old 250ms both; }
    html[data-vt="true"][data-motion-style="spring"]::view-transition-new(vt-hero) { animation: vt-spring-new 350ms both; }
  }
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/offline/page.tsx
```
export default function OfflinePage() {
  return (
    <div className="page container">
      <h1 className="card__title">You are offline</h1>
      <p className="muted">The app shell is ready. You can keep logging workouts.</p>
    </div>
  );
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/page.module.css
```
.page {
  --background: #fafafa;
  --foreground: #fff;

  --text-primary: #000;
  --text-secondary: #666;

  --button-primary-hover: #383838;
  --button-secondary-hover: #f2f2f2;
  --button-secondary-border: #ebebeb;

  display: flex;
  min-height: 100vh;
  align-items: center;
  justify-content: center;
  font-family: var(--font-geist-sans);
  background-color: var(--background);
}

.main {
  display: flex;
  min-height: 100vh;
  width: 100%;
  max-width: 800px;
  flex-direction: column;
  align-items: flex-start;
  justify-content: space-between;
  background-color: var(--foreground);
  padding: 120px 60px;
}

.intro {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  text-align: left;
  gap: 24px;
}

.intro h1 {
  max-width: 320px;
  font-size: 40px;
  font-weight: 600;
  line-height: 48px;
  letter-spacing: -2.4px;
  text-wrap: balance;
  color: var(--text-primary);
}

.intro p {
  max-width: 440px;
  font-size: 18px;
  line-height: 32px;
  text-wrap: balance;
  color: var(--text-secondary);
}

.intro a {
  font-weight: 500;
  color: var(--text-primary);
}

.ctas {
  display: flex;
  flex-direction: row;
  width: 100%;
  max-width: 440px;
  gap: 16px;
  font-size: 14px;
}

.ctas a {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 40px;
  padding: 0 16px;
  border-radius: 128px;
  border: 1px solid transparent;
  transition: 0.2s;
  cursor: pointer;
  width: fit-content;
  font-weight: 500;
}

a.primary {
  background: var(--text-primary);
  color: var(--background);
  gap: 8px;
}

a.secondary {
  border-color: var(--button-secondary-border);
}

/* Enable hover only on non-touch devices */
@media (hover: hover) and (pointer: fine) {
  a.primary:hover {
    background: var(--button-primary-hover);
    border-color: transparent;
  }

  a.secondary:hover {
    background: var(--button-secondary-hover);
    border-color: transparent;
  }
}

@media (max-width: 600px) {
  .main {
    padding: 48px 24px;
  }

  .intro {
    gap: 16px;
  }

  .intro h1 {
    font-size: 32px;
    line-height: 40px;
    letter-spacing: -1.92px;
  }
}

@media (prefers-color-scheme: dark) {
  .logo {
    filter: invert();
  }

  .page {
    --background: #000;
    --foreground: #000;

    --text-primary: #ededed;
    --text-secondary: #999;

    --button-primary-hover: #ccc;
    --button-secondary-hover: #1a1a1a;
    --button-secondary-border: #1a1a1a;
  }
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/page.tsx
```
"use client";

import { useRouter } from "next/navigation";
import HeaderBar from "./shared/components/HeaderBar";
import ProgramCard from "./features/programs/components/ProgramCard";
import { useCatalogShallow } from "../store/useCatalogStore";
import { useSessionShallow, useSessionStoreApi } from "../store/useSessionStore";
import { useUiShallow, useUiStoreApi } from "../store/useUiStore";
import { navigateWithTransition } from "../app/shared/lib/navigation";
import { formatTime } from "../app/shared/lib/utils";

export default function TodayPage() {
  const router = useRouter();
  const { programs } = useCatalogShallow((state) => ({ programs: state.programs }));
  const { activeWorkoutId, workoutsById } = useSessionShallow((state) => ({
    activeWorkoutId: state.activeWorkoutId,
    workoutsById: state.workoutsById,
  }));
  const sessionStore = useSessionStoreApi();
  const { vtHero } = useUiShallow((state) => ({ vtHero: state.vtHero }));
  const uiStore = useUiStoreApi();

  const activeWorkout = activeWorkoutId ? workoutsById[activeWorkoutId] : undefined;
  const activeProgram = activeWorkout
    ? programs.find((program) => program.id === activeWorkout.programId)
    : undefined;
  const activeProgramName = activeProgram?.name ?? "Deleted program";

  const handleStart = (programId: string) => {
    const workoutId = sessionStore.getState().startWorkout(programId);
    if (!workoutId) return;
    uiStore.getState().setVtHero({ type: "program", id: programId });
    navigateWithTransition(router, `/workout/${workoutId}`);
  };

  const handleResume = () => {
    if (!activeWorkout) return;
    uiStore.getState().setVtHero({ type: "program", id: activeWorkout.programId });
    navigateWithTransition(router, `/workout/${activeWorkout.id}`);
  };

  return (
    <div className="page container">
      <HeaderBar title="Today" />

      {activeWorkout ? (
        <div className="resume-card">
          <button
            type="button"
            className={`card program-card ${
              vtHero?.type === "program" && activeProgram && vtHero.id === activeProgram.id ? "vt-hero" : ""
            }`}
            onClick={handleResume}
          >
            <div className="card__body">
              <div className="program-card__header">
                <h3 className="card__title">Resume {activeProgramName}</h3>
                <span className="badge badge--brand">Active</span>
              </div>
              <p className="card__meta">Started {formatTime(activeWorkout.startedAt)}</p>
            </div>
          </button>
        </div>
      ) : null}

      <section className="page__section">
        <h2 className="card__title">Programs</h2>
        <div className="stack virtual-list">
          {programs.map((program) => (
            <ProgramCard
              key={program.id}
              program={program}
              meta={`${program.exerciseIds.length} exercises`}
              onClick={() => handleStart(program.id)}
              actionLabel="Start"
              hero={vtHero?.type === "program" && vtHero.id === program.id}
            />
          ))}
          {programs.length === 0 ? (
            <div className="card">
              <div className="card__body">
                <p>No programs yet. Build one to get moving.</p>
                <button
                  type="button"
                  className="btn btn--primary"
                  onClick={() => navigateWithTransition(router, "/programs")}
                >
                  Create a program
                </button>
              </div>
            </div>
          ) : null}
        </div>
      </section>
    </div>
  );
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/programs/[programId]/page.tsx
```
"use client";

import { useParams } from "next/navigation";
import { useState } from "react";
import HeaderBar from "../../shared/components/HeaderBar";
import BackButton from "../../shared/components/BackButton";
import type { Command } from "../../../commands/types";
import { useCatalogShallow, useCatalogStoreApi } from "../../../store/useCatalogStore";
import { useUiStoreApi } from "../../../store/useUiStore";
import { TrashIcon } from "../../shared/components/icons/TrashIcon";

export default function ProgramDetailPage() {
  const params = useParams<{ programId: string }>();
  const { program, exercises } = useCatalogShallow((state) => ({
    program: state.programs.find((item) => item.id === params.programId),
    exercises: state.exercises,
  }));
  const catalogStore = useCatalogStoreApi();
  const uiStore = useUiStoreApi();
  const { updateProgram, reorderProgramExercise, moveProgramExercise, removeExerciseFromProgram } =
    catalogStore.getState();
  const { openSearchExercise, openConfirm } = uiStore.getState();

  const [dragId, setDragId] = useState<string | null>(null);

  if (!program) {
    return (
      <div className="page">
        <p>Program not found.</p>
      </div>
    );
  }

  const orderedExercises = program.exerciseIds
    .map((id) => exercises.find((exercise) => exercise.id === id))
    .filter((exercise): exercise is NonNullable<typeof exercise> => Boolean(exercise));

  return (
    <div className="page container">
      <HeaderBar title="Program" subtitle={<span className="muted">{program.name}</span>} />
      <BackButton />

      <div className="card">
        <div className="card__body stack">
          <div className="field">
            <label className="label" htmlFor="program-name">
              Name
            </label>
            <input
              id="program-name"
              className="input"
              value={program.name}
              onChange={(event) => updateProgram(program.id, { name: event.target.value })}
            />
          </div>
          <div className="field">
            <label className="label" htmlFor="program-note">
              Note
            </label>
            <textarea
              id="program-note"
              className="textarea"
              value={program.note ?? ""}
              onChange={(event) => updateProgram(program.id, { note: event.target.value })}
            />
          </div>
        </div>
      </div>

      <section className="page__section">
        <div className="cluster cluster--between">
          <h2 className="card__title">Exercises</h2>
          <button type="button" className="btn btn--ghost" onClick={() => openSearchExercise({ programId: program.id })}>
            + Add
          </button>
        </div>

        <div className="stack virtual-list">
          {orderedExercises.map((exercise) => (
            <div
              key={exercise.id}
              className="card"
              draggable
              onDragStart={() => setDragId(exercise.id)}
              onDragEnd={() => setDragId(null)}
              onDragOver={(event) => event.preventDefault()}
              onDrop={() => {
                if (!dragId || dragId === exercise.id) return;
                reorderProgramExercise(program.id, dragId, exercise.id);
                setDragId(null);
              }}
            >
              <div className="card__body stack">
                <div className="cluster cluster--between">
                  <div>
                    <h3 className="card__title">{exercise.name}</h3>
                    <p className="card__meta">{exercise.type}</p>
                  </div>
                  <span className="badge">Drag</span>
                </div>
                <div className="cluster">
                  <button
                    type="button"
                    className="btn"
                    aria-label={`Move ${exercise.name} up`}
                    onClick={() => moveProgramExercise(program.id, exercise.id, "up")}
                  >
                    Up
                  </button>
                  <button
                    type="button"
                    className="btn"
                    aria-label={`Move ${exercise.name} down`}
                    onClick={() => moveProgramExercise(program.id, exercise.id, "down")}
                  >
                    Down
                  </button>
                  <button
                    type="button"
                    className="btn btn--ghost"
                    aria-label={`Remove ${exercise.name}`}
                    onClick={() => removeExerciseFromProgram(program.id, exercise.id)}
                  >
                    Remove
                  </button>
                </div>
              </div>
            </div>
          ))}
          {orderedExercises.length === 0 ? <p className="muted">Add exercises to define the order.</p> : null}
        </div>
      </section>

      <section className="page__section">
        <div className="card">
          <div className="card__body stack">
            <div>
              <h2 className="card__title">Danger zone</h2>
              <p className="card__meta">Deleting a program keeps your workout history intact.</p>
            </div>
            <button
              type="button"
              className="btn btn--danger"
              onClick={() => {
                const command: Command = {
                  type: "DELETE_PROGRAM",
                  payload: { programId: program.id, navigateTo: "/programs" },
                };
                openConfirm({
                  title: "Delete program?",
                  message: "This removes the program from your list. Workouts already logged stay in history.",
                  confirmLabel: "Delete program",
                  tone: "danger",
                  command,
                });
              }}
            >
              <TrashIcon size="sm" />
              <span>Delete program</span>
            </button>

          </div>
        </div>
      </section>
    </div>
  );
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/programs/page.tsx
```
"use client";

import { useRouter } from "next/navigation";
import HeaderBar from "../shared/components/HeaderBar";
import ProgramCard from "../features/programs/components/ProgramCard";
import { useCatalogShallow, useCatalogStoreApi } from "../../store/useCatalogStore";
import { navigateWithTransition } from "../../app/shared/lib/navigation";

export default function ProgramsPage() {
  const router = useRouter();
  const { programs } = useCatalogShallow((state) => ({ programs: state.programs }));
  const catalogStore = useCatalogStoreApi();

  const handleNewProgram = () => {
    const id = catalogStore.getState().createProgram();
    navigateWithTransition(router, `/programs/${id}`);
  };

  return (
    <div className="page container">
      <HeaderBar title="Programs" />

      <div className="stack virtual-list">
        {programs.map((program) => (
          <ProgramCard
            key={program.id}
            program={program}
            meta={`${program.exerciseIds.length} exercises`}
            href={`/programs/${program.id}`}
            actionLabel="Edit"
          />
        ))}
      </div>

      <button type="button" className="btn btn--primary fab" onClick={handleNewProgram}>
        +
      </button>
    </div>
  );
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/settings/page.tsx
```
"use client";

import HeaderBar from "../shared/components/HeaderBar";
import { useAppActions } from "../../store/useAppActions";
import { useSettingsShallow } from "../../store/useSettingsStore";
import { useUiShallow } from "../../store/useUiStore";
import { formatKg } from "../../app/shared/lib/utils";
import type { Command } from "../../commands/types";

export default function SettingsPage() {
  const { settings, updateSettings } = useSettingsShallow((state) => ({
    settings: state.settings,
    updateSettings: state.updateSettings,
  }));
  const { exportData, importData } = useAppActions();
  const { openConfirm, showSnackbar } = useUiShallow((state) => ({
    openConfirm: state.openConfirm,
    showSnackbar: state.showSnackbar,
  }));
  const { motionStyle, setMotionStyle } = useUiShallow((s) => ({
    motionStyle: s.motionStyle,
    setMotionStyle: s.setMotionStyle,
  }));

  const handleExport = async () => {
    const payload = await exportData();
    const blob = new Blob([JSON.stringify(payload, null, 2)], { type: "application/json" });
    const url = URL.createObjectURL(blob);
    const anchor = document.createElement("a");
    anchor.href = url;
    anchor.download = `gym-export-${Date.now()}.json`;
    anchor.click();
    URL.revokeObjectURL(url);
  };

  const handleImport = async (event: React.ChangeEvent<HTMLInputElement>) => {
    const file = event.target.files?.[0];
    if (!file) return;
    try {
      const text = await file.text();
      const parsed = JSON.parse(text);
      await importData(parsed);
      showSnackbar("Data imported");
    } catch {
      showSnackbar("Import failed");
    } finally {
      event.target.value = "";
    }
  };

  return (
    <div className="page container">
      <HeaderBar title="Settings" />

      <div className="card">
        <div className="card__body stack">
          <div className="field">
            <span className="label">Units preference</span>
            <div className="cluster">
              <button
                type="button"
                className={`btn${settings.unitsPreference === "kg" ? " btn--primary" : ""}`}
                onClick={() => updateSettings({ unitsPreference: "kg" })}
              >
                kg
              </button>
              <button
                type="button"
                className={`btn${settings.unitsPreference === "lb" ? " btn--primary" : ""}`}
                onClick={() => updateSettings({ unitsPreference: "lb" })}
              >
                lb
              </button>
              <span className="badge">kg always visible</span>
            </div>
          </div>

          <div className="field">
            <label className="label" htmlFor="bar-weight">
              Default bar weight
            </label>
            <input
              id="bar-weight"
              className="input"
              inputMode="decimal"
              value={settings.defaultBarWeight}
              onChange={(event) => {
                const next = Number(event.target.value);
                updateSettings({ defaultBarWeight: Number.isFinite(next) ? next : 0 });
              }}
            />
            <span className="help">Current: {formatKg(settings.defaultBarWeight)} kg</span>
          </div>

          <div className="field">
            <span className="label">Animations</span>
            <div className="cluster">
              <button
                type="button"
                className={`btn${motionStyle === "lift" ? " btn--primary" : ""}`}
                onClick={() => setMotionStyle("lift")}
              >
                💪 Lift
              </button>
              <button
                type="button"
                className={`btn${motionStyle === "slide" ? " btn--primary" : ""}`}
                onClick={() => setMotionStyle("slide")}
              >
                ⚡ Slide
              </button>
              <button
                type="button"
                className={`btn${motionStyle === "spring" ? " btn--primary" : ""}`}
                onClick={() => setMotionStyle("spring")}
              >
                🔥 Spring
              </button>
            </div>
            <span className="help">Choose transition style for route changes</span>
          </div>

          <div className="field">
            <label className="label" htmlFor="reduce-motion">
              <input
                id="reduce-motion"
                type="checkbox"
                checked={settings.reduceMotion ?? false}
                onChange={(e) => updateSettings({ reduceMotion: e.target.checked })}
                style={{ marginRight: "0.5rem" }}
              />
              Reduce motion
            </label>
            <span className="help">Disable all animations and view transitions</span>
          </div>
        </div>
      </div>

      <section className="page__section">
        <h2 className="card__title">Data</h2>
        <div className="stack">
          <button type="button" className="btn" onClick={handleExport}>
            Export JSON
          </button>
          <label className="btn btn--ghost">
            Import JSON
            <input type="file" accept="application/json" onChange={handleImport} hidden />
          </label>
        </div>
      </section>

      <section className="page__section">
        <h2 className="card__title">Danger zone</h2>
        <button
          type="button"
          className="btn btn--danger"
          onClick={() => {
            const command: Command = { type: "RESET_ALL" };
            openConfirm({
              title: "Reset all data?",
              message: "This replaces everything with the default sample data.",
              confirmLabel: "Reset",
              tone: "danger",
              command,
            });
          }}
        >
          Reset all data
        </button>
      </section>
    </div>
  );
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/shared/components/AppShell.tsx
```
"use client";

import { ReactNode, useEffect, useState } from "react";
import { usePathname } from "next/navigation";
import BottomNav from "./BottomNav";
import HydrationGate from "./HydrationGate";
import SheetHost from "./SheetHost";
import Snackbar from "./Snackbar";
import { registerServiceWorker } from "../lib/sw";
import { useMotionMode } from "../lib/useReducedMotion";
import { useUiShallow } from "../../../store/useUiStore";

export default function AppShell({ children }: { children: ReactNode }) {
  const pathname = usePathname();
  const motionMode = useMotionMode();
  const [vtEnabled, setVtEnabled] = useState(false);
  const { motionStyle } = useUiShallow((s) => ({ motionStyle: s.motionStyle }));

  useEffect(() => {
    registerServiceWorker();
  }, []);

  useEffect(() => {
    const enabled = typeof document !== "undefined" && "startViewTransition" in document && motionMode === "full";
    setVtEnabled(enabled);
  }, [motionMode]);

  useEffect(() => {
    if (typeof document !== "undefined") {
      // Set motion style (fade/push/zoom) for view transition animations
      document.documentElement.dataset.motionStyle = motionStyle;
      // Set motion mode (reduced/full) for CSS gating per improve-1.md
      document.documentElement.dataset.motionMode = motionMode;
    }
  }, [motionStyle, motionMode]);

  useEffect(() => {
    if (typeof document !== "undefined") {
      document.documentElement.dataset.vt = vtEnabled ? "true" : "false";
    }
  }, [vtEnabled]);

  return (
    <div className="app-shell">
      <main
        className="app-main route-view"
        data-anim="enter"
        data-vt={vtEnabled ? "true" : "false"}
        data-motion-style={motionStyle}
      >
        <HydrationGate>{children}</HydrationGate>
      </main>
      <BottomNav />
      <SheetHost />
      <Snackbar />
    </div>
  );
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/shared/components/BackButton.tsx
```
"use client";

import { useRouter } from "next/navigation";
import { backWithTransition } from "../lib/navigation";
import { ChevronIcon } from "./icons/ChevronIcon";

export default function BackButton({ label = "Back" }: { label?: string }) {
  const router = useRouter();

  const handle = () => {
    backWithTransition(router);
  };

  return (
    <button type="button" className="back-btn" onClick={handle} aria-label={label}>
      <ChevronIcon size="md" />
    </button>
  );
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/shared/components/BottomNav.tsx
```
"use client";

import type { ReactNode } from "react";
import { usePathname } from "next/navigation";
import VtLink from "./VtLink";
import { CalendarIcon } from "./icons/CalendarIcon";
import { BookIcon } from "./icons/BookIcon";
import { ClockIcon } from "./icons/ClockIcon";
import { GearIcon } from "./icons/GearIcon";

const items: { href: string; label: string; icon: ReactNode }[] = [
  { href: "/", label: "Today", icon: <CalendarIcon className="bottom-nav__icon" /> },
  { href: "/programs", label: "Programs", icon: <BookIcon className="bottom-nav__icon" /> },
  { href: "/history", label: "History", icon: <ClockIcon className="bottom-nav__icon" /> },
  { href: "/settings", label: "Settings", icon: <GearIcon className="bottom-nav__icon" /> },
];

export default function BottomNav() {
  const pathname = usePathname();

  return (
    <nav className="bottom-nav" aria-label="Primary">
      {items.map((item) => {
        const isActive = pathname === item.href || (item.href !== "/" && pathname.startsWith(item.href));
        return (
          <VtLink
            key={item.href}
            href={item.href}
            className="bottom-nav__item"
            ariaCurrent={isActive ? "page" : "false"}
          >
            {item.icon}
            <span className="bottom-nav__label">{item.label}</span>
          </VtLink>
        );
      })}
    </nav>
  );
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/shared/components/BottomSheet.tsx
```
"use client";

import { ReactNode, useEffect, useRef } from "react";
import { useReducedMotion } from "../lib/useReducedMotion";

const getFocusable = (element: HTMLElement | null) => {
  if (!element) return [] as HTMLElement[];
  return Array.from(
    element.querySelectorAll<HTMLElement>(
      "button, [href], input, select, textarea, [tabindex]:not([tabindex='-1'])"
    )
  ).filter((node) => !node.hasAttribute("disabled"));
};

export default function BottomSheet({
  open,
  title,
  children,
  footer,
  onClose,
}: {
  open: boolean;
  title: string;
  children: ReactNode;
  footer?: ReactNode;
  onClose: () => void;
}) {
  const reduceMotion = useReducedMotion();
  const panelRef = useRef<HTMLDivElement>(null);

  useEffect(() => {
    if (!open) return;
    const focusable = getFocusable(panelRef.current);
    focusable[0]?.focus();

    const onKeyDown = (event: KeyboardEvent) => {
      if (event.key === "Escape") {
        event.preventDefault();
        onClose();
        return;
      }

      if (event.key !== "Tab") return;
      const nodes = getFocusable(panelRef.current);
      if (nodes.length === 0) return;
      const first = nodes[0];
      const last = nodes[nodes.length - 1];
      if (event.shiftKey && document.activeElement === first) {
        event.preventDefault();
        last.focus();
      } else if (!event.shiftKey && document.activeElement === last) {
        event.preventDefault();
        first.focus();
      }
    };

    document.addEventListener("keydown", onKeyDown);
    document.body.dataset.sheetOpen = "true";

    return () => {
      document.removeEventListener("keydown", onKeyDown);
      document.body.dataset.sheetOpen = "false";
    };
  }, [open, onClose]);

  return (
    <div
      className="sheet"
      data-open={open ? "true" : "false"}
      data-reduce-motion={reduceMotion}
      aria-hidden={open ? "false" : "true"}
      inert={!open}
    >
      <button type="button" className="sheet__backdrop" aria-label="Close" onClick={onClose} />
      <div
        className="sheet__panel dialog"
        role="dialog"
        aria-modal="true"
        aria-labelledby="sheet-title"
        ref={panelRef}
        onFocusCapture={(event) => {
          const target = event.target as HTMLElement;
          if (target && target.scrollIntoView) {
            target.scrollIntoView({ block: "center", behavior: reduceMotion ? "auto" : "smooth" });
          }
        }}
      >
        <div className="sheet__header">
          <h2 id="sheet-title" className="sheet__title">
            {title}
          </h2>
          <button type="button" className="btn btn--ghost" onClick={onClose}>
            Close
          </button>
        </div>
        <div className="sheet__content">{children}</div>
        {footer ? <div className="sheet__footer">{footer}</div> : null}
      </div>
    </div>
  );
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/shared/components/HeaderBar.tsx
```
"use client";

import { ReactNode } from "react";

export default function HeaderBar({ title, right, subtitle }: { title: string; right?: ReactNode; subtitle?: ReactNode }) {
  return (
    <header className="header-bar">
      <div className="header-bar__text">
        <h1 className="header-bar__title">{title}</h1>
        {subtitle ? <div className="header-bar__subtitle muted">{subtitle}</div> : null}
      </div>
      {right ? <div className="header-bar__action">{right}</div> : null}
    </header>
  );
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/shared/components/HydrationGate.tsx
```
"use client";

import type { ReactNode } from "react";
import { useCatalogStore } from "../../../store/useCatalogStore";
import { useSessionStore } from "../../../store/useSessionStore";
import { useSettingsStore } from "../../../store/useSettingsStore";

type HydrationGateProps = {
  children: ReactNode;
};

export default function HydrationGate({ children }: HydrationGateProps) {
  const settingsHydrated = useSettingsStore((state) => state.hasHydrated);
  const catalogHydrated = useCatalogStore((state) => state.hasHydrated);
  const sessionHydrated = useSessionStore((state) => state.hasHydrated);
  const isHydrated = settingsHydrated && catalogHydrated && sessionHydrated;

  if (!isHydrated) {
    return (
      <div className="page container">
        <div className="card">
          <div className="card__body">
            <p className="muted">Loading your gym data...</p>
          </div>
        </div>
      </div>
    );
  }

  return <>{children}</>;
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/shared/components/SheetHost.tsx
```
"use client";

import EditSetSheet from "../../features/workout/components/EditSetSheet";
import ConfirmSheet from "../../features/settings/components/ConfirmSheet";
import SearchExerciseSheet from "../../features/programs/components/SearchExerciseSheet";

export default function SheetHost() {
  return (
    <>
      <EditSetSheet />
      <ConfirmSheet />
      <SearchExerciseSheet />
    </>
  );
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/shared/components/Snackbar.tsx
```
"use client";

import { useCommandExecutor } from "../../../commands/useCommandExecutor";
import { useUiShallow } from "../../../store/useUiStore";

export default function Snackbar() {
  const { snackbar, hideSnackbar } = useUiShallow((state) => ({
    snackbar: state.snackbar,
    hideSnackbar: state.hideSnackbar,
  }));
  const executeCommand = useCommandExecutor();

  if (!snackbar.open) return null;

  return (
    <div className="snackbar" role="status" aria-live="polite">
      <span>{snackbar.message}</span>
      {snackbar.actionLabel && snackbar.actionCommand ? (
        <button
          type="button"
          className="btn btn--ghost"
          onClick={() => {
            if (snackbar.actionCommand) {
              executeCommand(snackbar.actionCommand);
            }
            hideSnackbar();
          }}
        >
          {snackbar.actionLabel}
        </button>
      ) : null}
    </div>
  );
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/shared/components/VtLink.tsx
```
"use client";

import Link, { LinkProps } from "next/link";
import { MouseEvent, ReactNode } from "react";
import { useRouter } from "next/navigation";
import { useReducedMotion } from "../lib/useReducedMotion";
import { navigateWithTransition } from "../lib/navigation";

type VtLinkProps = LinkProps & {
  className?: string;
  children: ReactNode;
  onClick?: (event: MouseEvent<HTMLAnchorElement>) => void;
  ariaCurrent?: "page" | "true" | "false";
};

export default function VtLink({ href, className, children, onClick, ariaCurrent, ...rest }: VtLinkProps) {
  const router = useRouter();
  const reduceMotion = useReducedMotion();

  const handleClick = (event: MouseEvent<HTMLAnchorElement>) => {
    if (
      event.defaultPrevented ||
      event.metaKey ||
      event.ctrlKey ||
      event.shiftKey ||
      event.altKey ||
      event.button !== 0
    ) {
      return;
    }

    event.preventDefault();
    onClick?.(event);

    // Use centralized navigation helper which applies data-nav and transitions
    navigateWithTransition(router, href.toString());
  };

  return (
    <Link
      href={href}
      className={className}
      onClick={handleClick}
      aria-current={ariaCurrent}
      {...rest}
    >
      {children}
    </Link>
  );
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/shared/components/icons/BookIcon.tsx
```
import type { ComponentProps } from 'react';

type IconSize = 'sm' | 'md' | 'lg';

const sizeMap: Record<IconSize, number> = {
  sm: 16,
  md: 20,
  lg: 24,
};

interface BookIconProps extends Omit<ComponentProps<'svg'>, 'children' | 'viewBox'> {
  size?: IconSize;
}

export function BookIcon({ size = 'md', className, ...props }: BookIconProps) {
  const dimension = sizeMap[size];
  
  return (
    <svg
      viewBox="0 0 24 24"
      width={dimension}
      height={dimension}
      fill="none"
      strokeWidth="2"
      strokeLinecap="round"
      strokeLinejoin="round"
      className={className}
      aria-hidden="true"
      {...props}
    >
      <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20" stroke="currentColor" />
      <path
        d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"
        stroke="currentColor"
      />
    </svg>
  );
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/shared/components/icons/CalendarIcon.tsx
```
import type { ComponentProps } from 'react';

type IconSize = 'sm' | 'md' | 'lg';

const sizeMap: Record<IconSize, number> = {
  sm: 16,
  md: 20,
  lg: 24,
};

interface CalendarIconProps extends Omit<ComponentProps<'svg'>, 'children' | 'viewBox'> {
  size?: IconSize;
}

export function CalendarIcon({ size = 'md', className, ...props }: CalendarIconProps) {
  const dimension = sizeMap[size];
  
  return (
    <svg
      viewBox="0 0 24 24"
      width={dimension}
      height={dimension}
      fill="none"
      strokeWidth="2"
      strokeLinecap="round"
      className={className}
      aria-hidden="true"
      {...props}
    >
      <rect x="3" y="6" width="18" height="15" rx="2" stroke="currentColor" />
      <path d="M3 10h18M8 3v4M16 3v4" stroke="currentColor" />
    </svg>
  );
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/shared/components/icons/CheckIcon.tsx
```
import type { ComponentProps } from 'react';

type IconSize = 'sm' | 'md' | 'lg';

const sizeMap: Record<IconSize, number> = {
  sm: 16,
  md: 20,
  lg: 24,
};

interface CheckIconProps extends Omit<ComponentProps<'svg'>, 'children' | 'viewBox'> {
  size?: IconSize;
}

export function CheckIcon({ size = 'md', className, ...props }: CheckIconProps) {
  const dimension = sizeMap[size];
  
  return (
    <svg
      viewBox="0 0 24 24"
      width={dimension}
      height={dimension}
      fill="none"
      strokeWidth="3"
      strokeLinecap="round"
      strokeLinejoin="round"
      className={className}
      aria-hidden="true"
      {...props}
    >
      <path d="M5 13l4 4L19 7" stroke="currentColor" />
    </svg>
  );
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/shared/components/icons/ChevronIcon.tsx
```
import type { ComponentProps } from 'react';

type IconSize = 'sm' | 'md' | 'lg';

const sizeMap: Record<IconSize, number> = {
  sm: 16,
  md: 20,
  lg: 24,
};

interface ChevronIconProps extends Omit<ComponentProps<'svg'>, 'children' | 'viewBox'> {
  size?: IconSize;
  direction?: 'left' | 'right' | 'up' | 'down';
}

const rotationMap = {
  left: 0,
  up: 90,
  right: 180,
  down: 270,
};

export function ChevronIcon({ size = 'md', direction = 'left', className, style, ...props }: ChevronIconProps) {
  const dimension = sizeMap[size];
  const rotation = rotationMap[direction];
  
  return (
    <svg
      viewBox="0 0 24 24"
      width={dimension}
      height={dimension}
      fill="none"
      strokeWidth="2.5"
      strokeLinecap="round"
      strokeLinejoin="round"
      className={className}
      style={{ ...style, transform: `rotate(${rotation}deg)` }}
      aria-hidden="true"
      {...props}
    >
      <path d="M15 18l-6-6 6-6" stroke="currentColor" />
    </svg>
  );
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/shared/components/icons/ClockIcon.tsx
```
import type { ComponentProps } from 'react';

type IconSize = 'sm' | 'md' | 'lg';

const sizeMap: Record<IconSize, number> = {
  sm: 16,
  md: 20,
  lg: 24,
};

interface ClockIconProps extends Omit<ComponentProps<'svg'>, 'children' | 'viewBox'> {
  size?: IconSize;
}

export function ClockIcon({ size = 'md', className, ...props }: ClockIconProps) {
  const dimension = sizeMap[size];
  
  return (
    <svg
      viewBox="0 0 24 24"
      width={dimension}
      height={dimension}
      fill="none"
      strokeWidth="2"
      strokeLinecap="round"
      className={className}
      aria-hidden="true"
      {...props}
    >
      <circle cx="12" cy="12" r="9" stroke="currentColor" />
      <path d="M12 7v5l3 3" stroke="currentColor" />
    </svg>
  );
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/shared/components/icons/GearIcon.tsx
```
import type { ComponentProps } from 'react';

type IconSize = 'sm' | 'md' | 'lg';

const sizeMap: Record<IconSize, number> = {
  sm: 16,
  md: 20,
  lg: 24,
};

interface GearIconProps extends Omit<ComponentProps<'svg'>, 'children' | 'viewBox'> {
  size?: IconSize;
}

export function GearIcon({ size = 'md', className, ...props }: GearIconProps) {
  const dimension = sizeMap[size];
  
  return (
    <svg
      viewBox="0 0 24 24"
      width={dimension}
      height={dimension}
      fill="none"
      strokeWidth="2"
      strokeLinecap="round"
      strokeLinejoin="round"
      className={className}
      aria-hidden="true"
      {...props}
    >
      <circle cx="12" cy="12" r="3" stroke="currentColor" />
      <path
        d="M12 1v3m0 16v3M4.22 4.22l2.12 2.12m11.32 11.32l2.12 2.12M1 12h3m16 0h3M4.22 19.78l2.12-2.12m11.32-11.32l2.12-2.12"
        stroke="currentColor"
      />
    </svg>
  );
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/shared/components/icons/TrashIcon.tsx
```
import type { ComponentProps } from 'react';

type IconSize = 'sm' | 'md' | 'lg';

const sizeMap: Record<IconSize, number> = {
  sm: 16,
  md: 20,
  lg: 24,
};

interface TrashIconProps extends Omit<ComponentProps<'svg'>, 'children' | 'viewBox'> {
  size?: IconSize;
}

export function TrashIcon({ size = 'md', className, ...props }: TrashIconProps) {
  const dimension = sizeMap[size];
  
  return (
    <svg
      viewBox="0 0 24 24"
      width={dimension}
      height={dimension}
      fill="none"
      strokeWidth="2"
      strokeLinecap="round"
      className={className}
      aria-hidden="true"
      {...props}
    >
      <path d="M9 3h6l1 2h4v2H4V5h4l1-2Z" stroke="currentColor" />
      <path d="M6 7l1 13h10l1-13" stroke="currentColor" />
      <path d="M10 11v6M14 11v6" stroke="currentColor" />
    </svg>
  );
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/shared/components/ui/Button.tsx
```
'use client';

import type { ComponentProps } from 'react';

type ButtonVariant = 'primary' | 'secondary' | 'ghost' | 'danger';
type ButtonSize = 'sm' | 'md' | 'lg';

interface ButtonProps extends ComponentProps<'button'> {
  variant?: ButtonVariant;
  size?: ButtonSize;
}

/**
 * Shared Button component with consistent styling and accessibility.
 * Uses CSS custom properties for theming and maintains 48px tap target minimum.
 * 
 * @param variant - Visual style (primary, secondary, ghost, danger)
 * @param size - Button size (sm: 40px, md: 48px, lg: 56px)
 */
export function Button({
  variant = 'primary',
  size = 'md',
  className = '',
  type = 'button',
  ...props
}: ButtonProps) {
  const variantClass = `button--${variant}`;
  const sizeClass = `button--${size}`;
  
  return (
    <button
      type={type}
      className={`button ${variantClass} ${sizeClass} ${className}`.trim()}
      {...props}
    />
  );
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/shared/lib/debounce.ts
```
/**
 * Creates a debounced scheduler that delays action execution until after
 * a specified delay has elapsed since the last schedule call.
 *
 * @param delayMs - The delay in milliseconds
 * @returns Object with schedule and cancel methods
 *
 * @example
 * const { schedule, cancel } = createDebounced(500);
 * schedule(() => console.log('Executed after 500ms of inactivity'));
 * cancel(); // Cancels the pending execution
 */
export function createDebounced(delayMs: number) {
  let timeout: ReturnType<typeof setTimeout> | null = null;

  const schedule = (action: () => void) => {
    if (timeout) clearTimeout(timeout);
    timeout = setTimeout(() => {
      timeout = null;
      action();
    }, delayMs);
  };

  const cancel = () => {
    if (!timeout) return;
    clearTimeout(timeout);
    timeout = null;
  };

  return { schedule, cancel };
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/shared/lib/navigation.ts
```
import type { AppRouterInstance } from "next/dist/shared/lib/app-router-context.shared-runtime";
import { startViewTransition } from "./viewTransition";

export const navigateWithTransition = (router: AppRouterInstance, href: string) => {
  if (typeof document !== "undefined") {
    // Clean up any existing nav attribute first to ensure correct direction
    document.documentElement.removeAttribute("data-nav");
    // Force reflow to ensure cleanup is applied
    void document.documentElement.offsetHeight;
    document.documentElement.dataset.nav = "forward";
  }
  const maybeT = startViewTransition(() => router.push(href));
  // Clear data-nav after transition finishes
  if (typeof document !== "undefined") {
    try {
      const finished = (maybeT as any)?.finished;
      if (finished instanceof Promise) {
        finished.finally(() => {
          document.documentElement.removeAttribute("data-nav");
        });
      } else {
        queueMicrotask(() => document.documentElement.removeAttribute("data-nav"));
      }
    } catch {
      document.documentElement.removeAttribute("data-nav");
    }
  }
};

export const backWithTransition = (router: AppRouterInstance) => {
  if (typeof document !== "undefined") {
    // Clean up any existing nav attribute first to ensure correct direction
    document.documentElement.removeAttribute("data-nav");
    // Force reflow to ensure cleanup is applied
    void document.documentElement.offsetHeight;
    document.documentElement.dataset.nav = "back";
  }
  const maybeT = startViewTransition(() => router.back());
  // Clear data-nav after transition finishes
  if (typeof document !== "undefined") {
    try {
      const finished = (maybeT as any)?.finished;
      if (finished instanceof Promise) {
        finished.finally(() => {
          document.documentElement.removeAttribute("data-nav");
        });
      } else {
        queueMicrotask(() => document.documentElement.removeAttribute("data-nav"));
      }
    } catch {
      document.documentElement.removeAttribute("data-nav");
    }
  }
};
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/shared/lib/seed.ts
```
import type { Exercise, Program, Settings } from "../../../types/gym";
import { createId } from "./utils";

export const defaultSettings: Settings = {
  unitsPreference: "kg",
  defaultBarWeight: 20,
};

export const seedExercises = (): Exercise[] => {
  return [
    { id: createId(), name: "Back Squat", type: "Barbell", defaultInputMode: "plates" },
    { id: createId(), name: "Bench Press", type: "Barbell", defaultInputMode: "plates" },
    { id: createId(), name: "Deadlift", type: "Barbell", defaultInputMode: "plates" },
    { id: createId(), name: "Lat Pulldown", type: "Machine", defaultInputMode: "total" },
    { id: createId(), name: "Incline Dumbbell Press", type: "Dumbbell", defaultInputMode: "total" },
    { id: createId(), name: "Bulgarian Split Squat", type: "Bodyweight", defaultInputMode: "total" },
  ];
};

export const seedPrograms = (exerciseIds: string[]): Program[] => {
  const [squat, bench, deadlift, lat, incline, split] = exerciseIds;
  return [
    {
      id: createId(),
      name: "Strength A",
      note: "Heavy compounds + back work",
      exerciseIds: [squat, bench, lat],
    },
    {
      id: createId(),
      name: "Strength B",
      note: "Posterior chain focus",
      exerciseIds: [deadlift, incline, split],
    },
  ];
};
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/shared/lib/sw.ts
```
"use client";

export const registerServiceWorker = () => {
  if (typeof window === "undefined") return;
  if (!("serviceWorker" in navigator)) return;

  window.addEventListener("load", () => {
    navigator.serviceWorker.register("/sw.js").catch(() => undefined);
  });
};
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/shared/lib/useReducedMotion.ts
```
"use client";

import { useSyncExternalStore } from "react";
import { useSettingsShallow } from "../../../store/useSettingsStore";

const subscribe = (callback: () => void) => {
  if (typeof window === "undefined") {
    return () => undefined;
  }
  const media = window.matchMedia("(prefers-reduced-motion: reduce)");
  media.addEventListener("change", callback);
  return () => media.removeEventListener("change", callback);
};

const getSnapshot = () => {
  if (typeof window === "undefined") {
    return false;
  }
  return window.matchMedia("(prefers-reduced-motion: reduce)").matches;
};

/** Returns true if OS prefers reduced motion (legacy hook for backward compatibility) */
export const useReducedMotion = () => {
  return useSyncExternalStore(subscribe, getSnapshot, () => false);
};

/**
 * Unified motion mode hook per improve-1.md guidelines.
 * Returns "reduced" if OS prefers reduced motion OR user toggled app setting.
 * Returns "full" otherwise.
 */
export function useMotionMode(): "reduced" | "full" {
  const osPrefers = useSyncExternalStore(subscribe, getSnapshot, () => false);
  const { reduceMotion } = useSettingsShallow((s) => ({ reduceMotion: s.settings.reduceMotion }));
  
  return osPrefers || reduceMotion ? "reduced" : "full";
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/shared/lib/utils.ts
```
export const KG_TO_LB = 2.20462;

export const formatKg = (value: number) => {
  const rounded = Math.round(value * 10) / 10;
  return rounded % 1 === 0 ? String(rounded.toFixed(0)) : rounded.toFixed(1);
};

export const formatLb = (value: number) => {
  const lb = value * KG_TO_LB;
  const rounded = Math.round(lb * 10) / 10;
  return rounded % 1 === 0 ? String(rounded.toFixed(0)) : rounded.toFixed(1);
};

export const formatDate = (timestamp: number, opts?: Intl.DateTimeFormatOptions) => {
  return new Intl.DateTimeFormat("en-US", {
    month: "short",
    day: "numeric",
    year: "numeric",
    ...opts,
  }).format(new Date(timestamp));
};

export const formatTime = (timestamp: number) => {
  return new Intl.DateTimeFormat("en-US", {
    hour: "numeric",
    minute: "2-digit",
  }).format(new Date(timestamp));
};

export const byDateDesc = <T extends { endedAt?: number; startedAt: number }>(a: T, b: T) => {
  const aTime = a.endedAt ?? a.startedAt;
  const bTime = b.endedAt ?? b.startedAt;
  return bTime - aTime;
};

export const createId = () => {
  if (typeof crypto !== "undefined" && "randomUUID" in crypto) {
    return crypto.randomUUID();
  }
  return Math.random().toString(36).slice(2) + Date.now().toString(36);
};

export const clamp = (value: number, min: number, max: number) => {
  return Math.min(max, Math.max(min, value));
};
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/shared/lib/viewTransition.ts
```
export const prefersReducedMotion = () => {
  if (typeof window === "undefined") {
    return false;
  }
  return window.matchMedia("(prefers-reduced-motion: reduce)").matches;
};

/**
 * Starts a view transition with progressive enhancement.
 * Per improve-1.md: For React state updates, wrap them in flushSync inside the action callback.
 * @param action - Callback that performs DOM/state updates. For sync updates, use flushSync internally.
 * @returns ViewTransition object or undefined if not supported/reduced motion
 */
export const startViewTransition = (action: () => void) => {
  if (typeof document === "undefined") {
    action();
    return undefined;
  }

  const reduceMotion = prefersReducedMotion();
  const doc = document as Document & {
    startViewTransition?: (callback: () => void) => { finished?: Promise<void> } | void;
  };

  if (!reduceMotion && doc.startViewTransition) {
    // Note: Callers should wrap React state updates in flushSync inside action()
    // eslint-disable-next-line @typescript-eslint/ban-ts-comment
    // @ts-ignore - host env may augment document
    return doc.startViewTransition(action) as any;
  } else {
    action();
    return undefined;
  }
};
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/ui.css
```
@layer tokens {
  :root {
    --nav-height: 3rem;
    --fab-size: 3.25rem;
    --sheet-max: 34rem;
    --sheet-backdrop: color-mix(in srgb, var(--text) 35%, transparent);
    --snackbar-bg: color-mix(in srgb, var(--surface) 85%, var(--bg));
  }
}

@layer layout {
  .app-shell {
    min-block-size: 100dvh;
  }

  .app-main {
    padding-block: var(--space-5) calc(var(--nav-height) + var(--space-7) + env(safe-area-inset-bottom));
    padding-inline: 0;
    view-transition-name: main-content;
  }

  .page {
    display: grid;
    gap: var(--space-5);
  }

  .page__section {
    display: grid;
    gap: var(--space-4);
  }
}

@layer components {
  .btn {
    min-block-size: var(--tap, 48px);
  }
  body[data-sheet-open="true"] {
    overflow: hidden;
    touch-action: none;
  }

  .route-view[data-vt="false"][data-anim="enter"] {
    animation: page-in var(--dur-2) var(--ease-1);
  }

  .bottom-nav {
    position: fixed;
    inset-block-end: 0;
    inset-inline: 0;
    z-index: 100;
    isolation: isolate;
    view-transition-name: bottom-nav;
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: var(--space-1);
    padding-block: var(--space-2) calc(var(--space-2) + env(safe-area-inset-bottom));
    padding-inline: var(--gutter);
    background: var(--surface);
    border-top: var(--border-1) solid var(--border-soft);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
  }

  @supports (backdrop-filter: blur(1px)) or (-webkit-backdrop-filter: blur(1px)) {
    .bottom-nav {
      background: color-mix(in srgb, var(--surface) 92%, transparent);
    }
  }

  .bottom-nav__item {
    min-block-size: var(--tap, 48px);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 2px;
    border-radius: var(--r-2);
    font-size: 0.6875rem;
    font-weight: 500;
    color: var(--muted);
    transition: color var(--dur-2) var(--ease-1);
    position: relative;
  }

  .bottom-nav__item[aria-current="page"] {
    color: var(--brand);
  }

  .bottom-nav__item[aria-current="page"]::after {
    content: "";
    position: absolute;
    inset-inline: 50%;
    inset-block-end: 0;
    transform: translateX(-50%);
    inline-size: 20px;
    block-size: 3px;
    border-radius: var(--r-pill);
    background: var(--brand);
  }

  .bottom-nav__icon {
    inline-size: 22px;
    block-size: 22px;
    color: currentColor;
  }

  .bottom-nav__label {
    font-weight: 500;
  }

  .header-bar {
    position: sticky;
    inset-block-start: 0;
    z-index: 6;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--space-3);
    padding-block: var(--space-3);
    padding-inline: var(--gutter);
    margin-inline: calc(-1 * var(--gutter));
    background: color-mix(in srgb, var(--bg) 90%, transparent);
    border-bottom: var(--border-1) solid var(--border-soft);
    backdrop-filter: blur(10px);
  }

  .header-bar__title {
    font-size: var(--fs-4);
    line-height: var(--lh-tight);
  }

  .header-bar__subtitle {
    font-size: var(--fs-1);
  }

  /* Back button positioned for right-handed thumb access */
  .back-btn {
    position: fixed;
    inset-block-end: calc(var(--nav-height) + var(--space-4) + env(safe-area-inset-bottom));
    inset-inline-start: var(--gutter);
    z-index: 50;
    min-inline-size: var(--tap, 48px);
    min-block-size: var(--tap, 48px);
    border-radius: var(--r-pill);
    background: var(--surface);
    border: var(--border-1) solid var(--border);
    box-shadow: var(--shadow-2);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2);
    padding-inline: var(--space-3);
    transition: transform var(--dur-press) var(--ease-standard);
  }

  .back-btn:active {
    transform: scale(0.96);
  }

  .program-card {
    display: block;
    inline-size: 100%;
    text-align: left;
    cursor: pointer;
  }

  .program-card .card__body {
    padding: var(--space-4);
    gap: var(--space-3);
  }

  .program-card__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--space-3);
  }

  .program-card__note {
    font-size: var(--fs-1);
  }

  .exercise-card .card__body {
    padding: var(--space-4);
    gap: var(--space-3);
  }

  .exercise-card__sets {
    display: grid;
    gap: var(--space-2);
  }

  .exercise-card__header {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: var(--space-3);
  }

  .exercise-card__add {
    justify-content: center;
    min-block-size: 48px;
  }

  .set-row {
    display: grid;
    grid-template-columns: 1fr auto auto;
    gap: var(--space-3);
    align-items: center;
    padding: var(--space-3);
    border-radius: var(--r-2);
    border: var(--border-1) solid var(--border-soft);
    background: var(--surface-2);
    min-block-size: 56px;
    cursor: pointer;
    transition: transform var(--dur-1) var(--ease-1), opacity var(--dur-1) var(--ease-1);
  }

  .set-row--highlight {
    box-shadow: 0 0 0 2px color-mix(in srgb, var(--brand) 35%, transparent);
    animation: set-highlight-fade var(--dur-2) var(--ease-1) forwards;
  }

  .set-row__edit {
    background: transparent;
    border: none;
    padding: 0;
    display: grid;
    gap: 0.1rem;
    text-align: left;
    min-block-size: 48px;
  }

  .set-row__weight,
  .set-row__reps {
    display: grid;
    gap: 0.1rem;
  }

  .set-row__reps {
    text-align: right;
  }

  .set-row__reps-label {
    font-size: var(--fs-1);
  }

  .set-row__kg {
    font-size: var(--fs-3);
    font-weight: 600;
  }

  .set-row__lb,
  .set-row__plates {
    font-size: var(--fs-1);
  }

  .set-row__reps-value {
    font-size: var(--fs-3);
    font-weight: 600;
  }

  .set-row__meta {
    display: grid;
    gap: var(--space-2);
    justify-items: end;
    align-items: center;
  }

  .set-row--static {
    cursor: default;
    grid-template-columns: 1fr auto;
  }

  .set-row__menu {
    border: var(--border-1) solid transparent;
    background: transparent;
    color: var(--muted);
    min-inline-size: var(--tap, 48px);
    min-block-size: var(--tap, 48px);
    border-radius: var(--r-pill);
    display: grid;
    place-items: center;
    transition:
      transform var(--dur-1) var(--ease-1),
      background-color var(--dur-2) var(--ease-1),
      border-color var(--dur-2) var(--ease-1),
      color var(--dur-2) var(--ease-1);
  }

  .set-row__menu:hover {
    color: var(--danger);
    background: color-mix(in srgb, var(--danger) 12%, transparent);
    border-color: color-mix(in srgb, var(--danger) 35%, transparent);
  }

  .set-row__menu:active {
    transform: scale(0.96);
  }

  .set-row__menu svg {
    inline-size: 18px;
    block-size: 18px;
    transition: transform var(--dur-2) var(--ease-1);
  }

  @media (prefers-reduced-motion: no-preference) {
    .set-row__menu:hover svg {
      transform: rotate(-12deg) scale(1.05);
    }
  }

  .runner-header {
    position: sticky;
    inset-block-start: 0;
    z-index: 7;
    background: color-mix(in srgb, var(--bg) 92%, transparent);
    padding-block: var(--space-3);
    padding-inline: var(--gutter);
    margin-inline: calc(-1 * var(--gutter));
    backdrop-filter: blur(10px);
    border-bottom: var(--border-1) solid var(--border-soft);
  }

  .runner-header__title {
    font-size: var(--fs-3);
    font-weight: 600;
  }

  .runner-header__row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--space-3);
  }

  .sheet {
    position: fixed;
    inset: 0;
    z-index: 110;
    display: grid;
    align-items: end;
    justify-items: center;
  }

  .sheet[data-open="false"] {
    pointer-events: none;
  }

  .sheet__backdrop {
    position: absolute;
    inset: 0;
    background: var(--sheet-backdrop);
    border: none;
    padding: 0;
    opacity: 0;
    transition: opacity var(--dur-2) var(--ease-1);
  }

  .sheet__panel {
    inline-size: min(100%, var(--sheet-max));
    max-block-size: min(80dvh, 100%);
    margin-inline: auto;
    margin-block-end: env(safe-area-inset-bottom);
    border-radius: var(--r-3) var(--r-3) 0 0;
    transform: translateY(20%);
    opacity: 0;
    transition: transform var(--dur-3) var(--ease-2), opacity var(--dur-2) var(--ease-1);
    display: flex;
    flex-direction: column;
    overflow: hidden;
  }

  .sheet[data-open="true"] .sheet__panel {
    transform: translateY(0);
    opacity: 1;
  }

  .sheet[data-open="true"] .sheet__backdrop {
    opacity: 1;
  }

  .sheet__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--space-3);
    padding: var(--space-4);
    border-bottom: var(--border-1) solid var(--border-soft);
  }

  .sheet__title {
    font-size: var(--fs-3);
  }

  .sheet__content {
    padding: var(--space-5);
    display: grid;
    gap: var(--space-4);
    flex: 1;
    min-block-size: 0;
    overflow: auto;
  }

  .sheet__footer {
    padding: var(--space-4);
    border-top: var(--border-1) solid var(--border-soft);
  }

  .sheet__actions {
    display: flex;
    justify-content: flex-end;
    gap: var(--space-3);
  }

  .sheet__list .list-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--space-3);
    padding: var(--space-3);
    border-radius: var(--r-2);
    border: var(--border-1) solid var(--border-soft);
    background: var(--surface-2);
  }

  .stepper {
    display: grid;
    grid-template-columns: auto 1fr auto;
    gap: var(--space-2);
    align-items: center;
  }

  .snackbar {
    position: fixed;
    inset-inline: var(--gutter);
    inset-block-end: calc(var(--nav-height) + var(--space-6) + env(safe-area-inset-bottom));
    z-index: 30;
    background: var(--snackbar-bg);
    border-radius: var(--r-2);
    border: var(--border-1) solid var(--border-soft);
    padding: var(--space-3) var(--space-4);
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--space-3);
    box-shadow: var(--shadow-2);
    animation: snackbar-in var(--dur-2) var(--ease-1);
  }


  .fab {
    position: fixed;
    inset-inline-end: var(--gutter);
    inset-block-end: calc(var(--nav-height) + var(--space-6) + env(safe-area-inset-bottom));
    inline-size: var(--fab-size);
    block-size: var(--fab-size);
    border-radius: 50%;
    display: grid;
    place-items: center;
    z-index: 12;
  }

  .resume-card {
    position: sticky;
    inset-block-start: calc(var(--space-3) + 2.75rem);
    z-index: 5;
  }

  .summary-page {
    padding-block-end: calc(var(--space-6) + env(safe-area-inset-bottom));
  }

  .summary-page__header {
    position: relative;
    padding-block-start: var(--space-2);
  }

  .summary-page__badge {
    inline-size: 48px;
    block-size: 48px;
    border-radius: 50%;
    background: color-mix(in srgb, var(--success) 14%, transparent);
    color: var(--success);
    display: grid;
    place-items: center;
    margin-block-end: var(--space-2);
  }

  .summary-page__badge svg {
    inline-size: 26px;
    block-size: 26px;
  }

  @media (prefers-reduced-motion: no-preference) {
    .summary-page__badge {
      animation: summary-badge-in var(--dur-3) var(--ease-1) both;
    }
  }

  .summary-page__sticky {
    position: sticky;
    inset-block-end: 0;
    padding-block-start: var(--space-6);
    padding-block-end: env(safe-area-inset-bottom);
    background: var(--bg);
  }

  .summary-page__done {
    inline-size: 100%;
  }

  .summary-stats {
    display: grid;
    gap: var(--space-3);
  }

  .summary-stat {
    padding: var(--space-4);
    border-radius: var(--r-2);
    border: var(--border-1) solid var(--border-soft);
    background: var(--surface-2);
  }

  .summary-stat__value {
    font-size: var(--fs-4);
    font-weight: 600;
  }

  @media (prefers-reduced-motion: no-preference) {
    .summary-stats {
      animation: stats-float var(--dur-3) var(--ease-1) both;
    }
  }

  @keyframes stats-float {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .btn--danger {
    --_bg: color-mix(in srgb, var(--danger) 18%, transparent);
    --_fg: var(--danger);
    --_bd: color-mix(in srgb, var(--danger) 35%, transparent);
  }

  .list-row {
    min-block-size: 52px;
  }

  .cluster--between {
    justify-content: space-between;
  }
}

@layer overrides {
  /* Additional overrides can be placed here */
}

```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/workout/[workoutId]/page.tsx
```
"use client";

import { useParams } from "next/navigation";
import { useEffect, useMemo, useState } from "react";
import ExerciseCard from "../../features/workout/components/ExerciseCard";
import BackButton from "../../shared/components/BackButton";
import type { Command } from "../../../commands/types";
import { makeCatalogMapsSelector } from "../../../store/selectors/catalogSelectors";
import { makeWorkoutViewSelector } from "../../../store/selectors/sessionSelectors";
import { useCatalogStore } from "../../../store/useCatalogStore";
import { useSessionStore, useSessionStoreApi } from "../../../store/useSessionStore";
import { useSettingsShallow } from "../../../store/useSettingsStore";
import { useUiShallow, useUiStoreApi } from "../../../store/useUiStore";

export default function WorkoutRunnerPage() {
  const params = useParams<{ workoutId: string }>();
  const workoutId = params.workoutId;
  const workoutSelector = useMemo(() => makeWorkoutViewSelector(workoutId), [workoutId]);
  const workout = useSessionStore(workoutSelector);
  const catalogSelector = useMemo(() => makeCatalogMapsSelector(), []);
  const { programById, exerciseById } = useCatalogStore(catalogSelector);
  const program = workout ? programById.get(workout.programId) : undefined;
  const { settings } = useSettingsShallow((state) => ({ settings: state.settings }));
  const sessionStore = useSessionStoreApi();
  const { vtHero } = useUiShallow((state) => ({ vtHero: state.vtHero }));
  const uiStore = useUiStoreApi();
  const { deleteSet, addSet } = sessionStore.getState();
  const { openEditSet, openConfirm, showSnackbar } = uiStore.getState();
  const [lastAddedSetId, setLastAddedSetId] = useState<string | null>(null);
  useEffect(() => {
    if (lastAddedSetId == null) return;
    const t = setTimeout(() => setLastAddedSetId(null), 1800);
    return () => clearTimeout(t);
  }, [lastAddedSetId]);

  if (!workout) {
    return (
      <div className="page container">
        <p>Workout not found.</p>
      </div>
    );
  }

  const programName = program?.name ?? "Deleted program";

  const handleFinish = () => {
    const command: Command = { type: "FINISH_WORKOUT", payload: { workoutId, navigateTo: `/workout/${workoutId}/summary` } };
    openConfirm({
      title: "End workout?",
      message: "Finish now to lock this workout into history.",
      confirmLabel: "Finish",
      command,
    });
  };

  return (
    <div className="page container">
      <div
        className={`runner-header ${
          vtHero?.type === "program" && program && vtHero.id === program.id ? "vt-hero" : ""
        }`}
      >
        <div className="runner-header__row">
          <div>
            <div className="muted">Workout Runner</div>
            <div className="runner-header__title">{programName}</div>
          </div>
          <button type="button" className="btn btn--primary" onClick={handleFinish}>
            Finish
          </button>
        </div>
      </div>

      <section className="page__section virtual-list">
        {workout.entries.map((entry) => {
          const exercise = exerciseById.get(entry.exerciseId);
          if (!exercise) return null;
          return (
            <ExerciseCard
              key={entry.exerciseId}
              exercise={exercise}
              entry={entry}
              barWeight={settings.defaultBarWeight}
              onEditSet={(setId) => openEditSet({ workoutId, exerciseId: entry.exerciseId, setId })}
              onDeleteSet={(setId) => {
                // Per improve-1.md: ultra-frequent actions must NOT use view transitions
                const payload = deleteSet(workoutId, entry.exerciseId, setId);
                if (payload) {
                  showSnackbar("Set deleted", "Undo", { type: "UNDO_DELETE_SET", payload });
                }
              }}
              onAddSet={() => {
                const id = addSet(workoutId, entry.exerciseId);
                if (id) setLastAddedSetId(id);
              }}
              highlightedSetId={lastAddedSetId}
            />
          );
        })}
      </section>
      <BackButton />
    </div>
  );
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/app/workout/[workoutId]/summary/page.tsx
```
"use client";

import { useParams, useRouter } from "next/navigation";
import { useMemo } from "react";
import { getWorkoutStats, makeWorkoutViewSelector } from "../../../../store/selectors/sessionSelectors";
import { useCatalogShallow } from "../../../../store/useCatalogStore";
import { useSessionStore } from "../../../../store/useSessionStore";
import { navigateWithTransition } from "../../../../app/shared/lib/navigation";
import { formatKg, formatLb } from "../../../../app/shared/lib/utils";

export default function WorkoutSummaryPage() {
  const params = useParams<{ workoutId: string }>();
  const router = useRouter();
  const workoutSelector = useMemo(() => makeWorkoutViewSelector(params.workoutId), [params.workoutId]);
  const workout = useSessionStore(workoutSelector);
  const { programs } = useCatalogShallow((state) => ({ programs: state.programs }));
  const program = useMemo(
    () => (workout ? programs.find((item) => item.id === workout.programId) : undefined),
    [programs, workout]
  );

  if (!workout) {
    return (
      <div className="page container">
        <p>Workout not found.</p>
      </div>
    );
  }

  const { totalSets, totalVolume, exerciseCount } = getWorkoutStats(workout);
  const programName = program?.name ?? "Deleted program";

  return (
    <div className="page container summary-page">
      <header className="stack summary-page__header">
        <div className="summary-page__badge" aria-hidden>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round">
            <circle cx="12" cy="12" r="10" />
            <path d="M8 12l3 3 5-6" />
          </svg>
        </div>
        <h1 className="card__title">Workout Complete</h1>
        <p className="muted">{programName}</p>
      </header>

      <section className="summary-stats">
        <div className="summary-stat">
          <div className="summary-stat__value">{exerciseCount}</div>
          <div className="muted">Exercises</div>
        </div>
        <div className="summary-stat">
          <div className="summary-stat__value">{totalSets}</div>
          <div className="muted">Total sets</div>
        </div>
        <div className="summary-stat">
          <div className="summary-stat__value">{formatKg(totalVolume)} kg</div>
          <div className="muted">{formatLb(totalVolume)} lb total volume</div>
        </div>
      </section>

      <div className="summary-page__sticky">
        <button
          type="button"
          className="btn btn--primary summary-page__done"
          onClick={() => navigateWithTransition(router, "/")}
        >
          Done
        </button>
      </div>
    </div>
  );
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/bun.lock
```
{
  "lockfileVersion": 1,
  "configVersion": 1,
  "workspaces": {
    "": {
      "name": "gym-app",
      "dependencies": {
        "next": "16.1.5",
        "react": "19.2.3",
        "react-dom": "19.2.3",
        "zustand": "^5.0.10",
      },
      "devDependencies": {
        "@types/node": "^20",
        "@types/react": "^19",
        "@types/react-dom": "^19",
        "eslint": "^9",
        "eslint-config-next": "16.1.5",
        "typescript": "^5",
        "vitest": "^4.0.18",
      },
    },
  },
  "trustedDependencies": [
    "sharp",
    "unrs-resolver",
  ],
  "packages": {
    "@babel/code-frame": ["@babel/code-frame@7.28.6", "", { "dependencies": { "@babel/helper-validator-identifier": "^7.28.5", "js-tokens": "^4.0.0", "picocolors": "^1.1.1" } }, "sha512-JYgintcMjRiCvS8mMECzaEn+m3PfoQiyqukOMCCVQtoJGYJw8j/8LBJEiqkHLkfwCcs74E3pbAUFNg7d9VNJ+Q=="],

    "@babel/compat-data": ["@babel/compat-data@7.28.6", "", {}, "sha512-2lfu57JtzctfIrcGMz992hyLlByuzgIk58+hhGCxjKZ3rWI82NnVLjXcaTqkI2NvlcvOskZaiZ5kjUALo3Lpxg=="],

    "@babel/core": ["@babel/core@7.28.6", "", { "dependencies": { "@babel/code-frame": "^7.28.6", "@babel/generator": "^7.28.6", "@babel/helper-compilation-targets": "^7.28.6", "@babel/helper-module-transforms": "^7.28.6", "@babel/helpers": "^7.28.6", "@babel/parser": "^7.28.6", "@babel/template": "^7.28.6", "@babel/traverse": "^7.28.6", "@babel/types": "^7.28.6", "@jridgewell/remapping": "^2.3.5", "convert-source-map": "^2.0.0", "debug": "^4.1.0", "gensync": "^1.0.0-beta.2", "json5": "^2.2.3", "semver": "^6.3.1" } }, "sha512-H3mcG6ZDLTlYfaSNi0iOKkigqMFvkTKlGUYlD8GW7nNOYRrevuA46iTypPyv+06V3fEmvvazfntkBU34L0azAw=="],

    "@babel/generator": ["@babel/generator@7.28.6", "", { "dependencies": { "@babel/parser": "^7.28.6", "@babel/types": "^7.28.6", "@jridgewell/gen-mapping": "^0.3.12", "@jridgewell/trace-mapping": "^0.3.28", "jsesc": "^3.0.2" } }, "sha512-lOoVRwADj8hjf7al89tvQ2a1lf53Z+7tiXMgpZJL3maQPDxh0DgLMN62B2MKUOFcoodBHLMbDM6WAbKgNy5Suw=="],

    "@babel/helper-compilation-targets": ["@babel/helper-compilation-targets@7.28.6", "", { "dependencies": { "@babel/compat-data": "^7.28.6", "@babel/helper-validator-option": "^7.27.1", "browserslist": "^4.24.0", "lru-cache": "^5.1.1", "semver": "^6.3.1" } }, "sha512-JYtls3hqi15fcx5GaSNL7SCTJ2MNmjrkHXg4FSpOA/grxK8KwyZ5bubHsCq8FXCkua6xhuaaBit+3b7+VZRfcA=="],

    "@babel/helper-globals": ["@babel/helper-globals@7.28.0", "", {}, "sha512-+W6cISkXFa1jXsDEdYA8HeevQT/FULhxzR99pxphltZcVaugps53THCeiWA8SguxxpSp3gKPiuYfSWopkLQ4hw=="],

    "@babel/helper-module-imports": ["@babel/helper-module-imports@7.28.6", "", { "dependencies": { "@babel/traverse": "^7.28.6", "@babel/types": "^7.28.6" } }, "sha512-l5XkZK7r7wa9LucGw9LwZyyCUscb4x37JWTPz7swwFE/0FMQAGpiWUZn8u9DzkSBWEcK25jmvubfpw2dnAMdbw=="],

    "@babel/helper-module-transforms": ["@babel/helper-module-transforms@7.28.6", "", { "dependencies": { "@babel/helper-module-imports": "^7.28.6", "@babel/helper-validator-identifier": "^7.28.5", "@babel/traverse": "^7.28.6" }, "peerDependencies": { "@babel/core": "^7.0.0" } }, "sha512-67oXFAYr2cDLDVGLXTEABjdBJZ6drElUSI7WKp70NrpyISso3plG9SAGEF6y7zbha/wOzUByWWTJvEDVNIUGcA=="],

    "@babel/helper-string-parser": ["@babel/helper-string-parser@7.27.1", "", {}, "sha512-qMlSxKbpRlAridDExk92nSobyDdpPijUq2DW6oDnUqd0iOGxmQjyqhMIihI9+zv4LPyZdRje2cavWPbCbWm3eA=="],

    "@babel/helper-validator-identifier": ["@babel/helper-validator-identifier@7.28.5", "", {}, "sha512-qSs4ifwzKJSV39ucNjsvc6WVHs6b7S03sOh2OcHF9UHfVPqWWALUsNUVzhSBiItjRZoLHx7nIarVjqKVusUZ1Q=="],

    "@babel/helper-validator-option": ["@babel/helper-validator-option@7.27.1", "", {}, "sha512-YvjJow9FxbhFFKDSuFnVCe2WxXk1zWc22fFePVNEaWJEu8IrZVlda6N0uHwzZrUM1il7NC9Mlp4MaJYbYd9JSg=="],

    "@babel/helpers": ["@babel/helpers@7.28.6", "", { "dependencies": { "@babel/template": "^7.28.6", "@babel/types": "^7.28.6" } }, "sha512-xOBvwq86HHdB7WUDTfKfT/Vuxh7gElQ+Sfti2Cy6yIWNW05P8iUslOVcZ4/sKbE+/jQaukQAdz/gf3724kYdqw=="],

    "@babel/parser": ["@babel/parser@7.28.6", "", { "dependencies": { "@babel/types": "^7.28.6" }, "bin": "./bin/babel-parser.js" }, "sha512-TeR9zWR18BvbfPmGbLampPMW+uW1NZnJlRuuHso8i87QZNq2JRF9i6RgxRqtEq+wQGsS19NNTWr2duhnE49mfQ=="],

    "@babel/template": ["@babel/template@7.28.6", "", { "dependencies": { "@babel/code-frame": "^7.28.6", "@babel/parser": "^7.28.6", "@babel/types": "^7.28.6" } }, "sha512-YA6Ma2KsCdGb+WC6UpBVFJGXL58MDA6oyONbjyF/+5sBgxY/dwkhLogbMT2GXXyU84/IhRw/2D1Os1B/giz+BQ=="],

    "@babel/traverse": ["@babel/traverse@7.28.6", "", { "dependencies": { "@babel/code-frame": "^7.28.6", "@babel/generator": "^7.28.6", "@babel/helper-globals": "^7.28.0", "@babel/parser": "^7.28.6", "@babel/template": "^7.28.6", "@babel/types": "^7.28.6", "debug": "^4.3.1" } }, "sha512-fgWX62k02qtjqdSNTAGxmKYY/7FSL9WAS1o2Hu5+I5m9T0yxZzr4cnrfXQ/MX0rIifthCSs6FKTlzYbJcPtMNg=="],

    "@babel/types": ["@babel/types@7.28.6", "", { "dependencies": { "@babel/helper-string-parser": "^7.27.1", "@babel/helper-validator-identifier": "^7.28.5" } }, "sha512-0ZrskXVEHSWIqZM/sQZ4EV3jZJXRkio/WCxaqKZP1g//CEWEPSfeZFcms4XeKBCHU0ZKnIkdJeU/kF+eRp5lBg=="],

    "@emnapi/core": ["@emnapi/core@1.8.1", "", { "dependencies": { "@emnapi/wasi-threads": "1.1.0", "tslib": "^2.4.0" } }, "sha512-AvT9QFpxK0Zd8J0jopedNm+w/2fIzvtPKPjqyw9jwvBaReTTqPBk9Hixaz7KbjimP+QNz605/XnjFcDAL2pqBg=="],

    "@emnapi/runtime": ["@emnapi/runtime@1.8.1", "", { "dependencies": { "tslib": "^2.4.0" } }, "sha512-mehfKSMWjjNol8659Z8KxEMrdSJDDot5SXMq00dM8BN4o+CLNXQ0xH2V7EchNHV4RmbZLmmPdEaXZc5H2FXmDg=="],

    "@emnapi/wasi-threads": ["@emnapi/wasi-threads@1.1.0", "", { "dependencies": { "tslib": "^2.4.0" } }, "sha512-WI0DdZ8xFSbgMjR1sFsKABJ/C5OnRrjT06JXbZKexJGrDuPTzZdDYfFlsgcCXCyf+suG5QU2e/y1Wo2V/OapLQ=="],

    "@esbuild/aix-ppc64": ["@esbuild/aix-ppc64@0.27.2", "", { "os": "aix", "cpu": "ppc64" }, "sha512-GZMB+a0mOMZs4MpDbj8RJp4cw+w1WV5NYD6xzgvzUJ5Ek2jerwfO2eADyI6ExDSUED+1X8aMbegahsJi+8mgpw=="],

    "@esbuild/android-arm": ["@esbuild/android-arm@0.27.2", "", { "os": "android", "cpu": "arm" }, "sha512-DVNI8jlPa7Ujbr1yjU2PfUSRtAUZPG9I1RwW4F4xFB1Imiu2on0ADiI/c3td+KmDtVKNbi+nffGDQMfcIMkwIA=="],

    "@esbuild/android-arm64": ["@esbuild/android-arm64@0.27.2", "", { "os": "android", "cpu": "arm64" }, "sha512-pvz8ZZ7ot/RBphf8fv60ljmaoydPU12VuXHImtAs0XhLLw+EXBi2BLe3OYSBslR4rryHvweW5gmkKFwTiFy6KA=="],

    "@esbuild/android-x64": ["@esbuild/android-x64@0.27.2", "", { "os": "android", "cpu": "x64" }, "sha512-z8Ank4Byh4TJJOh4wpz8g2vDy75zFL0TlZlkUkEwYXuPSgX8yzep596n6mT7905kA9uHZsf/o2OJZubl2l3M7A=="],

    "@esbuild/darwin-arm64": ["@esbuild/darwin-arm64@0.27.2", "", { "os": "darwin", "cpu": "arm64" }, "sha512-davCD2Zc80nzDVRwXTcQP/28fiJbcOwvdolL0sOiOsbwBa72kegmVU0Wrh1MYrbuCL98Omp5dVhQFWRKR2ZAlg=="],

    "@esbuild/darwin-x64": ["@esbuild/darwin-x64@0.27.2", "", { "os": "darwin", "cpu": "x64" }, "sha512-ZxtijOmlQCBWGwbVmwOF/UCzuGIbUkqB1faQRf5akQmxRJ1ujusWsb3CVfk/9iZKr2L5SMU5wPBi1UWbvL+VQA=="],

    "@esbuild/freebsd-arm64": ["@esbuild/freebsd-arm64@0.27.2", "", { "os": "freebsd", "cpu": "arm64" }, "sha512-lS/9CN+rgqQ9czogxlMcBMGd+l8Q3Nj1MFQwBZJyoEKI50XGxwuzznYdwcav6lpOGv5BqaZXqvBSiB/kJ5op+g=="],

    "@esbuild/freebsd-x64": ["@esbuild/freebsd-x64@0.27.2", "", { "os": "freebsd", "cpu": "x64" }, "sha512-tAfqtNYb4YgPnJlEFu4c212HYjQWSO/w/h/lQaBK7RbwGIkBOuNKQI9tqWzx7Wtp7bTPaGC6MJvWI608P3wXYA=="],

    "@esbuild/linux-arm": ["@esbuild/linux-arm@0.27.2", "", { "os": "linux", "cpu": "arm" }, "sha512-vWfq4GaIMP9AIe4yj1ZUW18RDhx6EPQKjwe7n8BbIecFtCQG4CfHGaHuh7fdfq+y3LIA2vGS/o9ZBGVxIDi9hw=="],

    "@esbuild/linux-arm64": ["@esbuild/linux-arm64@0.27.2", "", { "os": "linux", "cpu": "arm64" }, "sha512-hYxN8pr66NsCCiRFkHUAsxylNOcAQaxSSkHMMjcpx0si13t1LHFphxJZUiGwojB1a/Hd5OiPIqDdXONia6bhTw=="],

    "@esbuild/linux-ia32": ["@esbuild/linux-ia32@0.27.2", "", { "os": "linux", "cpu": "ia32" }, "sha512-MJt5BRRSScPDwG2hLelYhAAKh9imjHK5+NE/tvnRLbIqUWa+0E9N4WNMjmp/kXXPHZGqPLxggwVhz7QP8CTR8w=="],

    "@esbuild/linux-loong64": ["@esbuild/linux-loong64@0.27.2", "", { "os": "linux", "cpu": "none" }, "sha512-lugyF1atnAT463aO6KPshVCJK5NgRnU4yb3FUumyVz+cGvZbontBgzeGFO1nF+dPueHD367a2ZXe1NtUkAjOtg=="],

    "@esbuild/linux-mips64el": ["@esbuild/linux-mips64el@0.27.2", "", { "os": "linux", "cpu": "none" }, "sha512-nlP2I6ArEBewvJ2gjrrkESEZkB5mIoaTswuqNFRv/WYd+ATtUpe9Y09RnJvgvdag7he0OWgEZWhviS1OTOKixw=="],

    "@esbuild/linux-ppc64": ["@esbuild/linux-ppc64@0.27.2", "", { "os": "linux", "cpu": "ppc64" }, "sha512-C92gnpey7tUQONqg1n6dKVbx3vphKtTHJaNG2Ok9lGwbZil6DrfyecMsp9CrmXGQJmZ7iiVXvvZH6Ml5hL6XdQ=="],

    "@esbuild/linux-riscv64": ["@esbuild/linux-riscv64@0.27.2", "", { "os": "linux", "cpu": "none" }, "sha512-B5BOmojNtUyN8AXlK0QJyvjEZkWwy/FKvakkTDCziX95AowLZKR6aCDhG7LeF7uMCXEJqwa8Bejz5LTPYm8AvA=="],

    "@esbuild/linux-s390x": ["@esbuild/linux-s390x@0.27.2", "", { "os": "linux", "cpu": "s390x" }, "sha512-p4bm9+wsPwup5Z8f4EpfN63qNagQ47Ua2znaqGH6bqLlmJ4bx97Y9JdqxgGZ6Y8xVTixUnEkoKSHcpRlDnNr5w=="],

    "@esbuild/linux-x64": ["@esbuild/linux-x64@0.27.2", "", { "os": "linux", "cpu": "x64" }, "sha512-uwp2Tip5aPmH+NRUwTcfLb+W32WXjpFejTIOWZFw/v7/KnpCDKG66u4DLcurQpiYTiYwQ9B7KOeMJvLCu/OvbA=="],

    "@esbuild/netbsd-arm64": ["@esbuild/netbsd-arm64@0.27.2", "", { "os": "none", "cpu": "arm64" }, "sha512-Kj6DiBlwXrPsCRDeRvGAUb/LNrBASrfqAIok+xB0LxK8CHqxZ037viF13ugfsIpePH93mX7xfJp97cyDuTZ3cw=="],

    "@esbuild/netbsd-x64": ["@esbuild/netbsd-x64@0.27.2", "", { "os": "none", "cpu": "x64" }, "sha512-HwGDZ0VLVBY3Y+Nw0JexZy9o/nUAWq9MlV7cahpaXKW6TOzfVno3y3/M8Ga8u8Yr7GldLOov27xiCnqRZf0tCA=="],

    "@esbuild/openbsd-arm64": ["@esbuild/openbsd-arm64@0.27.2", "", { "os": "openbsd", "cpu": "arm64" }, "sha512-DNIHH2BPQ5551A7oSHD0CKbwIA/Ox7+78/AWkbS5QoRzaqlev2uFayfSxq68EkonB+IKjiuxBFoV8ESJy8bOHA=="],

    "@esbuild/openbsd-x64": ["@esbuild/openbsd-x64@0.27.2", "", { "os": "openbsd", "cpu": "x64" }, "sha512-/it7w9Nb7+0KFIzjalNJVR5bOzA9Vay+yIPLVHfIQYG/j+j9VTH84aNB8ExGKPU4AzfaEvN9/V4HV+F+vo8OEg=="],

    "@esbuild/openharmony-arm64": ["@esbuild/openharmony-arm64@0.27.2", "", { "os": "none", "cpu": "arm64" }, "sha512-LRBbCmiU51IXfeXk59csuX/aSaToeG7w48nMwA6049Y4J4+VbWALAuXcs+qcD04rHDuSCSRKdmY63sruDS5qag=="],

    "@esbuild/sunos-x64": ["@esbuild/sunos-x64@0.27.2", "", { "os": "sunos", "cpu": "x64" }, "sha512-kMtx1yqJHTmqaqHPAzKCAkDaKsffmXkPHThSfRwZGyuqyIeBvf08KSsYXl+abf5HDAPMJIPnbBfXvP2ZC2TfHg=="],

    "@esbuild/win32-arm64": ["@esbuild/win32-arm64@0.27.2", "", { "os": "win32", "cpu": "arm64" }, "sha512-Yaf78O/B3Kkh+nKABUF++bvJv5Ijoy9AN1ww904rOXZFLWVc5OLOfL56W+C8F9xn5JQZa3UX6m+IktJnIb1Jjg=="],

    "@esbuild/win32-ia32": ["@esbuild/win32-ia32@0.27.2", "", { "os": "win32", "cpu": "ia32" }, "sha512-Iuws0kxo4yusk7sw70Xa2E2imZU5HoixzxfGCdxwBdhiDgt9vX9VUCBhqcwY7/uh//78A1hMkkROMJq9l27oLQ=="],

    "@esbuild/win32-x64": ["@esbuild/win32-x64@0.27.2", "", { "os": "win32", "cpu": "x64" }, "sha512-sRdU18mcKf7F+YgheI/zGf5alZatMUTKj/jNS6l744f9u3WFu4v7twcUI9vu4mknF4Y9aDlblIie0IM+5xxaqQ=="],

    "@eslint-community/eslint-utils": ["@eslint-community/eslint-utils@4.9.1", "", { "dependencies": { "eslint-visitor-keys": "^3.4.3" }, "peerDependencies": { "eslint": "^6.0.0 || ^7.0.0 || >=8.0.0" } }, "sha512-phrYmNiYppR7znFEdqgfWHXR6NCkZEK7hwWDHZUjit/2/U0r6XvkDl0SYnoM51Hq7FhCGdLDT6zxCCOY1hexsQ=="],

    "@eslint-community/regexpp": ["@eslint-community/regexpp@4.12.2", "", {}, "sha512-EriSTlt5OC9/7SXkRSCAhfSxxoSUgBm33OH+IkwbdpgoqsSsUg7y3uh+IICI/Qg4BBWr3U2i39RpmycbxMq4ew=="],

    "@eslint/config-array": ["@eslint/config-array@0.21.1", "", { "dependencies": { "@eslint/object-schema": "^2.1.7", "debug": "^4.3.1", "minimatch": "^3.1.2" } }, "sha512-aw1gNayWpdI/jSYVgzN5pL0cfzU02GT3NBpeT/DXbx1/1x7ZKxFPd9bwrzygx/qiwIQiJ1sw/zD8qY/kRvlGHA=="],

    "@eslint/config-helpers": ["@eslint/config-helpers@0.4.2", "", { "dependencies": { "@eslint/core": "^0.17.0" } }, "sha512-gBrxN88gOIf3R7ja5K9slwNayVcZgK6SOUORm2uBzTeIEfeVaIhOpCtTox3P6R7o2jLFwLFTLnC7kU/RGcYEgw=="],

    "@eslint/core": ["@eslint/core@0.17.0", "", { "dependencies": { "@types/json-schema": "^7.0.15" } }, "sha512-yL/sLrpmtDaFEiUj1osRP4TI2MDz1AddJL+jZ7KSqvBuliN4xqYY54IfdN8qD8Toa6g1iloph1fxQNkjOxrrpQ=="],

    "@eslint/eslintrc": ["@eslint/eslintrc@3.3.3", "", { "dependencies": { "ajv": "^6.12.4", "debug": "^4.3.2", "espree": "^10.0.1", "globals": "^14.0.0", "ignore": "^5.2.0", "import-fresh": "^3.2.1", "js-yaml": "^4.1.1", "minimatch": "^3.1.2", "strip-json-comments": "^3.1.1" } }, "sha512-Kr+LPIUVKz2qkx1HAMH8q1q6azbqBAsXJUxBl/ODDuVPX45Z9DfwB8tPjTi6nNZ8BuM3nbJxC5zCAg5elnBUTQ=="],

    "@eslint/js": ["@eslint/js@9.39.2", "", {}, "sha512-q1mjIoW1VX4IvSocvM/vbTiveKC4k9eLrajNEuSsmjymSDEbpGddtpfOoN7YGAqBK3NG+uqo8ia4PDTt8buCYA=="],

    "@eslint/object-schema": ["@eslint/object-schema@2.1.7", "", {}, "sha512-VtAOaymWVfZcmZbp6E2mympDIHvyjXs/12LqWYjVw6qjrfF+VK+fyG33kChz3nnK+SU5/NeHOqrTEHS8sXO3OA=="],

    "@eslint/plugin-kit": ["@eslint/plugin-kit@0.4.1", "", { "dependencies": { "@eslint/core": "^0.17.0", "levn": "^0.4.1" } }, "sha512-43/qtrDUokr7LJqoF2c3+RInu/t4zfrpYdoSDfYyhg52rwLV6TnOvdG4fXm7IkSB3wErkcmJS9iEhjVtOSEjjA=="],

    "@humanfs/core": ["@humanfs/core@0.19.1", "", {}, "sha512-5DyQ4+1JEUzejeK1JGICcideyfUbGixgS9jNgex5nqkW+cY7WZhxBigmieN5Qnw9ZosSNVC9KQKyb+GUaGyKUA=="],

    "@humanfs/node": ["@humanfs/node@0.16.7", "", { "dependencies": { "@humanfs/core": "^0.19.1", "@humanwhocodes/retry": "^0.4.0" } }, "sha512-/zUx+yOsIrG4Y43Eh2peDeKCxlRt/gET6aHfaKpuq267qXdYDFViVHfMaLyygZOnl0kGWxFIgsBy8QFuTLUXEQ=="],

    "@humanwhocodes/module-importer": ["@humanwhocodes/module-importer@1.0.1", "", {}, "sha512-bxveV4V8v5Yb4ncFTT3rPSgZBOpCkjfK0y4oVVVJwIuDVBRMDXrPyXRL988i5ap9m9bnyEEjWfm5WkBmtffLfA=="],

    "@humanwhocodes/retry": ["@humanwhocodes/retry@0.4.3", "", {}, "sha512-bV0Tgo9K4hfPCek+aMAn81RppFKv2ySDQeMoSZuvTASywNTnVJCArCZE2FWqpvIatKu7VMRLWlR1EazvVhDyhQ=="],

    "@img/colour": ["@img/colour@1.0.0", "", {}, "sha512-A5P/LfWGFSl6nsckYtjw9da+19jB8hkJ6ACTGcDfEJ0aE+l2n2El7dsVM7UVHZQ9s2lmYMWlrS21YLy2IR1LUw=="],

    "@img/sharp-darwin-arm64": ["@img/sharp-darwin-arm64@0.34.5", "", { "optionalDependencies": { "@img/sharp-libvips-darwin-arm64": "1.2.4" }, "os": "darwin", "cpu": "arm64" }, "sha512-imtQ3WMJXbMY4fxb/Ndp6HBTNVtWCUI0WdobyheGf5+ad6xX8VIDO8u2xE4qc/fr08CKG/7dDseFtn6M6g/r3w=="],

    "@img/sharp-darwin-x64": ["@img/sharp-darwin-x64@0.34.5", "", { "optionalDependencies": { "@img/sharp-libvips-darwin-x64": "1.2.4" }, "os": "darwin", "cpu": "x64" }, "sha512-YNEFAF/4KQ/PeW0N+r+aVVsoIY0/qxxikF2SWdp+NRkmMB7y9LBZAVqQ4yhGCm/H3H270OSykqmQMKLBhBJDEw=="],

    "@img/sharp-libvips-darwin-arm64": ["@img/sharp-libvips-darwin-arm64@1.2.4", "", { "os": "darwin", "cpu": "arm64" }, "sha512-zqjjo7RatFfFoP0MkQ51jfuFZBnVE2pRiaydKJ1G/rHZvnsrHAOcQALIi9sA5co5xenQdTugCvtb1cuf78Vf4g=="],

    "@img/sharp-libvips-darwin-x64": ["@img/sharp-libvips-darwin-x64@1.2.4", "", { "os": "darwin", "cpu": "x64" }, "sha512-1IOd5xfVhlGwX+zXv2N93k0yMONvUlANylbJw1eTah8K/Jtpi15KC+WSiaX/nBmbm2HxRM1gZ0nSdjSsrZbGKg=="],

    "@img/sharp-libvips-linux-arm": ["@img/sharp-libvips-linux-arm@1.2.4", "", { "os": "linux", "cpu": "arm" }, "sha512-bFI7xcKFELdiNCVov8e44Ia4u2byA+l3XtsAj+Q8tfCwO6BQ8iDojYdvoPMqsKDkuoOo+X6HZA0s0q11ANMQ8A=="],

    "@img/sharp-libvips-linux-arm64": ["@img/sharp-libvips-linux-arm64@1.2.4", "", { "os": "linux", "cpu": "arm64" }, "sha512-excjX8DfsIcJ10x1Kzr4RcWe1edC9PquDRRPx3YVCvQv+U5p7Yin2s32ftzikXojb1PIFc/9Mt28/y+iRklkrw=="],

    "@img/sharp-libvips-linux-ppc64": ["@img/sharp-libvips-linux-ppc64@1.2.4", "", { "os": "linux", "cpu": "ppc64" }, "sha512-FMuvGijLDYG6lW+b/UvyilUWu5Ayu+3r2d1S8notiGCIyYU/76eig1UfMmkZ7vwgOrzKzlQbFSuQfgm7GYUPpA=="],

    "@img/sharp-libvips-linux-riscv64": ["@img/sharp-libvips-linux-riscv64@1.2.4", "", { "os": "linux", "cpu": "none" }, "sha512-oVDbcR4zUC0ce82teubSm+x6ETixtKZBh/qbREIOcI3cULzDyb18Sr/Wcyx7NRQeQzOiHTNbZFF1UwPS2scyGA=="],

    "@img/sharp-libvips-linux-s390x": ["@img/sharp-libvips-linux-s390x@1.2.4", "", { "os": "linux", "cpu": "s390x" }, "sha512-qmp9VrzgPgMoGZyPvrQHqk02uyjA0/QrTO26Tqk6l4ZV0MPWIW6LTkqOIov+J1yEu7MbFQaDpwdwJKhbJvuRxQ=="],

    "@img/sharp-libvips-linux-x64": ["@img/sharp-libvips-linux-x64@1.2.4", "", { "os": "linux", "cpu": "x64" }, "sha512-tJxiiLsmHc9Ax1bz3oaOYBURTXGIRDODBqhveVHonrHJ9/+k89qbLl0bcJns+e4t4rvaNBxaEZsFtSfAdquPrw=="],

    "@img/sharp-libvips-linuxmusl-arm64": ["@img/sharp-libvips-linuxmusl-arm64@1.2.4", "", { "os": "linux", "cpu": "arm64" }, "sha512-FVQHuwx1IIuNow9QAbYUzJ+En8KcVm9Lk5+uGUQJHaZmMECZmOlix9HnH7n1TRkXMS0pGxIJokIVB9SuqZGGXw=="],

    "@img/sharp-libvips-linuxmusl-x64": ["@img/sharp-libvips-linuxmusl-x64@1.2.4", "", { "os": "linux", "cpu": "x64" }, "sha512-+LpyBk7L44ZIXwz/VYfglaX/okxezESc6UxDSoyo2Ks6Jxc4Y7sGjpgU9s4PMgqgjj1gZCylTieNamqA1MF7Dg=="],

    "@img/sharp-linux-arm": ["@img/sharp-linux-arm@0.34.5", "", { "optionalDependencies": { "@img/sharp-libvips-linux-arm": "1.2.4" }, "os": "linux", "cpu": "arm" }, "sha512-9dLqsvwtg1uuXBGZKsxem9595+ujv0sJ6Vi8wcTANSFpwV/GONat5eCkzQo/1O6zRIkh0m/8+5BjrRr7jDUSZw=="],

    "@img/sharp-linux-arm64": ["@img/sharp-linux-arm64@0.34.5", "", { "optionalDependencies": { "@img/sharp-libvips-linux-arm64": "1.2.4" }, "os": "linux", "cpu": "arm64" }, "sha512-bKQzaJRY/bkPOXyKx5EVup7qkaojECG6NLYswgktOZjaXecSAeCWiZwwiFf3/Y+O1HrauiE3FVsGxFg8c24rZg=="],

    "@img/sharp-linux-ppc64": ["@img/sharp-linux-ppc64@0.34.5", "", { "optionalDependencies": { "@img/sharp-libvips-linux-ppc64": "1.2.4" }, "os": "linux", "cpu": "ppc64" }, "sha512-7zznwNaqW6YtsfrGGDA6BRkISKAAE1Jo0QdpNYXNMHu2+0dTrPflTLNkpc8l7MUP5M16ZJcUvysVWWrMefZquA=="],

    "@img/sharp-linux-riscv64": ["@img/sharp-linux-riscv64@0.34.5", "", { "optionalDependencies": { "@img/sharp-libvips-linux-riscv64": "1.2.4" }, "os": "linux", "cpu": "none" }, "sha512-51gJuLPTKa7piYPaVs8GmByo7/U7/7TZOq+cnXJIHZKavIRHAP77e3N2HEl3dgiqdD/w0yUfiJnII77PuDDFdw=="],

    "@img/sharp-linux-s390x": ["@img/sharp-linux-s390x@0.34.5", "", { "optionalDependencies": { "@img/sharp-libvips-linux-s390x": "1.2.4" }, "os": "linux", "cpu": "s390x" }, "sha512-nQtCk0PdKfho3eC5MrbQoigJ2gd1CgddUMkabUj+rBevs8tZ2cULOx46E7oyX+04WGfABgIwmMC0VqieTiR4jg=="],

    "@img/sharp-linux-x64": ["@img/sharp-linux-x64@0.34.5", "", { "optionalDependencies": { "@img/sharp-libvips-linux-x64": "1.2.4" }, "os": "linux", "cpu": "x64" }, "sha512-MEzd8HPKxVxVenwAa+JRPwEC7QFjoPWuS5NZnBt6B3pu7EG2Ge0id1oLHZpPJdn3OQK+BQDiw9zStiHBTJQQQQ=="],

    "@img/sharp-linuxmusl-arm64": ["@img/sharp-linuxmusl-arm64@0.34.5", "", { "optionalDependencies": { "@img/sharp-libvips-linuxmusl-arm64": "1.2.4" }, "os": "linux", "cpu": "arm64" }, "sha512-fprJR6GtRsMt6Kyfq44IsChVZeGN97gTD331weR1ex1c1rypDEABN6Tm2xa1wE6lYb5DdEnk03NZPqA7Id21yg=="],

    "@img/sharp-linuxmusl-x64": ["@img/sharp-linuxmusl-x64@0.34.5", "", { "optionalDependencies": { "@img/sharp-libvips-linuxmusl-x64": "1.2.4" }, "os": "linux", "cpu": "x64" }, "sha512-Jg8wNT1MUzIvhBFxViqrEhWDGzqymo3sV7z7ZsaWbZNDLXRJZoRGrjulp60YYtV4wfY8VIKcWidjojlLcWrd8Q=="],

    "@img/sharp-wasm32": ["@img/sharp-wasm32@0.34.5", "", { "dependencies": { "@emnapi/runtime": "^1.7.0" }, "cpu": "none" }, "sha512-OdWTEiVkY2PHwqkbBI8frFxQQFekHaSSkUIJkwzclWZe64O1X4UlUjqqqLaPbUpMOQk6FBu/HtlGXNblIs0huw=="],

    "@img/sharp-win32-arm64": ["@img/sharp-win32-arm64@0.34.5", "", { "os": "win32", "cpu": "arm64" }, "sha512-WQ3AgWCWYSb2yt+IG8mnC6Jdk9Whs7O0gxphblsLvdhSpSTtmu69ZG1Gkb6NuvxsNACwiPV6cNSZNzt0KPsw7g=="],

    "@img/sharp-win32-ia32": ["@img/sharp-win32-ia32@0.34.5", "", { "os": "win32", "cpu": "ia32" }, "sha512-FV9m/7NmeCmSHDD5j4+4pNI8Cp3aW+JvLoXcTUo0IqyjSfAZJ8dIUmijx1qaJsIiU+Hosw6xM5KijAWRJCSgNg=="],

    "@img/sharp-win32-x64": ["@img/sharp-win32-x64@0.34.5", "", { "os": "win32", "cpu": "x64" }, "sha512-+29YMsqY2/9eFEiW93eqWnuLcWcufowXewwSNIT6UwZdUUCrM3oFjMWH/Z6/TMmb4hlFenmfAVbpWeup2jryCw=="],

    "@jridgewell/gen-mapping": ["@jridgewell/gen-mapping@0.3.13", "", { "dependencies": { "@jridgewell/sourcemap-codec": "^1.5.0", "@jridgewell/trace-mapping": "^0.3.24" } }, "sha512-2kkt/7niJ6MgEPxF0bYdQ6etZaA+fQvDcLKckhy1yIQOzaoKjBBjSj63/aLVjYE3qhRt5dvM+uUyfCg6UKCBbA=="],

    "@jridgewell/remapping": ["@jridgewell/remapping@2.3.5", "", { "dependencies": { "@jridgewell/gen-mapping": "^0.3.5", "@jridgewell/trace-mapping": "^0.3.24" } }, "sha512-LI9u/+laYG4Ds1TDKSJW2YPrIlcVYOwi2fUC6xB43lueCjgxV4lffOCZCtYFiH6TNOX+tQKXx97T4IKHbhyHEQ=="],

    "@jridgewell/resolve-uri": ["@jridgewell/resolve-uri@3.1.2", "", {}, "sha512-bRISgCIjP20/tbWSPWMEi54QVPRZExkuD9lJL+UIxUKtwVJA8wW1Trb1jMs1RFXo1CBTNZ/5hpC9QvmKWdopKw=="],

    "@jridgewell/sourcemap-codec": ["@jridgewell/sourcemap-codec@1.5.5", "", {}, "sha512-cYQ9310grqxueWbl+WuIUIaiUaDcj7WOq5fVhEljNVgRfOUhY9fy2zTvfoqWsnebh8Sl70VScFbICvJnLKB0Og=="],

    "@jridgewell/trace-mapping": ["@jridgewell/trace-mapping@0.3.31", "", { "dependencies": { "@jridgewell/resolve-uri": "^3.1.0", "@jridgewell/sourcemap-codec": "^1.4.14" } }, "sha512-zzNR+SdQSDJzc8joaeP8QQoCQr8NuYx2dIIytl1QeBEZHJ9uW6hebsrYgbz8hJwUQao3TWCMtmfV8Nu1twOLAw=="],

    "@napi-rs/wasm-runtime": ["@napi-rs/wasm-runtime@0.2.12", "", { "dependencies": { "@emnapi/core": "^1.4.3", "@emnapi/runtime": "^1.4.3", "@tybys/wasm-util": "^0.10.0" } }, "sha512-ZVWUcfwY4E/yPitQJl481FjFo3K22D6qF0DuFH6Y/nbnE11GY5uguDxZMGXPQ8WQ0128MXQD7TnfHyK4oWoIJQ=="],

    "@next/env": ["@next/env@16.1.5", "", {}, "sha512-CRSCPJiSZoi4Pn69RYBDI9R7YK2g59vLexPQFXY0eyw+ILevIenCywzg+DqmlBik9zszEnw2HLFOUlLAcJbL7g=="],

    "@next/eslint-plugin-next": ["@next/eslint-plugin-next@16.1.5", "", { "dependencies": { "fast-glob": "3.3.1" } }, "sha512-gUWcEsOl+1W7XakmouClcJ0TNFCkblvDUho31wulbDY9na0C6mGtBTSXGRU5GXJY65GjGj0zNaCD/GaBp888Mg=="],

    "@next/swc-darwin-arm64": ["@next/swc-darwin-arm64@16.1.5", "", { "os": "darwin", "cpu": "arm64" }, "sha512-eK7Wdm3Hjy/SCL7TevlH0C9chrpeOYWx2iR7guJDaz4zEQKWcS1IMVfMb9UKBFMg1XgzcPTYPIp1Vcpukkjg6Q=="],

    "@next/swc-darwin-x64": ["@next/swc-darwin-x64@16.1.5", "", { "os": "darwin", "cpu": "x64" }, "sha512-foQscSHD1dCuxBmGkbIr6ScAUF6pRoDZP6czajyvmXPAOFNnQUJu2Os1SGELODjKp/ULa4fulnBWoHV3XdPLfA=="],

    "@next/swc-linux-arm64-gnu": ["@next/swc-linux-arm64-gnu@16.1.5", "", { "os": "linux", "cpu": "arm64" }, "sha512-qNIb42o3C02ccIeSeKjacF3HXotGsxh/FMk/rSRmCzOVMtoWH88odn2uZqF8RLsSUWHcAqTgYmPD3pZ03L9ZAA=="],

    "@next/swc-linux-arm64-musl": ["@next/swc-linux-arm64-musl@16.1.5", "", { "os": "linux", "cpu": "arm64" }, "sha512-U+kBxGUY1xMAzDTXmuVMfhaWUZQAwzRaHJ/I6ihtR5SbTVUEaDRiEU9YMjy1obBWpdOBuk1bcm+tsmifYSygfw=="],

    "@next/swc-linux-x64-gnu": ["@next/swc-linux-x64-gnu@16.1.5", "", { "os": "linux", "cpu": "x64" }, "sha512-gq2UtoCpN7Ke/7tKaU7i/1L7eFLfhMbXjNghSv0MVGF1dmuoaPeEVDvkDuO/9LVa44h5gqpWeJ4mRRznjDv7LA=="],

    "@next/swc-linux-x64-musl": ["@next/swc-linux-x64-musl@16.1.5", "", { "os": "linux", "cpu": "x64" }, "sha512-bQWSE729PbXT6mMklWLf8dotislPle2L70E9q6iwETYEOt092GDn0c+TTNj26AjmeceSsC4ndyGsK5nKqHYXjQ=="],

    "@next/swc-win32-arm64-msvc": ["@next/swc-win32-arm64-msvc@16.1.5", "", { "os": "win32", "cpu": "arm64" }, "sha512-LZli0anutkIllMtTAWZlDqdfvjWX/ch8AFK5WgkNTvaqwlouiD1oHM+WW8RXMiL0+vAkAJyAGEzPPjO+hnrSNQ=="],

    "@next/swc-win32-x64-msvc": ["@next/swc-win32-x64-msvc@16.1.5", "", { "os": "win32", "cpu": "x64" }, "sha512-7is37HJTNQGhjPpQbkKjKEboHYQnCgpVt/4rBrrln0D9nderNxZ8ZWs8w1fAtzUx7wEyYjQ+/13myFgFj6K2Ng=="],

    "@nodelib/fs.scandir": ["@nodelib/fs.scandir@2.1.5", "", { "dependencies": { "@nodelib/fs.stat": "2.0.5", "run-parallel": "^1.1.9" } }, "sha512-vq24Bq3ym5HEQm2NKCr3yXDwjc7vTsEThRDnkp2DK9p1uqLR+DHurm/NOTo0KG7HYHU7eppKZj3MyqYuMBf62g=="],

    "@nodelib/fs.stat": ["@nodelib/fs.stat@2.0.5", "", {}, "sha512-RkhPPp2zrqDAQA/2jNhnztcPAlv64XdhIp7a7454A5ovI7Bukxgt7MX7udwAu3zg1DcpPU0rz3VV1SeaqvY4+A=="],

    "@nodelib/fs.walk": ["@nodelib/fs.walk@1.2.8", "", { "dependencies": { "@nodelib/fs.scandir": "2.1.5", "fastq": "^1.6.0" } }, "sha512-oGB+UxlgWcgQkgwo8GcEGwemoTFt3FIO9ababBmaGwXIoBKZ+GTy0pP185beGg7Llih/NSHSV2XAs1lnznocSg=="],

    "@nolyfill/is-core-module": ["@nolyfill/is-core-module@1.0.39", "", {}, "sha512-nn5ozdjYQpUCZlWGuxcJY/KpxkWQs4DcbMCmKojjyrYDEAGy4Ce19NN4v5MduafTwJlbKc99UA8YhSVqq9yPZA=="],

    "@rollup/rollup-android-arm-eabi": ["@rollup/rollup-android-arm-eabi@4.57.0", "", { "os": "android", "cpu": "arm" }, "sha512-tPgXB6cDTndIe1ah7u6amCI1T0SsnlOuKgg10Xh3uizJk4e5M1JGaUMk7J4ciuAUcFpbOiNhm2XIjP9ON0dUqA=="],

    "@rollup/rollup-android-arm64": ["@rollup/rollup-android-arm64@4.57.0", "", { "os": "android", "cpu": "arm64" }, "sha512-sa4LyseLLXr1onr97StkU1Nb7fWcg6niokTwEVNOO7awaKaoRObQ54+V/hrF/BP1noMEaaAW6Fg2d/CfLiq3Mg=="],

    "@rollup/rollup-darwin-arm64": ["@rollup/rollup-darwin-arm64@4.57.0", "", { "os": "darwin", "cpu": "arm64" }, "sha512-/NNIj9A7yLjKdmkx5dC2XQ9DmjIECpGpwHoGmA5E1AhU0fuICSqSWScPhN1yLCkEdkCwJIDu2xIeLPs60MNIVg=="],

    "@rollup/rollup-darwin-x64": ["@rollup/rollup-darwin-x64@4.57.0", "", { "os": "darwin", "cpu": "x64" }, "sha512-xoh8abqgPrPYPr7pTYipqnUi1V3em56JzE/HgDgitTqZBZ3yKCWI+7KUkceM6tNweyUKYru1UMi7FC060RyKwA=="],

    "@rollup/rollup-freebsd-arm64": ["@rollup/rollup-freebsd-arm64@4.57.0", "", { "os": "freebsd", "cpu": "arm64" }, "sha512-PCkMh7fNahWSbA0OTUQ2OpYHpjZZr0hPr8lId8twD7a7SeWrvT3xJVyza+dQwXSSq4yEQTMoXgNOfMCsn8584g=="],

    "@rollup/rollup-freebsd-x64": ["@rollup/rollup-freebsd-x64@4.57.0", "", { "os": "freebsd", "cpu": "x64" }, "sha512-1j3stGx+qbhXql4OCDZhnK7b01s6rBKNybfsX+TNrEe9JNq4DLi1yGiR1xW+nL+FNVvI4D02PUnl6gJ/2y6WJA=="],

    "@rollup/rollup-linux-arm-gnueabihf": ["@rollup/rollup-linux-arm-gnueabihf@4.57.0", "", { "os": "linux", "cpu": "arm" }, "sha512-eyrr5W08Ms9uM0mLcKfM/Uzx7hjhz2bcjv8P2uynfj0yU8GGPdz8iYrBPhiLOZqahoAMB8ZiolRZPbbU2MAi6Q=="],

    "@rollup/rollup-linux-arm-musleabihf": ["@rollup/rollup-linux-arm-musleabihf@4.57.0", "", { "os": "linux", "cpu": "arm" }, "sha512-Xds90ITXJCNyX9pDhqf85MKWUI4lqjiPAipJ8OLp8xqI2Ehk+TCVhF9rvOoN8xTbcafow3QOThkNnrM33uCFQA=="],

    "@rollup/rollup-linux-arm64-gnu": ["@rollup/rollup-linux-arm64-gnu@4.57.0", "", { "os": "linux", "cpu": "arm64" }, "sha512-Xws2KA4CLvZmXjy46SQaXSejuKPhwVdaNinldoYfqruZBaJHqVo6hnRa8SDo9z7PBW5x84SH64+izmldCgbezw=="],

    "@rollup/rollup-linux-arm64-musl": ["@rollup/rollup-linux-arm64-musl@4.57.0", "", { "os": "linux", "cpu": "arm64" }, "sha512-hrKXKbX5FdaRJj7lTMusmvKbhMJSGWJ+w++4KmjiDhpTgNlhYobMvKfDoIWecy4O60K6yA4SnztGuNTQF+Lplw=="],

    "@rollup/rollup-linux-loong64-gnu": ["@rollup/rollup-linux-loong64-gnu@4.57.0", "", { "os": "linux", "cpu": "none" }, "sha512-6A+nccfSDGKsPm00d3xKcrsBcbqzCTAukjwWK6rbuAnB2bHaL3r9720HBVZ/no7+FhZLz/U3GwwZZEh6tOSI8Q=="],

    "@rollup/rollup-linux-loong64-musl": ["@rollup/rollup-linux-loong64-musl@4.57.0", "", { "os": "linux", "cpu": "none" }, "sha512-4P1VyYUe6XAJtQH1Hh99THxr0GKMMwIXsRNOceLrJnaHTDgk1FTcTimDgneRJPvB3LqDQxUmroBclQ1S0cIJwQ=="],

    "@rollup/rollup-linux-ppc64-gnu": ["@rollup/rollup-linux-ppc64-gnu@4.57.0", "", { "os": "linux", "cpu": "ppc64" }, "sha512-8Vv6pLuIZCMcgXre6c3nOPhE0gjz1+nZP6T+hwWjr7sVH8k0jRkH+XnfjjOTglyMBdSKBPPz54/y1gToSKwrSQ=="],

    "@rollup/rollup-linux-ppc64-musl": ["@rollup/rollup-linux-ppc64-musl@4.57.0", "", { "os": "linux", "cpu": "ppc64" }, "sha512-r1te1M0Sm2TBVD/RxBPC6RZVwNqUTwJTA7w+C/IW5v9Ssu6xmxWEi+iJQlpBhtUiT1raJ5b48pI8tBvEjEFnFA=="],

    "@rollup/rollup-linux-riscv64-gnu": ["@rollup/rollup-linux-riscv64-gnu@4.57.0", "", { "os": "linux", "cpu": "none" }, "sha512-say0uMU/RaPm3CDQLxUUTF2oNWL8ysvHkAjcCzV2znxBr23kFfaxocS9qJm+NdkRhF8wtdEEAJuYcLPhSPbjuQ=="],

    "@rollup/rollup-linux-riscv64-musl": ["@rollup/rollup-linux-riscv64-musl@4.57.0", "", { "os": "linux", "cpu": "none" }, "sha512-/MU7/HizQGsnBREtRpcSbSV1zfkoxSTR7wLsRmBPQ8FwUj5sykrP1MyJTvsxP5KBq9SyE6kH8UQQQwa0ASeoQQ=="],

    "@rollup/rollup-linux-s390x-gnu": ["@rollup/rollup-linux-s390x-gnu@4.57.0", "", { "os": "linux", "cpu": "s390x" }, "sha512-Q9eh+gUGILIHEaJf66aF6a414jQbDnn29zeu0eX3dHMuysnhTvsUvZTCAyZ6tJhUjnvzBKE4FtuaYxutxRZpOg=="],

    "@rollup/rollup-linux-x64-gnu": ["@rollup/rollup-linux-x64-gnu@4.57.0", "", { "os": "linux", "cpu": "x64" }, "sha512-OR5p5yG5OKSxHReWmwvM0P+VTPMwoBS45PXTMYaskKQqybkS3Kmugq1W+YbNWArF8/s7jQScgzXUhArzEQ7x0A=="],

    "@rollup/rollup-linux-x64-musl": ["@rollup/rollup-linux-x64-musl@4.57.0", "", { "os": "linux", "cpu": "x64" }, "sha512-XeatKzo4lHDsVEbm1XDHZlhYZZSQYym6dg2X/Ko0kSFgio+KXLsxwJQprnR48GvdIKDOpqWqssC3iBCjoMcMpw=="],

    "@rollup/rollup-openbsd-x64": ["@rollup/rollup-openbsd-x64@4.57.0", "", { "os": "openbsd", "cpu": "x64" }, "sha512-Lu71y78F5qOfYmubYLHPcJm74GZLU6UJ4THkf/a1K7Tz2ycwC2VUbsqbJAXaR6Bx70SRdlVrt2+n5l7F0agTUw=="],

    "@rollup/rollup-openharmony-arm64": ["@rollup/rollup-openharmony-arm64@4.57.0", "", { "os": "none", "cpu": "arm64" }, "sha512-v5xwKDWcu7qhAEcsUubiav7r+48Uk/ENWdr82MBZZRIm7zThSxCIVDfb3ZeRRq9yqk+oIzMdDo6fCcA5DHfMyA=="],

    "@rollup/rollup-win32-arm64-msvc": ["@rollup/rollup-win32-arm64-msvc@4.57.0", "", { "os": "win32", "cpu": "arm64" }, "sha512-XnaaaSMGSI6Wk8F4KK3QP7GfuuhjGchElsVerCplUuxRIzdvZ7hRBpLR0omCmw+kI2RFJB80nenhOoGXlJ5TfQ=="],

    "@rollup/rollup-win32-ia32-msvc": ["@rollup/rollup-win32-ia32-msvc@4.57.0", "", { "os": "win32", "cpu": "ia32" }, "sha512-3K1lP+3BXY4t4VihLw5MEg6IZD3ojSYzqzBG571W3kNQe4G4CcFpSUQVgurYgib5d+YaCjeFow8QivWp8vuSvA=="],

    "@rollup/rollup-win32-x64-gnu": ["@rollup/rollup-win32-x64-gnu@4.57.0", "", { "os": "win32", "cpu": "x64" }, "sha512-MDk610P/vJGc5L5ImE4k5s+GZT3en0KoK1MKPXCRgzmksAMk79j4h3k1IerxTNqwDLxsGxStEZVBqG0gIqZqoA=="],

    "@rollup/rollup-win32-x64-msvc": ["@rollup/rollup-win32-x64-msvc@4.57.0", "", { "os": "win32", "cpu": "x64" }, "sha512-Zv7v6q6aV+VslnpwzqKAmrk5JdVkLUzok2208ZXGipjb+msxBr/fJPZyeEXiFgH7k62Ak0SLIfxQRZQvTuf7rQ=="],

    "@rtsao/scc": ["@rtsao/scc@1.1.0", "", {}, "sha512-zt6OdqaDoOnJ1ZYsCYGt9YmWzDXl4vQdKTyJev62gFhRGKdx7mcT54V9KIjg+d2wi9EXsPvAPKe7i7WjfVWB8g=="],

    "@standard-schema/spec": ["@standard-schema/spec@1.1.0", "", {}, "sha512-l2aFy5jALhniG5HgqrD6jXLi/rUWrKvqN/qJx6yoJsgKhblVd+iqqU4RCXavm/jPityDo5TCvKMnpjKnOriy0w=="],

    "@swc/helpers": ["@swc/helpers@0.5.15", "", { "dependencies": { "tslib": "^2.8.0" } }, "sha512-JQ5TuMi45Owi4/BIMAJBoSQoOJu12oOk/gADqlcUL9JEdHB8vyjUSsxqeNXnmXHjYKMi2WcYtezGEEhqUI/E2g=="],

    "@tybys/wasm-util": ["@tybys/wasm-util@0.10.1", "", { "dependencies": { "tslib": "^2.4.0" } }, "sha512-9tTaPJLSiejZKx+Bmog4uSubteqTvFrVrURwkmHixBo0G4seD0zUxp98E1DzUBJxLQ3NPwXrGKDiVjwx/DpPsg=="],

    "@types/chai": ["@types/chai@5.2.3", "", { "dependencies": { "@types/deep-eql": "*", "assertion-error": "^2.0.1" } }, "sha512-Mw558oeA9fFbv65/y4mHtXDs9bPnFMZAL/jxdPFUpOHHIXX91mcgEHbS5Lahr+pwZFR8A7GQleRWeI6cGFC2UA=="],

    "@types/deep-eql": ["@types/deep-eql@4.0.2", "", {}, "sha512-c9h9dVVMigMPc4bwTvC5dxqtqJZwQPePsWjPlpSOnojbor6pGqdk541lfA7AqFQr5pB1BRdq0juY9db81BwyFw=="],

    "@types/estree": ["@types/estree@1.0.8", "", {}, "sha512-dWHzHa2WqEXI/O1E9OjrocMTKJl2mSrEolh1Iomrv6U+JuNwaHXsXx9bLu5gG7BUWFIN0skIQJQ/L1rIex4X6w=="],

    "@types/json-schema": ["@types/json-schema@7.0.15", "", {}, "sha512-5+fP8P8MFNC+AyZCDxrB2pkZFPGzqQWUzpSeuuVLvm8VMcorNYavBqoFcxK8bQz4Qsbn4oUEEem4wDLfcysGHA=="],

    "@types/json5": ["@types/json5@0.0.29", "", {}, "sha512-dRLjCWHYg4oaA77cxO64oO+7JwCwnIzkZPdrrC71jQmQtlhM556pwKo5bUzqvZndkVbeFLIIi+9TC40JNF5hNQ=="],

    "@types/node": ["@types/node@20.19.30", "", { "dependencies": { "undici-types": "~6.21.0" } }, "sha512-WJtwWJu7UdlvzEAUm484QNg5eAoq5QR08KDNx7g45Usrs2NtOPiX8ugDqmKdXkyL03rBqU5dYNYVQetEpBHq2g=="],

    "@types/react": ["@types/react@19.2.9", "", { "dependencies": { "csstype": "^3.2.2" } }, "sha512-Lpo8kgb/igvMIPeNV2rsYKTgaORYdO1XGVZ4Qz3akwOj0ySGYMPlQWa8BaLn0G63D1aSaAQ5ldR06wCpChQCjA=="],

    "@types/react-dom": ["@types/react-dom@19.2.3", "", { "peerDependencies": { "@types/react": "^19.2.0" } }, "sha512-jp2L/eY6fn+KgVVQAOqYItbF0VY/YApe5Mz2F0aykSO8gx31bYCZyvSeYxCHKvzHG5eZjc+zyaS5BrBWya2+kQ=="],

    "@typescript-eslint/eslint-plugin": ["@typescript-eslint/eslint-plugin@8.54.0", "", { "dependencies": { "@eslint-community/regexpp": "^4.12.2", "@typescript-eslint/scope-manager": "8.54.0", "@typescript-eslint/type-utils": "8.54.0", "@typescript-eslint/utils": "8.54.0", "@typescript-eslint/visitor-keys": "8.54.0", "ignore": "^7.0.5", "natural-compare": "^1.4.0", "ts-api-utils": "^2.4.0" }, "peerDependencies": { "@typescript-eslint/parser": "^8.54.0", "eslint": "^8.57.0 || ^9.0.0", "typescript": ">=4.8.4 <6.0.0" } }, "sha512-hAAP5io/7csFStuOmR782YmTthKBJ9ND3WVL60hcOjvtGFb+HJxH4O5huAcmcZ9v9G8P+JETiZ/G1B8MALnWZQ=="],

    "@typescript-eslint/parser": ["@typescript-eslint/parser@8.54.0", "", { "dependencies": { "@typescript-eslint/scope-manager": "8.54.0", "@typescript-eslint/types": "8.54.0", "@typescript-eslint/typescript-estree": "8.54.0", "@typescript-eslint/visitor-keys": "8.54.0", "debug": "^4.4.3" }, "peerDependencies": { "eslint": "^8.57.0 || ^9.0.0", "typescript": ">=4.8.4 <6.0.0" } }, "sha512-BtE0k6cjwjLZoZixN0t5AKP0kSzlGu7FctRXYuPAm//aaiZhmfq1JwdYpYr1brzEspYyFeF+8XF5j2VK6oalrA=="],

    "@typescript-eslint/project-service": ["@typescript-eslint/project-service@8.54.0", "", { "dependencies": { "@typescript-eslint/tsconfig-utils": "^8.54.0", "@typescript-eslint/types": "^8.54.0", "debug": "^4.4.3" }, "peerDependencies": { "typescript": ">=4.8.4 <6.0.0" } }, "sha512-YPf+rvJ1s7MyiWM4uTRhE4DvBXrEV+d8oC3P9Y2eT7S+HBS0clybdMIPnhiATi9vZOYDc7OQ1L/i6ga6NFYK/g=="],

    "@typescript-eslint/scope-manager": ["@typescript-eslint/scope-manager@8.54.0", "", { "dependencies": { "@typescript-eslint/types": "8.54.0", "@typescript-eslint/visitor-keys": "8.54.0" } }, "sha512-27rYVQku26j/PbHYcVfRPonmOlVI6gihHtXFbTdB5sb6qA0wdAQAbyXFVarQ5t4HRojIz64IV90YtsjQSSGlQg=="],

    "@typescript-eslint/tsconfig-utils": ["@typescript-eslint/tsconfig-utils@8.54.0", "", { "peerDependencies": { "typescript": ">=4.8.4 <6.0.0" } }, "sha512-dRgOyT2hPk/JwxNMZDsIXDgyl9axdJI3ogZ2XWhBPsnZUv+hPesa5iuhdYt2gzwA9t8RE5ytOJ6xB0moV0Ujvw=="],

    "@typescript-eslint/type-utils": ["@typescript-eslint/type-utils@8.54.0", "", { "dependencies": { "@typescript-eslint/types": "8.54.0", "@typescript-eslint/typescript-estree": "8.54.0", "@typescript-eslint/utils": "8.54.0", "debug": "^4.4.3", "ts-api-utils": "^2.4.0" }, "peerDependencies": { "eslint": "^8.57.0 || ^9.0.0", "typescript": ">=4.8.4 <6.0.0" } }, "sha512-hiLguxJWHjjwL6xMBwD903ciAwd7DmK30Y9Axs/etOkftC3ZNN9K44IuRD/EB08amu+Zw6W37x9RecLkOo3pMA=="],

    "@typescript-eslint/types": ["@typescript-eslint/types@8.54.0", "", {}, "sha512-PDUI9R1BVjqu7AUDsRBbKMtwmjWcn4J3le+5LpcFgWULN3LvHC5rkc9gCVxbrsrGmO1jfPybN5s6h4Jy+OnkAA=="],

    "@typescript-eslint/typescript-estree": ["@typescript-eslint/typescript-estree@8.54.0", "", { "dependencies": { "@typescript-eslint/project-service": "8.54.0", "@typescript-eslint/tsconfig-utils": "8.54.0", "@typescript-eslint/types": "8.54.0", "@typescript-eslint/visitor-keys": "8.54.0", "debug": "^4.4.3", "minimatch": "^9.0.5", "semver": "^7.7.3", "tinyglobby": "^0.2.15", "ts-api-utils": "^2.4.0" }, "peerDependencies": { "typescript": ">=4.8.4 <6.0.0" } }, "sha512-BUwcskRaPvTk6fzVWgDPdUndLjB87KYDrN5EYGetnktoeAvPtO4ONHlAZDnj5VFnUANg0Sjm7j4usBlnoVMHwA=="],

    "@typescript-eslint/utils": ["@typescript-eslint/utils@8.54.0", "", { "dependencies": { "@eslint-community/eslint-utils": "^4.9.1", "@typescript-eslint/scope-manager": "8.54.0", "@typescript-eslint/types": "8.54.0", "@typescript-eslint/typescript-estree": "8.54.0" }, "peerDependencies": { "eslint": "^8.57.0 || ^9.0.0", "typescript": ">=4.8.4 <6.0.0" } }, "sha512-9Cnda8GS57AQakvRyG0PTejJNlA2xhvyNtEVIMlDWOOeEyBkYWhGPnfrIAnqxLMTSTo6q8g12XVjjev5l1NvMA=="],

    "@typescript-eslint/visitor-keys": ["@typescript-eslint/visitor-keys@8.54.0", "", { "dependencies": { "@typescript-eslint/types": "8.54.0", "eslint-visitor-keys": "^4.2.1" } }, "sha512-VFlhGSl4opC0bprJiItPQ1RfUhGDIBokcPwaFH4yiBCaNPeld/9VeXbiPO1cLyorQi1G1vL+ecBk1x8o1axORA=="],

    "@unrs/resolver-binding-android-arm-eabi": ["@unrs/resolver-binding-android-arm-eabi@1.11.1", "", { "os": "android", "cpu": "arm" }, "sha512-ppLRUgHVaGRWUx0R0Ut06Mjo9gBaBkg3v/8AxusGLhsIotbBLuRk51rAzqLC8gq6NyyAojEXglNjzf6R948DNw=="],

    "@unrs/resolver-binding-android-arm64": ["@unrs/resolver-binding-android-arm64@1.11.1", "", { "os": "android", "cpu": "arm64" }, "sha512-lCxkVtb4wp1v+EoN+HjIG9cIIzPkX5OtM03pQYkG+U5O/wL53LC4QbIeazgiKqluGeVEeBlZahHalCaBvU1a2g=="],

    "@unrs/resolver-binding-darwin-arm64": ["@unrs/resolver-binding-darwin-arm64@1.11.1", "", { "os": "darwin", "cpu": "arm64" }, "sha512-gPVA1UjRu1Y/IsB/dQEsp2V1pm44Of6+LWvbLc9SDk1c2KhhDRDBUkQCYVWe6f26uJb3fOK8saWMgtX8IrMk3g=="],

    "@unrs/resolver-binding-darwin-x64": ["@unrs/resolver-binding-darwin-x64@1.11.1", "", { "os": "darwin", "cpu": "x64" }, "sha512-cFzP7rWKd3lZaCsDze07QX1SC24lO8mPty9vdP+YVa3MGdVgPmFc59317b2ioXtgCMKGiCLxJ4HQs62oz6GfRQ=="],

    "@unrs/resolver-binding-freebsd-x64": ["@unrs/resolver-binding-freebsd-x64@1.11.1", "", { "os": "freebsd", "cpu": "x64" }, "sha512-fqtGgak3zX4DCB6PFpsH5+Kmt/8CIi4Bry4rb1ho6Av2QHTREM+47y282Uqiu3ZRF5IQioJQ5qWRV6jduA+iGw=="],

    "@unrs/resolver-binding-linux-arm-gnueabihf": ["@unrs/resolver-binding-linux-arm-gnueabihf@1.11.1", "", { "os": "linux", "cpu": "arm" }, "sha512-u92mvlcYtp9MRKmP+ZvMmtPN34+/3lMHlyMj7wXJDeXxuM0Vgzz0+PPJNsro1m3IZPYChIkn944wW8TYgGKFHw=="],

    "@unrs/resolver-binding-linux-arm-musleabihf": ["@unrs/resolver-binding-linux-arm-musleabihf@1.11.1", "", { "os": "linux", "cpu": "arm" }, "sha512-cINaoY2z7LVCrfHkIcmvj7osTOtm6VVT16b5oQdS4beibX2SYBwgYLmqhBjA1t51CarSaBuX5YNsWLjsqfW5Cw=="],

    "@unrs/resolver-binding-linux-arm64-gnu": ["@unrs/resolver-binding-linux-arm64-gnu@1.11.1", "", { "os": "linux", "cpu": "arm64" }, "sha512-34gw7PjDGB9JgePJEmhEqBhWvCiiWCuXsL9hYphDF7crW7UgI05gyBAi6MF58uGcMOiOqSJ2ybEeCvHcq0BCmQ=="],

    "@unrs/resolver-binding-linux-arm64-musl": ["@unrs/resolver-binding-linux-arm64-musl@1.11.1", "", { "os": "linux", "cpu": "arm64" }, "sha512-RyMIx6Uf53hhOtJDIamSbTskA99sPHS96wxVE/bJtePJJtpdKGXO1wY90oRdXuYOGOTuqjT8ACccMc4K6QmT3w=="],

    "@unrs/resolver-binding-linux-ppc64-gnu": ["@unrs/resolver-binding-linux-ppc64-gnu@1.11.1", "", { "os": "linux", "cpu": "ppc64" }, "sha512-D8Vae74A4/a+mZH0FbOkFJL9DSK2R6TFPC9M+jCWYia/q2einCubX10pecpDiTmkJVUH+y8K3BZClycD8nCShA=="],

    "@unrs/resolver-binding-linux-riscv64-gnu": ["@unrs/resolver-binding-linux-riscv64-gnu@1.11.1", "", { "os": "linux", "cpu": "none" }, "sha512-frxL4OrzOWVVsOc96+V3aqTIQl1O2TjgExV4EKgRY09AJ9leZpEg8Ak9phadbuX0BA4k8U5qtvMSQQGGmaJqcQ=="],

    "@unrs/resolver-binding-linux-riscv64-musl": ["@unrs/resolver-binding-linux-riscv64-musl@1.11.1", "", { "os": "linux", "cpu": "none" }, "sha512-mJ5vuDaIZ+l/acv01sHoXfpnyrNKOk/3aDoEdLO/Xtn9HuZlDD6jKxHlkN8ZhWyLJsRBxfv9GYM2utQ1SChKew=="],

    "@unrs/resolver-binding-linux-s390x-gnu": ["@unrs/resolver-binding-linux-s390x-gnu@1.11.1", "", { "os": "linux", "cpu": "s390x" }, "sha512-kELo8ebBVtb9sA7rMe1Cph4QHreByhaZ2QEADd9NzIQsYNQpt9UkM9iqr2lhGr5afh885d/cB5QeTXSbZHTYPg=="],

    "@unrs/resolver-binding-linux-x64-gnu": ["@unrs/resolver-binding-linux-x64-gnu@1.11.1", "", { "os": "linux", "cpu": "x64" }, "sha512-C3ZAHugKgovV5YvAMsxhq0gtXuwESUKc5MhEtjBpLoHPLYM+iuwSj3lflFwK3DPm68660rZ7G8BMcwSro7hD5w=="],

    "@unrs/resolver-binding-linux-x64-musl": ["@unrs/resolver-binding-linux-x64-musl@1.11.1", "", { "os": "linux", "cpu": "x64" }, "sha512-rV0YSoyhK2nZ4vEswT/QwqzqQXw5I6CjoaYMOX0TqBlWhojUf8P94mvI7nuJTeaCkkds3QE4+zS8Ko+GdXuZtA=="],

    "@unrs/resolver-binding-wasm32-wasi": ["@unrs/resolver-binding-wasm32-wasi@1.11.1", "", { "dependencies": { "@napi-rs/wasm-runtime": "^0.2.11" }, "cpu": "none" }, "sha512-5u4RkfxJm+Ng7IWgkzi3qrFOvLvQYnPBmjmZQ8+szTK/b31fQCnleNl1GgEt7nIsZRIf5PLhPwT0WM+q45x/UQ=="],

    "@unrs/resolver-binding-win32-arm64-msvc": ["@unrs/resolver-binding-win32-arm64-msvc@1.11.1", "", { "os": "win32", "cpu": "arm64" }, "sha512-nRcz5Il4ln0kMhfL8S3hLkxI85BXs3o8EYoattsJNdsX4YUU89iOkVn7g0VHSRxFuVMdM4Q1jEpIId1Ihim/Uw=="],

    "@unrs/resolver-binding-win32-ia32-msvc": ["@unrs/resolver-binding-win32-ia32-msvc@1.11.1", "", { "os": "win32", "cpu": "ia32" }, "sha512-DCEI6t5i1NmAZp6pFonpD5m7i6aFrpofcp4LA2i8IIq60Jyo28hamKBxNrZcyOwVOZkgsRp9O2sXWBWP8MnvIQ=="],

    "@unrs/resolver-binding-win32-x64-msvc": ["@unrs/resolver-binding-win32-x64-msvc@1.11.1", "", { "os": "win32", "cpu": "x64" }, "sha512-lrW200hZdbfRtztbygyaq/6jP6AKE8qQN2KvPcJ+x7wiD038YtnYtZ82IMNJ69GJibV7bwL3y9FgK+5w/pYt6g=="],

    "@vitest/expect": ["@vitest/expect@4.0.18", "", { "dependencies": { "@standard-schema/spec": "^1.0.0", "@types/chai": "^5.2.2", "@vitest/spy": "4.0.18", "@vitest/utils": "4.0.18", "chai": "^6.2.1", "tinyrainbow": "^3.0.3" } }, "sha512-8sCWUyckXXYvx4opfzVY03EOiYVxyNrHS5QxX3DAIi5dpJAAkyJezHCP77VMX4HKA2LDT/Jpfo8i2r5BE3GnQQ=="],

    "@vitest/mocker": ["@vitest/mocker@4.0.18", "", { "dependencies": { "@vitest/spy": "4.0.18", "estree-walker": "^3.0.3", "magic-string": "^0.30.21" }, "peerDependencies": { "msw": "^2.4.9", "vite": "^6.0.0 || ^7.0.0-0" }, "optionalPeers": ["msw", "vite"] }, "sha512-HhVd0MDnzzsgevnOWCBj5Otnzobjy5wLBe4EdeeFGv8luMsGcYqDuFRMcttKWZA5vVO8RFjexVovXvAM4JoJDQ=="],

    "@vitest/pretty-format": ["@vitest/pretty-format@4.0.18", "", { "dependencies": { "tinyrainbow": "^3.0.3" } }, "sha512-P24GK3GulZWC5tz87ux0m8OADrQIUVDPIjjj65vBXYG17ZeU3qD7r+MNZ1RNv4l8CGU2vtTRqixrOi9fYk/yKw=="],

    "@vitest/runner": ["@vitest/runner@4.0.18", "", { "dependencies": { "@vitest/utils": "4.0.18", "pathe": "^2.0.3" } }, "sha512-rpk9y12PGa22Jg6g5M3UVVnTS7+zycIGk9ZNGN+m6tZHKQb7jrP7/77WfZy13Y/EUDd52NDsLRQhYKtv7XfPQw=="],

    "@vitest/snapshot": ["@vitest/snapshot@4.0.18", "", { "dependencies": { "@vitest/pretty-format": "4.0.18", "magic-string": "^0.30.21", "pathe": "^2.0.3" } }, "sha512-PCiV0rcl7jKQjbgYqjtakly6T1uwv/5BQ9SwBLekVg/EaYeQFPiXcgrC2Y7vDMA8dM1SUEAEV82kgSQIlXNMvA=="],

    "@vitest/spy": ["@vitest/spy@4.0.18", "", {}, "sha512-cbQt3PTSD7P2OARdVW3qWER5EGq7PHlvE+QfzSC0lbwO+xnt7+XH06ZzFjFRgzUX//JmpxrCu92VdwvEPlWSNw=="],

    "@vitest/utils": ["@vitest/utils@4.0.18", "", { "dependencies": { "@vitest/pretty-format": "4.0.18", "tinyrainbow": "^3.0.3" } }, "sha512-msMRKLMVLWygpK3u2Hybgi4MNjcYJvwTb0Ru09+fOyCXIgT5raYP041DRRdiJiI3k/2U6SEbAETB3YtBrUkCFA=="],

    "acorn": ["acorn@8.15.0", "", { "bin": { "acorn": "bin/acorn" } }, "sha512-NZyJarBfL7nWwIq+FDL6Zp/yHEhePMNnnJ0y3qfieCrmNvYct8uvtiV41UvlSe6apAfk0fY1FbWx+NwfmpvtTg=="],

    "acorn-jsx": ["acorn-jsx@5.3.2", "", { "peerDependencies": { "acorn": "^6.0.0 || ^7.0.0 || ^8.0.0" } }, "sha512-rq9s+JNhf0IChjtDXxllJ7g41oZk5SlXtp0LHwyA5cejwn7vKmKp4pPri6YEePv2PU65sAsegbXtIinmDFDXgQ=="],

    "ajv": ["ajv@6.12.6", "", { "dependencies": { "fast-deep-equal": "^3.1.1", "fast-json-stable-stringify": "^2.0.0", "json-schema-traverse": "^0.4.1", "uri-js": "^4.2.2" } }, "sha512-j3fVLgvTo527anyYyJOGTYJbG+vnnQYvE0m5mmkc1TK+nxAppkCLMIL0aZ4dblVCNoGShhm+kzE4ZUykBoMg4g=="],

    "ansi-styles": ["ansi-styles@4.3.0", "", { "dependencies": { "color-convert": "^2.0.1" } }, "sha512-zbB9rCJAT1rbjiVDb2hqKFHNYLxgtk8NURxZ3IZwD3F6NtxbXZQCnnSi1Lkx+IDohdPlFp222wVALIheZJQSEg=="],

    "argparse": ["argparse@2.0.1", "", {}, "sha512-8+9WqebbFzpX9OR+Wa6O29asIogeRMzcGtAINdpMHHyAg10f05aSFVBbcEqGf/PXw1EjAZ+q2/bEBg3DvurK3Q=="],

    "aria-query": ["aria-query@5.3.2", "", {}, "sha512-COROpnaoap1E2F000S62r6A60uHZnmlvomhfyT2DlTcrY1OrBKn2UhH7qn5wTC9zMvD0AY7csdPSNwKP+7WiQw=="],

    "array-buffer-byte-length": ["array-buffer-byte-length@1.0.2", "", { "dependencies": { "call-bound": "^1.0.3", "is-array-buffer": "^3.0.5" } }, "sha512-LHE+8BuR7RYGDKvnrmcuSq3tDcKv9OFEXQt/HpbZhY7V6h0zlUXutnAD82GiFx9rdieCMjkvtcsPqBwgUl1Iiw=="],

    "array-includes": ["array-includes@3.1.9", "", { "dependencies": { "call-bind": "^1.0.8", "call-bound": "^1.0.4", "define-properties": "^1.2.1", "es-abstract": "^1.24.0", "es-object-atoms": "^1.1.1", "get-intrinsic": "^1.3.0", "is-string": "^1.1.1", "math-intrinsics": "^1.1.0" } }, "sha512-FmeCCAenzH0KH381SPT5FZmiA/TmpndpcaShhfgEN9eCVjnFBqq3l1xrI42y8+PPLI6hypzou4GXw00WHmPBLQ=="],

    "array.prototype.findlast": ["array.prototype.findlast@1.2.5", "", { "dependencies": { "call-bind": "^1.0.7", "define-properties": "^1.2.1", "es-abstract": "^1.23.2", "es-errors": "^1.3.0", "es-object-atoms": "^1.0.0", "es-shim-unscopables": "^1.0.2" } }, "sha512-CVvd6FHg1Z3POpBLxO6E6zr+rSKEQ9L6rZHAaY7lLfhKsWYUBBOuMs0e9o24oopj6H+geRCX0YJ+TJLBK2eHyQ=="],

    "array.prototype.findlastindex": ["array.prototype.findlastindex@1.2.6", "", { "dependencies": { "call-bind": "^1.0.8", "call-bound": "^1.0.4", "define-properties": "^1.2.1", "es-abstract": "^1.23.9", "es-errors": "^1.3.0", "es-object-atoms": "^1.1.1", "es-shim-unscopables": "^1.1.0" } }, "sha512-F/TKATkzseUExPlfvmwQKGITM3DGTK+vkAsCZoDc5daVygbJBnjEUCbgkAvVFsgfXfX4YIqZ/27G3k3tdXrTxQ=="],

    "array.prototype.flat": ["array.prototype.flat@1.3.3", "", { "dependencies": { "call-bind": "^1.0.8", "define-properties": "^1.2.1", "es-abstract": "^1.23.5", "es-shim-unscopables": "^1.0.2" } }, "sha512-rwG/ja1neyLqCuGZ5YYrznA62D4mZXg0i1cIskIUKSiqF3Cje9/wXAls9B9s1Wa2fomMsIv8czB8jZcPmxCXFg=="],

    "array.prototype.flatmap": ["array.prototype.flatmap@1.3.3", "", { "dependencies": { "call-bind": "^1.0.8", "define-properties": "^1.2.1", "es-abstract": "^1.23.5", "es-shim-unscopables": "^1.0.2" } }, "sha512-Y7Wt51eKJSyi80hFrJCePGGNo5ktJCslFuboqJsbf57CCPcm5zztluPlc4/aD8sWsKvlwatezpV4U1efk8kpjg=="],

    "array.prototype.tosorted": ["array.prototype.tosorted@1.1.4", "", { "dependencies": { "call-bind": "^1.0.7", "define-properties": "^1.2.1", "es-abstract": "^1.23.3", "es-errors": "^1.3.0", "es-shim-unscopables": "^1.0.2" } }, "sha512-p6Fx8B7b7ZhL/gmUsAy0D15WhvDccw3mnGNbZpi3pmeJdxtWsj2jEaI4Y6oo3XiHfzuSgPwKc04MYt6KgvC/wA=="],

    "arraybuffer.prototype.slice": ["arraybuffer.prototype.slice@1.0.4", "", { "dependencies": { "array-buffer-byte-length": "^1.0.1", "call-bind": "^1.0.8", "define-properties": "^1.2.1", "es-abstract": "^1.23.5", "es-errors": "^1.3.0", "get-intrinsic": "^1.2.6", "is-array-buffer": "^3.0.4" } }, "sha512-BNoCY6SXXPQ7gF2opIP4GBE+Xw7U+pHMYKuzjgCN3GwiaIR09UUeKfheyIry77QtrCBlC0KK0q5/TER/tYh3PQ=="],

    "assertion-error": ["assertion-error@2.0.1", "", {}, "sha512-Izi8RQcffqCeNVgFigKli1ssklIbpHnCYc6AknXGYoB6grJqyeby7jv12JUQgmTAnIDnbck1uxksT4dzN3PWBA=="],

    "ast-types-flow": ["ast-types-flow@0.0.8", "", {}, "sha512-OH/2E5Fg20h2aPrbe+QL8JZQFko0YZaF+j4mnQ7BGhfavO7OpSLa8a0y9sBwomHdSbkhTS8TQNayBfnW5DwbvQ=="],

    "async-function": ["async-function@1.0.0", "", {}, "sha512-hsU18Ae8CDTR6Kgu9DYf0EbCr/a5iGL0rytQDobUcdpYOKokk8LEjVphnXkDkgpi0wYVsqrXuP0bZxJaTqdgoA=="],

    "available-typed-arrays": ["available-typed-arrays@1.0.7", "", { "dependencies": { "possible-typed-array-names": "^1.0.0" } }, "sha512-wvUjBtSGN7+7SjNpq/9M2Tg350UZD3q62IFZLbRAR1bSMlCo1ZaeW+BJ+D090e4hIIZLBcTDWe4Mh4jvUDajzQ=="],

    "axe-core": ["axe-core@4.11.1", "", {}, "sha512-BASOg+YwO2C+346x3LZOeoovTIoTrRqEsqMa6fmfAV0P+U9mFr9NsyOEpiYvFjbc64NMrSswhV50WdXzdb/Z5A=="],

    "axobject-query": ["axobject-query@4.1.0", "", {}, "sha512-qIj0G9wZbMGNLjLmg1PT6v2mE9AH2zlnADJD/2tC6E00hgmhUOfEB6greHPAfLRSufHqROIUTkw6E+M3lH0PTQ=="],

    "balanced-match": ["balanced-match@1.0.2", "", {}, "sha512-3oSeUO0TMV67hN1AmbXsK4yaqU7tjiHlbxRDZOpH0KW9+CeX4bRAaX0Anxt0tx2MrpRpWwQaPwIlISEJhYU5Pw=="],

    "baseline-browser-mapping": ["baseline-browser-mapping@2.9.18", "", { "bin": { "baseline-browser-mapping": "dist/cli.js" } }, "sha512-e23vBV1ZLfjb9apvfPk4rHVu2ry6RIr2Wfs+O324okSidrX7pTAnEJPCh/O5BtRlr7QtZI7ktOP3vsqr7Z5XoA=="],

    "brace-expansion": ["brace-expansion@1.1.12", "", { "dependencies": { "balanced-match": "^1.0.0", "concat-map": "0.0.1" } }, "sha512-9T9UjW3r0UW5c1Q7GTwllptXwhvYmEzFhzMfZ9H7FQWt+uZePjZPjBP/W1ZEyZ1twGWom5/56TF4lPcqjnDHcg=="],

    "braces": ["braces@3.0.3", "", { "dependencies": { "fill-range": "^7.1.1" } }, "sha512-yQbXgO/OSZVD2IsiLlro+7Hf6Q18EJrKSEsdoMzKePKXct3gvD8oLcOQdIzGupr5Fj+EDe8gO/lxc1BzfMpxvA=="],

    "browserslist": ["browserslist@4.28.1", "", { "dependencies": { "baseline-browser-mapping": "^2.9.0", "caniuse-lite": "^1.0.30001759", "electron-to-chromium": "^1.5.263", "node-releases": "^2.0.27", "update-browserslist-db": "^1.2.0" }, "bin": { "browserslist": "cli.js" } }, "sha512-ZC5Bd0LgJXgwGqUknZY/vkUQ04r8NXnJZ3yYi4vDmSiZmC/pdSN0NbNRPxZpbtO4uAfDUAFffO8IZoM3Gj8IkA=="],

    "call-bind": ["call-bind@1.0.8", "", { "dependencies": { "call-bind-apply-helpers": "^1.0.0", "es-define-property": "^1.0.0", "get-intrinsic": "^1.2.4", "set-function-length": "^1.2.2" } }, "sha512-oKlSFMcMwpUg2ednkhQ454wfWiU/ul3CkJe/PEHcTKuiX6RpbehUiFMXu13HalGZxfUwCQzZG747YXBn1im9ww=="],

    "call-bind-apply-helpers": ["call-bind-apply-helpers@1.0.2", "", { "dependencies": { "es-errors": "^1.3.0", "function-bind": "^1.1.2" } }, "sha512-Sp1ablJ0ivDkSzjcaJdxEunN5/XvksFJ2sMBFfq6x0ryhQV/2b/KwFe21cMpmHtPOSij8K99/wSfoEuTObmuMQ=="],

    "call-bound": ["call-bound@1.0.4", "", { "dependencies": { "call-bind-apply-helpers": "^1.0.2", "get-intrinsic": "^1.3.0" } }, "sha512-+ys997U96po4Kx/ABpBCqhA9EuxJaQWDQg7295H4hBphv3IZg0boBKuwYpt4YXp6MZ5AmZQnU/tyMTlRpaSejg=="],

    "callsites": ["callsites@3.1.0", "", {}, "sha512-P8BjAsXvZS+VIDUI11hHCQEv74YT67YUi5JJFNWIqL235sBmjX4+qx9Muvls5ivyNENctx46xQLQ3aTuE7ssaQ=="],

    "caniuse-lite": ["caniuse-lite@1.0.30001766", "", {}, "sha512-4C0lfJ0/YPjJQHagaE9x2Elb69CIqEPZeG0anQt9SIvIoOH4a4uaRl73IavyO+0qZh6MDLH//DrXThEYKHkmYA=="],

    "chai": ["chai@6.2.2", "", {}, "sha512-NUPRluOfOiTKBKvWPtSD4PhFvWCqOi0BGStNWs57X9js7XGTprSmFoz5F0tWhR4WPjNeR9jXqdC7/UpSJTnlRg=="],

    "chalk": ["chalk@4.1.2", "", { "dependencies": { "ansi-styles": "^4.1.0", "supports-color": "^7.1.0" } }, "sha512-oKnbhFyRIXpUuez8iBMmyEa4nbj4IOQyuhc/wy9kY7/WVPcwIO9VA668Pu8RkO7+0G76SLROeyw9CpQ061i4mA=="],

    "client-only": ["client-only@0.0.1", "", {}, "sha512-IV3Ou0jSMzZrd3pZ48nLkT9DA7Ag1pnPzaiQhpW7c3RbcqqzvzzVu+L8gfqMp/8IM2MQtSiqaCxrrcfu8I8rMA=="],

    "color-convert": ["color-convert@2.0.1", "", { "dependencies": { "color-name": "~1.1.4" } }, "sha512-RRECPsj7iu/xb5oKYcsFHSppFNnsj/52OVTRKb4zP5onXwVF3zVmmToNcOfGC+CRDpfK/U584fMg38ZHCaElKQ=="],

    "color-name": ["color-name@1.1.4", "", {}, "sha512-dOy+3AuW3a2wNbZHIuMZpTcgjGuLU/uBL/ubcZF9OXbDo8ff4O8yVp5Bf0efS8uEoYo5q4Fx7dY9OgQGXgAsQA=="],

    "concat-map": ["concat-map@0.0.1", "", {}, "sha512-/Srv4dswyQNBfohGpz9o6Yb3Gz3SrUDqBH5rTuhGR7ahtlbYKnVxw2bCFMRljaA7EXHaXZ8wsHdodFvbkhKmqg=="],

    "convert-source-map": ["convert-source-map@2.0.0", "", {}, "sha512-Kvp459HrV2FEJ1CAsi1Ku+MY3kasH19TFykTz2xWmMeq6bk2NU3XXvfJ+Q61m0xktWwt+1HSYf3JZsTms3aRJg=="],

    "cross-spawn": ["cross-spawn@7.0.6", "", { "dependencies": { "path-key": "^3.1.0", "shebang-command": "^2.0.0", "which": "^2.0.1" } }, "sha512-uV2QOWP2nWzsy2aMp8aRibhi9dlzF5Hgh5SHaB9OiTGEyDTiJJyx0uy51QXdyWbtAHNua4XJzUKca3OzKUd3vA=="],

    "csstype": ["csstype@3.2.3", "", {}, "sha512-z1HGKcYy2xA8AGQfwrn0PAy+PB7X/GSj3UVJW9qKyn43xWa+gl5nXmU4qqLMRzWVLFC8KusUX8T/0kCiOYpAIQ=="],

    "damerau-levenshtein": ["damerau-levenshtein@1.0.8", "", {}, "sha512-sdQSFB7+llfUcQHUQO3+B8ERRj0Oa4w9POWMI/puGtuf7gFywGmkaLCElnudfTiKZV+NvHqL0ifzdrI8Ro7ESA=="],

    "data-view-buffer": ["data-view-buffer@1.0.2", "", { "dependencies": { "call-bound": "^1.0.3", "es-errors": "^1.3.0", "is-data-view": "^1.0.2" } }, "sha512-EmKO5V3OLXh1rtK2wgXRansaK1/mtVdTUEiEI0W8RkvgT05kfxaH29PliLnpLP73yYO6142Q72QNa8Wx/A5CqQ=="],

    "data-view-byte-length": ["data-view-byte-length@1.0.2", "", { "dependencies": { "call-bound": "^1.0.3", "es-errors": "^1.3.0", "is-data-view": "^1.0.2" } }, "sha512-tuhGbE6CfTM9+5ANGf+oQb72Ky/0+s3xKUpHvShfiz2RxMFgFPjsXuRLBVMtvMs15awe45SRb83D6wH4ew6wlQ=="],

    "data-view-byte-offset": ["data-view-byte-offset@1.0.1", "", { "dependencies": { "call-bound": "^1.0.2", "es-errors": "^1.3.0", "is-data-view": "^1.0.1" } }, "sha512-BS8PfmtDGnrgYdOonGZQdLZslWIeCGFP9tpan0hi1Co2Zr2NKADsvGYA8XxuG/4UWgJ6Cjtv+YJnB6MM69QGlQ=="],

    "debug": ["debug@4.4.3", "", { "dependencies": { "ms": "^2.1.3" } }, "sha512-RGwwWnwQvkVfavKVt22FGLw+xYSdzARwm0ru6DhTVA3umU5hZc28V3kO4stgYryrTlLpuvgI9GiijltAjNbcqA=="],

    "deep-is": ["deep-is@0.1.4", "", {}, "sha512-oIPzksmTg4/MriiaYGO+okXDT7ztn/w3Eptv/+gSIdMdKsJo0u4CfYNFJPy+4SKMuCqGw2wxnA+URMg3t8a/bQ=="],

    "define-data-property": ["define-data-property@1.1.4", "", { "dependencies": { "es-define-property": "^1.0.0", "es-errors": "^1.3.0", "gopd": "^1.0.1" } }, "sha512-rBMvIzlpA8v6E+SJZoo++HAYqsLrkg7MSfIinMPFhmkorw7X+dOXVJQs+QT69zGkzMyfDnIMN2Wid1+NbL3T+A=="],

    "define-properties": ["define-properties@1.2.1", "", { "dependencies": { "define-data-property": "^1.0.1", "has-property-descriptors": "^1.0.0", "object-keys": "^1.1.1" } }, "sha512-8QmQKqEASLd5nx0U1B1okLElbUuuttJ/AnYmRXbbbGDWh6uS208EjD4Xqq/I9wK7u0v6O08XhTWnt5XtEbR6Dg=="],

    "detect-libc": ["detect-libc@2.1.2", "", {}, "sha512-Btj2BOOO83o3WyH59e8MgXsxEQVcarkUOpEYrubB0urwnN10yQ364rsiByU11nZlqWYZm05i/of7io4mzihBtQ=="],

    "doctrine": ["doctrine@2.1.0", "", { "dependencies": { "esutils": "^2.0.2" } }, "sha512-35mSku4ZXK0vfCuHEDAwt55dg2jNajHZ1odvF+8SSr82EsZY4QmXfuWso8oEd8zRhVObSN18aM0CjSdoBX7zIw=="],

    "dunder-proto": ["dunder-proto@1.0.1", "", { "dependencies": { "call-bind-apply-helpers": "^1.0.1", "es-errors": "^1.3.0", "gopd": "^1.2.0" } }, "sha512-KIN/nDJBQRcXw0MLVhZE9iQHmG68qAVIBg9CqmUYjmQIhgij9U5MFvrqkUL5FbtyyzZuOeOt0zdeRe4UY7ct+A=="],

    "electron-to-chromium": ["electron-to-chromium@1.5.279", "", {}, "sha512-0bblUU5UNdOt5G7XqGiJtpZMONma6WAfq9vsFmtn9x1+joAObr6x1chfqyxFSDCAFwFhCQDrqeAr6MYdpwJ9Hg=="],

    "emoji-regex": ["emoji-regex@9.2.2", "", {}, "sha512-L18DaJsXSUk2+42pv8mLs5jJT2hqFkFE4j21wOmgbUqsZ2hL72NsUU785g9RXgo3s0ZNgVl42TiHp3ZtOv/Vyg=="],

    "es-abstract": ["es-abstract@1.24.1", "", { "dependencies": { "array-buffer-byte-length": "^1.0.2", "arraybuffer.prototype.slice": "^1.0.4", "available-typed-arrays": "^1.0.7", "call-bind": "^1.0.8", "call-bound": "^1.0.4", "data-view-buffer": "^1.0.2", "data-view-byte-length": "^1.0.2", "data-view-byte-offset": "^1.0.1", "es-define-property": "^1.0.1", "es-errors": "^1.3.0", "es-object-atoms": "^1.1.1", "es-set-tostringtag": "^2.1.0", "es-to-primitive": "^1.3.0", "function.prototype.name": "^1.1.8", "get-intrinsic": "^1.3.0", "get-proto": "^1.0.1", "get-symbol-description": "^1.1.0", "globalthis": "^1.0.4", "gopd": "^1.2.0", "has-property-descriptors": "^1.0.2", "has-proto": "^1.2.0", "has-symbols": "^1.1.0", "hasown": "^2.0.2", "internal-slot": "^1.1.0", "is-array-buffer": "^3.0.5", "is-callable": "^1.2.7", "is-data-view": "^1.0.2", "is-negative-zero": "^2.0.3", "is-regex": "^1.2.1", "is-set": "^2.0.3", "is-shared-array-buffer": "^1.0.4", "is-string": "^1.1.1", "is-typed-array": "^1.1.15", "is-weakref": "^1.1.1", "math-intrinsics": "^1.1.0", "object-inspect": "^1.13.4", "object-keys": "^1.1.1", "object.assign": "^4.1.7", "own-keys": "^1.0.1", "regexp.prototype.flags": "^1.5.4", "safe-array-concat": "^1.1.3", "safe-push-apply": "^1.0.0", "safe-regex-test": "^1.1.0", "set-proto": "^1.0.0", "stop-iteration-iterator": "^1.1.0", "string.prototype.trim": "^1.2.10", "string.prototype.trimend": "^1.0.9", "string.prototype.trimstart": "^1.0.8", "typed-array-buffer": "^1.0.3", "typed-array-byte-length": "^1.0.3", "typed-array-byte-offset": "^1.0.4", "typed-array-length": "^1.0.7", "unbox-primitive": "^1.1.0", "which-typed-array": "^1.1.19" } }, "sha512-zHXBLhP+QehSSbsS9Pt23Gg964240DPd6QCf8WpkqEXxQ7fhdZzYsocOr5u7apWonsS5EjZDmTF+/slGMyasvw=="],

    "es-define-property": ["es-define-property@1.0.1", "", {}, "sha512-e3nRfgfUZ4rNGL232gUgX06QNyyez04KdjFrF+LTRoOXmrOgFKDg4BCdsjW8EnT69eqdYGmRpJwiPVYNrCaW3g=="],

    "es-errors": ["es-errors@1.3.0", "", {}, "sha512-Zf5H2Kxt2xjTvbJvP2ZWLEICxA6j+hAmMzIlypy4xcBg1vKVnx89Wy0GbS+kf5cwCVFFzdCFh2XSCFNULS6csw=="],

    "es-iterator-helpers": ["es-iterator-helpers@1.2.2", "", { "dependencies": { "call-bind": "^1.0.8", "call-bound": "^1.0.4", "define-properties": "^1.2.1", "es-abstract": "^1.24.1", "es-errors": "^1.3.0", "es-set-tostringtag": "^2.1.0", "function-bind": "^1.1.2", "get-intrinsic": "^1.3.0", "globalthis": "^1.0.4", "gopd": "^1.2.0", "has-property-descriptors": "^1.0.2", "has-proto": "^1.2.0", "has-symbols": "^1.1.0", "internal-slot": "^1.1.0", "iterator.prototype": "^1.1.5", "safe-array-concat": "^1.1.3" } }, "sha512-BrUQ0cPTB/IwXj23HtwHjS9n7O4h9FX94b4xc5zlTHxeLgTAdzYUDyy6KdExAl9lbN5rtfe44xpjpmj9grxs5w=="],

    "es-module-lexer": ["es-module-lexer@1.7.0", "", {}, "sha512-jEQoCwk8hyb2AZziIOLhDqpm5+2ww5uIE6lkO/6jcOCusfk6LhMHpXXfBLXTZ7Ydyt0j4VoUQv6uGNYbdW+kBA=="],

    "es-object-atoms": ["es-object-atoms@1.1.1", "", { "dependencies": { "es-errors": "^1.3.0" } }, "sha512-FGgH2h8zKNim9ljj7dankFPcICIK9Cp5bm+c2gQSYePhpaG5+esrLODihIorn+Pe6FGJzWhXQotPv73jTaldXA=="],

    "es-set-tostringtag": ["es-set-tostringtag@2.1.0", "", { "dependencies": { "es-errors": "^1.3.0", "get-intrinsic": "^1.2.6", "has-tostringtag": "^1.0.2", "hasown": "^2.0.2" } }, "sha512-j6vWzfrGVfyXxge+O0x5sh6cvxAog0a/4Rdd2K36zCMV5eJ+/+tOAngRO8cODMNWbVRdVlmGZQL2YS3yR8bIUA=="],

    "es-shim-unscopables": ["es-shim-unscopables@1.1.0", "", { "dependencies": { "hasown": "^2.0.2" } }, "sha512-d9T8ucsEhh8Bi1woXCf+TIKDIROLG5WCkxg8geBCbvk22kzwC5G2OnXVMO6FUsvQlgUUXQ2itephWDLqDzbeCw=="],

    "es-to-primitive": ["es-to-primitive@1.3.0", "", { "dependencies": { "is-callable": "^1.2.7", "is-date-object": "^1.0.5", "is-symbol": "^1.0.4" } }, "sha512-w+5mJ3GuFL+NjVtJlvydShqE1eN3h3PbI7/5LAsYJP/2qtuMXjfL2LpHSRqo4b4eSF5K/DH1JXKUAHSB2UW50g=="],

    "esbuild": ["esbuild@0.27.2", "", { "optionalDependencies": { "@esbuild/aix-ppc64": "0.27.2", "@esbuild/android-arm": "0.27.2", "@esbuild/android-arm64": "0.27.2", "@esbuild/android-x64": "0.27.2", "@esbuild/darwin-arm64": "0.27.2", "@esbuild/darwin-x64": "0.27.2", "@esbuild/freebsd-arm64": "0.27.2", "@esbuild/freebsd-x64": "0.27.2", "@esbuild/linux-arm": "0.27.2", "@esbuild/linux-arm64": "0.27.2", "@esbuild/linux-ia32": "0.27.2", "@esbuild/linux-loong64": "0.27.2", "@esbuild/linux-mips64el": "0.27.2", "@esbuild/linux-ppc64": "0.27.2", "@esbuild/linux-riscv64": "0.27.2", "@esbuild/linux-s390x": "0.27.2", "@esbuild/linux-x64": "0.27.2", "@esbuild/netbsd-arm64": "0.27.2", "@esbuild/netbsd-x64": "0.27.2", "@esbuild/openbsd-arm64": "0.27.2", "@esbuild/openbsd-x64": "0.27.2", "@esbuild/openharmony-arm64": "0.27.2", "@esbuild/sunos-x64": "0.27.2", "@esbuild/win32-arm64": "0.27.2", "@esbuild/win32-ia32": "0.27.2", "@esbuild/win32-x64": "0.27.2" }, "bin": { "esbuild": "bin/esbuild" } }, "sha512-HyNQImnsOC7X9PMNaCIeAm4ISCQXs5a5YasTXVliKv4uuBo1dKrG0A+uQS8M5eXjVMnLg3WgXaKvprHlFJQffw=="],

    "escalade": ["escalade@3.2.0", "", {}, "sha512-WUj2qlxaQtO4g6Pq5c29GTcWGDyd8itL8zTlipgECz3JesAiiOKotd8JU6otB3PACgG6xkJUyVhboMS+bje/jA=="],

    "escape-string-regexp": ["escape-string-regexp@4.0.0", "", {}, "sha512-TtpcNJ3XAzx3Gq8sWRzJaVajRs0uVxA2YAkdb1jm2YkPz4G6egUFAyA3n5vtEIZefPk5Wa4UXbKuS5fKkJWdgA=="],

    "eslint": ["eslint@9.39.2", "", { "dependencies": { "@eslint-community/eslint-utils": "^4.8.0", "@eslint-community/regexpp": "^4.12.1", "@eslint/config-array": "^0.21.1", "@eslint/config-helpers": "^0.4.2", "@eslint/core": "^0.17.0", "@eslint/eslintrc": "^3.3.1", "@eslint/js": "9.39.2", "@eslint/plugin-kit": "^0.4.1", "@humanfs/node": "^0.16.6", "@humanwhocodes/module-importer": "^1.0.1", "@humanwhocodes/retry": "^0.4.2", "@types/estree": "^1.0.6", "ajv": "^6.12.4", "chalk": "^4.0.0", "cross-spawn": "^7.0.6", "debug": "^4.3.2", "escape-string-regexp": "^4.0.0", "eslint-scope": "^8.4.0", "eslint-visitor-keys": "^4.2.1", "espree": "^10.4.0", "esquery": "^1.5.0", "esutils": "^2.0.2", "fast-deep-equal": "^3.1.3", "file-entry-cache": "^8.0.0", "find-up": "^5.0.0", "glob-parent": "^6.0.2", "ignore": "^5.2.0", "imurmurhash": "^0.1.4", "is-glob": "^4.0.0", "json-stable-stringify-without-jsonify": "^1.0.1", "lodash.merge": "^4.6.2", "minimatch": "^3.1.2", "natural-compare": "^1.4.0", "optionator": "^0.9.3" }, "peerDependencies": { "jiti": "*" }, "optionalPeers": ["jiti"], "bin": { "eslint": "bin/eslint.js" } }, "sha512-LEyamqS7W5HB3ujJyvi0HQK/dtVINZvd5mAAp9eT5S/ujByGjiZLCzPcHVzuXbpJDJF/cxwHlfceVUDZ2lnSTw=="],

    "eslint-config-next": ["eslint-config-next@16.1.5", "", { "dependencies": { "@next/eslint-plugin-next": "16.1.5", "eslint-import-resolver-node": "^0.3.6", "eslint-import-resolver-typescript": "^3.5.2", "eslint-plugin-import": "^2.32.0", "eslint-plugin-jsx-a11y": "^6.10.0", "eslint-plugin-react": "^7.37.0", "eslint-plugin-react-hooks": "^7.0.0", "globals": "16.4.0", "typescript-eslint": "^8.46.0" }, "peerDependencies": { "eslint": ">=9.0.0", "typescript": ">=3.3.1" }, "optionalPeers": ["typescript"] }, "sha512-XwXyv65DC1HXI3gMxm13jvgx0IxKu6XhZhIWTfCDt4c45njHYUM2pk1Y8QXMAWMMnqPy94I2OLMmvIrNGcwLwQ=="],

    "eslint-import-resolver-node": ["eslint-import-resolver-node@0.3.9", "", { "dependencies": { "debug": "^3.2.7", "is-core-module": "^2.13.0", "resolve": "^1.22.4" } }, "sha512-WFj2isz22JahUv+B788TlO3N6zL3nNJGU8CcZbPZvVEkBPaJdCV4vy5wyghty5ROFbCRnm132v8BScu5/1BQ8g=="],

    "eslint-import-resolver-typescript": ["eslint-import-resolver-typescript@3.10.1", "", { "dependencies": { "@nolyfill/is-core-module": "1.0.39", "debug": "^4.4.0", "get-tsconfig": "^4.10.0", "is-bun-module": "^2.0.0", "stable-hash": "^0.0.5", "tinyglobby": "^0.2.13", "unrs-resolver": "^1.6.2" }, "peerDependencies": { "eslint": "*", "eslint-plugin-import": "*", "eslint-plugin-import-x": "*" }, "optionalPeers": ["eslint-plugin-import", "eslint-plugin-import-x"] }, "sha512-A1rHYb06zjMGAxdLSkN2fXPBwuSaQ0iO5M/hdyS0Ajj1VBaRp0sPD3dn1FhME3c/JluGFbwSxyCfqdSbtQLAHQ=="],

    "eslint-module-utils": ["eslint-module-utils@2.12.1", "", { "dependencies": { "debug": "^3.2.7" } }, "sha512-L8jSWTze7K2mTg0vos/RuLRS5soomksDPoJLXIslC7c8Wmut3bx7CPpJijDcBZtxQ5lrbUdM+s0OlNbz0DCDNw=="],

    "eslint-plugin-import": ["eslint-plugin-import@2.32.0", "", { "dependencies": { "@rtsao/scc": "^1.1.0", "array-includes": "^3.1.9", "array.prototype.findlastindex": "^1.2.6", "array.prototype.flat": "^1.3.3", "array.prototype.flatmap": "^1.3.3", "debug": "^3.2.7", "doctrine": "^2.1.0", "eslint-import-resolver-node": "^0.3.9", "eslint-module-utils": "^2.12.1", "hasown": "^2.0.2", "is-core-module": "^2.16.1", "is-glob": "^4.0.3", "minimatch": "^3.1.2", "object.fromentries": "^2.0.8", "object.groupby": "^1.0.3", "object.values": "^1.2.1", "semver": "^6.3.1", "string.prototype.trimend": "^1.0.9", "tsconfig-paths": "^3.15.0" }, "peerDependencies": { "eslint": "^2 || ^3 || ^4 || ^5 || ^6 || ^7.2.0 || ^8 || ^9" } }, "sha512-whOE1HFo/qJDyX4SnXzP4N6zOWn79WhnCUY/iDR0mPfQZO8wcYE4JClzI2oZrhBnnMUCBCHZhO6VQyoBU95mZA=="],

    "eslint-plugin-jsx-a11y": ["eslint-plugin-jsx-a11y@6.10.2", "", { "dependencies": { "aria-query": "^5.3.2", "array-includes": "^3.1.8", "array.prototype.flatmap": "^1.3.2", "ast-types-flow": "^0.0.8", "axe-core": "^4.10.0", "axobject-query": "^4.1.0", "damerau-levenshtein": "^1.0.8", "emoji-regex": "^9.2.2", "hasown": "^2.0.2", "jsx-ast-utils": "^3.3.5", "language-tags": "^1.0.9", "minimatch": "^3.1.2", "object.fromentries": "^2.0.8", "safe-regex-test": "^1.0.3", "string.prototype.includes": "^2.0.1" }, "peerDependencies": { "eslint": "^3 || ^4 || ^5 || ^6 || ^7 || ^8 || ^9" } }, "sha512-scB3nz4WmG75pV8+3eRUQOHZlNSUhFNq37xnpgRkCCELU3XMvXAxLk1eqWWyE22Ki4Q01Fnsw9BA3cJHDPgn2Q=="],

    "eslint-plugin-react": ["eslint-plugin-react@7.37.5", "", { "dependencies": { "array-includes": "^3.1.8", "array.prototype.findlast": "^1.2.5", "array.prototype.flatmap": "^1.3.3", "array.prototype.tosorted": "^1.1.4", "doctrine": "^2.1.0", "es-iterator-helpers": "^1.2.1", "estraverse": "^5.3.0", "hasown": "^2.0.2", "jsx-ast-utils": "^2.4.1 || ^3.0.0", "minimatch": "^3.1.2", "object.entries": "^1.1.9", "object.fromentries": "^2.0.8", "object.values": "^1.2.1", "prop-types": "^15.8.1", "resolve": "^2.0.0-next.5", "semver": "^6.3.1", "string.prototype.matchall": "^4.0.12", "string.prototype.repeat": "^1.0.0" }, "peerDependencies": { "eslint": "^3 || ^4 || ^5 || ^6 || ^7 || ^8 || ^9.7" } }, "sha512-Qteup0SqU15kdocexFNAJMvCJEfa2xUKNV4CC1xsVMrIIqEy3SQ/rqyxCWNzfrd3/ldy6HMlD2e0JDVpDg2qIA=="],

    "eslint-plugin-react-hooks": ["eslint-plugin-react-hooks@7.0.1", "", { "dependencies": { "@babel/core": "^7.24.4", "@babel/parser": "^7.24.4", "hermes-parser": "^0.25.1", "zod": "^3.25.0 || ^4.0.0", "zod-validation-error": "^3.5.0 || ^4.0.0" }, "peerDependencies": { "eslint": "^3.0.0 || ^4.0.0 || ^5.0.0 || ^6.0.0 || ^7.0.0 || ^8.0.0-0 || ^9.0.0" } }, "sha512-O0d0m04evaNzEPoSW+59Mezf8Qt0InfgGIBJnpC0h3NH/WjUAR7BIKUfysC6todmtiZ/A0oUVS8Gce0WhBrHsA=="],

    "eslint-scope": ["eslint-scope@8.4.0", "", { "dependencies": { "esrecurse": "^4.3.0", "estraverse": "^5.2.0" } }, "sha512-sNXOfKCn74rt8RICKMvJS7XKV/Xk9kA7DyJr8mJik3S7Cwgy3qlkkmyS2uQB3jiJg6VNdZd/pDBJu0nvG2NlTg=="],

    "eslint-visitor-keys": ["eslint-visitor-keys@4.2.1", "", {}, "sha512-Uhdk5sfqcee/9H/rCOJikYz67o0a2Tw2hGRPOG2Y1R2dg7brRe1uG0yaNQDHu+TO/uQPF/5eCapvYSmHUjt7JQ=="],

    "espree": ["espree@10.4.0", "", { "dependencies": { "acorn": "^8.15.0", "acorn-jsx": "^5.3.2", "eslint-visitor-keys": "^4.2.1" } }, "sha512-j6PAQ2uUr79PZhBjP5C5fhl8e39FmRnOjsD5lGnWrFU8i2G776tBK7+nP8KuQUTTyAZUwfQqXAgrVH5MbH9CYQ=="],

    "esquery": ["esquery@1.7.0", "", { "dependencies": { "estraverse": "^5.1.0" } }, "sha512-Ap6G0WQwcU/LHsvLwON1fAQX9Zp0A2Y6Y/cJBl9r/JbW90Zyg4/zbG6zzKa2OTALELarYHmKu0GhpM5EO+7T0g=="],

    "esrecurse": ["esrecurse@4.3.0", "", { "dependencies": { "estraverse": "^5.2.0" } }, "sha512-KmfKL3b6G+RXvP8N1vr3Tq1kL/oCFgn2NYXEtqP8/L3pKapUA4G8cFVaoF3SU323CD4XypR/ffioHmkti6/Tag=="],

    "estraverse": ["estraverse@5.3.0", "", {}, "sha512-MMdARuVEQziNTeJD8DgMqmhwR11BRQ/cBP+pLtYdSTnf3MIO8fFeiINEbX36ZdNlfU/7A9f3gUw49B3oQsvwBA=="],

    "estree-walker": ["estree-walker@3.0.3", "", { "dependencies": { "@types/estree": "^1.0.0" } }, "sha512-7RUKfXgSMMkzt6ZuXmqapOurLGPPfgj6l9uRZ7lRGolvk0y2yocc35LdcxKC5PQZdn2DMqioAQ2NoWcrTKmm6g=="],

    "esutils": ["esutils@2.0.3", "", {}, "sha512-kVscqXk4OCp68SZ0dkgEKVi6/8ij300KBWTJq32P/dYeWTSwK41WyTxalN1eRmA5Z9UU/LX9D7FWSmV9SAYx6g=="],

    "expect-type": ["expect-type@1.3.0", "", {}, "sha512-knvyeauYhqjOYvQ66MznSMs83wmHrCycNEN6Ao+2AeYEfxUIkuiVxdEa1qlGEPK+We3n0THiDciYSsCcgW/DoA=="],

    "fast-deep-equal": ["fast-deep-equal@3.1.3", "", {}, "sha512-f3qQ9oQy9j2AhBe/H9VC91wLmKBCCU/gDOnKNAYG5hswO7BLKj09Hc5HYNz9cGI++xlpDCIgDaitVs03ATR84Q=="],

    "fast-glob": ["fast-glob@3.3.1", "", { "dependencies": { "@nodelib/fs.stat": "^2.0.2", "@nodelib/fs.walk": "^1.2.3", "glob-parent": "^5.1.2", "merge2": "^1.3.0", "micromatch": "^4.0.4" } }, "sha512-kNFPyjhh5cKjrUltxs+wFx+ZkbRaxxmZ+X0ZU31SOsxCEtP9VPgtq2teZw1DebupL5GmDaNQ6yKMMVcM41iqDg=="],

    "fast-json-stable-stringify": ["fast-json-stable-stringify@2.1.0", "", {}, "sha512-lhd/wF+Lk98HZoTCtlVraHtfh5XYijIjalXck7saUtuanSDyLMxnHhSXEDJqHxD7msR8D0uCmqlkwjCV8xvwHw=="],

    "fast-levenshtein": ["fast-levenshtein@2.0.6", "", {}, "sha512-DCXu6Ifhqcks7TZKY3Hxp3y6qphY5SJZmrWMDrKcERSOXWQdMhU9Ig/PYrzyw/ul9jOIyh0N4M0tbC5hodg8dw=="],

    "fastq": ["fastq@1.20.1", "", { "dependencies": { "reusify": "^1.0.4" } }, "sha512-GGToxJ/w1x32s/D2EKND7kTil4n8OVk/9mycTc4VDza13lOvpUZTGX3mFSCtV9ksdGBVzvsyAVLM6mHFThxXxw=="],

    "fdir": ["fdir@6.5.0", "", { "peerDependencies": { "picomatch": "^3 || ^4" }, "optionalPeers": ["picomatch"] }, "sha512-tIbYtZbucOs0BRGqPJkshJUYdL+SDH7dVM8gjy+ERp3WAUjLEFJE+02kanyHtwjWOnwrKYBiwAmM0p4kLJAnXg=="],

    "file-entry-cache": ["file-entry-cache@8.0.0", "", { "dependencies": { "flat-cache": "^4.0.0" } }, "sha512-XXTUwCvisa5oacNGRP9SfNtYBNAMi+RPwBFmblZEF7N7swHYQS6/Zfk7SRwx4D5j3CH211YNRco1DEMNVfZCnQ=="],

    "fill-range": ["fill-range@7.1.1", "", { "dependencies": { "to-regex-range": "^5.0.1" } }, "sha512-YsGpe3WHLK8ZYi4tWDg2Jy3ebRz2rXowDxnld4bkQB00cc/1Zw9AWnC0i9ztDJitivtQvaI9KaLyKrc+hBW0yg=="],

    "find-up": ["find-up@5.0.0", "", { "dependencies": { "locate-path": "^6.0.0", "path-exists": "^4.0.0" } }, "sha512-78/PXT1wlLLDgTzDs7sjq9hzz0vXD+zn+7wypEe4fXQxCmdmqfGsEPQxmiCSQI3ajFV91bVSsvNtrJRiW6nGng=="],

    "flat-cache": ["flat-cache@4.0.1", "", { "dependencies": { "flatted": "^3.2.9", "keyv": "^4.5.4" } }, "sha512-f7ccFPK3SXFHpx15UIGyRJ/FJQctuKZ0zVuN3frBo4HnK3cay9VEW0R6yPYFHC0AgqhukPzKjq22t5DmAyqGyw=="],

    "flatted": ["flatted@3.3.3", "", {}, "sha512-GX+ysw4PBCz0PzosHDepZGANEuFCMLrnRTiEy9McGjmkCQYwRq4A/X786G/fjM/+OjsWSU1ZrY5qyARZmO/uwg=="],

    "for-each": ["for-each@0.3.5", "", { "dependencies": { "is-callable": "^1.2.7" } }, "sha512-dKx12eRCVIzqCxFGplyFKJMPvLEWgmNtUrpTiJIR5u97zEhRG8ySrtboPHZXx7daLxQVrl643cTzbab2tkQjxg=="],

    "fsevents": ["fsevents@2.3.3", "", { "os": "darwin" }, "sha512-5xoDfX+fL7faATnagmWPpbFtwh/R77WmMMqqHGS65C3vvB0YHrgF+B1YmZ3441tMj5n63k0212XNoJwzlhffQw=="],

    "function-bind": ["function-bind@1.1.2", "", {}, "sha512-7XHNxH7qX9xG5mIwxkhumTox/MIRNcOgDrxWsMt2pAr23WHp6MrRlN7FBSFpCpr+oVO0F744iUgR82nJMfG2SA=="],

    "function.prototype.name": ["function.prototype.name@1.1.8", "", { "dependencies": { "call-bind": "^1.0.8", "call-bound": "^1.0.3", "define-properties": "^1.2.1", "functions-have-names": "^1.2.3", "hasown": "^2.0.2", "is-callable": "^1.2.7" } }, "sha512-e5iwyodOHhbMr/yNrc7fDYG4qlbIvI5gajyzPnb5TCwyhjApznQh1BMFou9b30SevY43gCJKXycoCBjMbsuW0Q=="],

    "functions-have-names": ["functions-have-names@1.2.3", "", {}, "sha512-xckBUXyTIqT97tq2x2AMb+g163b5JFysYk0x4qxNFwbfQkmNZoiRHb6sPzI9/QV33WeuvVYBUIiD4NzNIyqaRQ=="],

    "generator-function": ["generator-function@2.0.1", "", {}, "sha512-SFdFmIJi+ybC0vjlHN0ZGVGHc3lgE0DxPAT0djjVg+kjOnSqclqmj0KQ7ykTOLP6YxoqOvuAODGdcHJn+43q3g=="],

    "gensync": ["gensync@1.0.0-beta.2", "", {}, "sha512-3hN7NaskYvMDLQY55gnW3NQ+mesEAepTqlg+VEbj7zzqEMBVNhzcGYYeqFo/TlYz6eQiFcp1HcsCZO+nGgS8zg=="],

    "get-intrinsic": ["get-intrinsic@1.3.0", "", { "dependencies": { "call-bind-apply-helpers": "^1.0.2", "es-define-property": "^1.0.1", "es-errors": "^1.3.0", "es-object-atoms": "^1.1.1", "function-bind": "^1.1.2", "get-proto": "^1.0.1", "gopd": "^1.2.0", "has-symbols": "^1.1.0", "hasown": "^2.0.2", "math-intrinsics": "^1.1.0" } }, "sha512-9fSjSaos/fRIVIp+xSJlE6lfwhES7LNtKaCBIamHsjr2na1BiABJPo0mOjjz8GJDURarmCPGqaiVg5mfjb98CQ=="],

    "get-proto": ["get-proto@1.0.1", "", { "dependencies": { "dunder-proto": "^1.0.1", "es-object-atoms": "^1.0.0" } }, "sha512-sTSfBjoXBp89JvIKIefqw7U2CCebsc74kiY6awiGogKtoSGbgjYE/G/+l9sF3MWFPNc9IcoOC4ODfKHfxFmp0g=="],

    "get-symbol-description": ["get-symbol-description@1.1.0", "", { "dependencies": { "call-bound": "^1.0.3", "es-errors": "^1.3.0", "get-intrinsic": "^1.2.6" } }, "sha512-w9UMqWwJxHNOvoNzSJ2oPF5wvYcvP7jUvYzhp67yEhTi17ZDBBC1z9pTdGuzjD+EFIqLSYRweZjqfiPzQ06Ebg=="],

    "get-tsconfig": ["get-tsconfig@4.13.0", "", { "dependencies": { "resolve-pkg-maps": "^1.0.0" } }, "sha512-1VKTZJCwBrvbd+Wn3AOgQP/2Av+TfTCOlE4AcRJE72W1ksZXbAx8PPBR9RzgTeSPzlPMHrbANMH3LbltH73wxQ=="],

    "glob-parent": ["glob-parent@6.0.2", "", { "dependencies": { "is-glob": "^4.0.3" } }, "sha512-XxwI8EOhVQgWp6iDL+3b0r86f4d6AX6zSU55HfB4ydCEuXLXc5FcYeOu+nnGftS4TEju/11rt4KJPTMgbfmv4A=="],

    "globals": ["globals@16.4.0", "", {}, "sha512-ob/2LcVVaVGCYN+r14cnwnoDPUufjiYgSqRhiFD0Q1iI4Odora5RE8Iv1D24hAz5oMophRGkGz+yuvQmmUMnMw=="],

    "globalthis": ["globalthis@1.0.4", "", { "dependencies": { "define-properties": "^1.2.1", "gopd": "^1.0.1" } }, "sha512-DpLKbNU4WylpxJykQujfCcwYWiV/Jhm50Goo0wrVILAv5jOr9d+H+UR3PhSCD2rCCEIg0uc+G+muBTwD54JhDQ=="],

    "gopd": ["gopd@1.2.0", "", {}, "sha512-ZUKRh6/kUFoAiTAtTYPZJ3hw9wNxx+BIBOijnlG9PnrJsCcSjs1wyyD6vJpaYtgnzDrKYRSqf3OO6Rfa93xsRg=="],

    "has-bigints": ["has-bigints@1.1.0", "", {}, "sha512-R3pbpkcIqv2Pm3dUwgjclDRVmWpTJW2DcMzcIhEXEx1oh/CEMObMm3KLmRJOdvhM7o4uQBnwr8pzRK2sJWIqfg=="],

    "has-flag": ["has-flag@4.0.0", "", {}, "sha512-EykJT/Q1KjTWctppgIAgfSO0tKVuZUjhgMr17kqTumMl6Afv3EISleU7qZUzoXDFTAHTDC4NOoG/ZxU3EvlMPQ=="],

    "has-property-descriptors": ["has-property-descriptors@1.0.2", "", { "dependencies": { "es-define-property": "^1.0.0" } }, "sha512-55JNKuIW+vq4Ke1BjOTjM2YctQIvCT7GFzHwmfZPGo5wnrgkid0YQtnAleFSqumZm4az3n2BS+erby5ipJdgrg=="],

    "has-proto": ["has-proto@1.2.0", "", { "dependencies": { "dunder-proto": "^1.0.0" } }, "sha512-KIL7eQPfHQRC8+XluaIw7BHUwwqL19bQn4hzNgdr+1wXoU0KKj6rufu47lhY7KbJR2C6T6+PfyN0Ea7wkSS+qQ=="],

    "has-symbols": ["has-symbols@1.1.0", "", {}, "sha512-1cDNdwJ2Jaohmb3sg4OmKaMBwuC48sYni5HUw2DvsC8LjGTLK9h+eb1X6RyuOHe4hT0ULCW68iomhjUoKUqlPQ=="],

    "has-tostringtag": ["has-tostringtag@1.0.2", "", { "dependencies": { "has-symbols": "^1.0.3" } }, "sha512-NqADB8VjPFLM2V0VvHUewwwsw0ZWBaIdgo+ieHtK3hasLz4qeCRjYcqfB6AQrBggRKppKF8L52/VqdVsO47Dlw=="],

    "hasown": ["hasown@2.0.2", "", { "dependencies": { "function-bind": "^1.1.2" } }, "sha512-0hJU9SCPvmMzIBdZFqNPXWa6dqh7WdH0cII9y+CyS8rG3nL48Bclra9HmKhVVUHyPWNH5Y7xDwAB7bfgSjkUMQ=="],

    "hermes-estree": ["hermes-estree@0.25.1", "", {}, "sha512-0wUoCcLp+5Ev5pDW2OriHC2MJCbwLwuRx+gAqMTOkGKJJiBCLjtrvy4PWUGn6MIVefecRpzoOZ/UV6iGdOr+Cw=="],

    "hermes-parser": ["hermes-parser@0.25.1", "", { "dependencies": { "hermes-estree": "0.25.1" } }, "sha512-6pEjquH3rqaI6cYAXYPcz9MS4rY6R4ngRgrgfDshRptUZIc3lw0MCIJIGDj9++mfySOuPTHB4nrSW99BCvOPIA=="],

    "ignore": ["ignore@5.3.2", "", {}, "sha512-hsBTNUqQTDwkWtcdYI2i06Y/nUBEsNEDJKjWdigLvegy8kDuJAS8uRlpkkcQpyEXL0Z/pjDy5HBmMjRCJ2gq+g=="],

    "import-fresh": ["import-fresh@3.3.1", "", { "dependencies": { "parent-module": "^1.0.0", "resolve-from": "^4.0.0" } }, "sha512-TR3KfrTZTYLPB6jUjfx6MF9WcWrHL9su5TObK4ZkYgBdWKPOFoSoQIdEuTuR82pmtxH2spWG9h6etwfr1pLBqQ=="],

    "imurmurhash": ["imurmurhash@0.1.4", "", {}, "sha512-JmXMZ6wuvDmLiHEml9ykzqO6lwFbof0GG4IkcGaENdCRDDmMVnny7s5HsIgHCbaq0w2MyPhDqkhTUgS2LU2PHA=="],

    "internal-slot": ["internal-slot@1.1.0", "", { "dependencies": { "es-errors": "^1.3.0", "hasown": "^2.0.2", "side-channel": "^1.1.0" } }, "sha512-4gd7VpWNQNB4UKKCFFVcp1AVv+FMOgs9NKzjHKusc8jTMhd5eL1NqQqOpE0KzMds804/yHlglp3uxgluOqAPLw=="],

    "is-array-buffer": ["is-array-buffer@3.0.5", "", { "dependencies": { "call-bind": "^1.0.8", "call-bound": "^1.0.3", "get-intrinsic": "^1.2.6" } }, "sha512-DDfANUiiG2wC1qawP66qlTugJeL5HyzMpfr8lLK+jMQirGzNod0B12cFB/9q838Ru27sBwfw78/rdoU7RERz6A=="],

    "is-async-function": ["is-async-function@2.1.1", "", { "dependencies": { "async-function": "^1.0.0", "call-bound": "^1.0.3", "get-proto": "^1.0.1", "has-tostringtag": "^1.0.2", "safe-regex-test": "^1.1.0" } }, "sha512-9dgM/cZBnNvjzaMYHVoxxfPj2QXt22Ev7SuuPrs+xav0ukGB0S6d4ydZdEiM48kLx5kDV+QBPrpVnFyefL8kkQ=="],

    "is-bigint": ["is-bigint@1.1.0", "", { "dependencies": { "has-bigints": "^1.0.2" } }, "sha512-n4ZT37wG78iz03xPRKJrHTdZbe3IicyucEtdRsV5yglwc3GyUfbAfpSeD0FJ41NbUNSt5wbhqfp1fS+BgnvDFQ=="],

    "is-boolean-object": ["is-boolean-object@1.2.2", "", { "dependencies": { "call-bound": "^1.0.3", "has-tostringtag": "^1.0.2" } }, "sha512-wa56o2/ElJMYqjCjGkXri7it5FbebW5usLw/nPmCMs5DeZ7eziSYZhSmPRn0txqeW4LnAmQQU7FgqLpsEFKM4A=="],

    "is-bun-module": ["is-bun-module@2.0.0", "", { "dependencies": { "semver": "^7.7.1" } }, "sha512-gNCGbnnnnFAUGKeZ9PdbyeGYJqewpmc2aKHUEMO5nQPWU9lOmv7jcmQIv+qHD8fXW6W7qfuCwX4rY9LNRjXrkQ=="],

    "is-callable": ["is-callable@1.2.7", "", {}, "sha512-1BC0BVFhS/p0qtw6enp8e+8OD0UrK0oFLztSjNzhcKA3WDuJxxAPXzPuPtKkjEY9UUoEWlX/8fgKeu2S8i9JTA=="],

    "is-core-module": ["is-core-module@2.16.1", "", { "dependencies": { "hasown": "^2.0.2" } }, "sha512-UfoeMA6fIJ8wTYFEUjelnaGI67v6+N7qXJEvQuIGa99l4xsCruSYOVSQ0uPANn4dAzm8lkYPaKLrrijLq7x23w=="],

    "is-data-view": ["is-data-view@1.0.2", "", { "dependencies": { "call-bound": "^1.0.2", "get-intrinsic": "^1.2.6", "is-typed-array": "^1.1.13" } }, "sha512-RKtWF8pGmS87i2D6gqQu/l7EYRlVdfzemCJN/P3UOs//x1QE7mfhvzHIApBTRf7axvT6DMGwSwBXYCT0nfB9xw=="],

    "is-date-object": ["is-date-object@1.1.0", "", { "dependencies": { "call-bound": "^1.0.2", "has-tostringtag": "^1.0.2" } }, "sha512-PwwhEakHVKTdRNVOw+/Gyh0+MzlCl4R6qKvkhuvLtPMggI1WAHt9sOwZxQLSGpUaDnrdyDsomoRgNnCfKNSXXg=="],

    "is-extglob": ["is-extglob@2.1.1", "", {}, "sha512-SbKbANkN603Vi4jEZv49LeVJMn4yGwsbzZworEoyEiutsN3nJYdbO36zfhGJ6QEDpOZIFkDtnq5JRxmvl3jsoQ=="],

    "is-finalizationregistry": ["is-finalizationregistry@1.1.1", "", { "dependencies": { "call-bound": "^1.0.3" } }, "sha512-1pC6N8qWJbWoPtEjgcL2xyhQOP491EQjeUo3qTKcmV8YSDDJrOepfG8pcC7h/QgnQHYSv0mJ3Z/ZWxmatVrysg=="],

    "is-generator-function": ["is-generator-function@1.1.2", "", { "dependencies": { "call-bound": "^1.0.4", "generator-function": "^2.0.0", "get-proto": "^1.0.1", "has-tostringtag": "^1.0.2", "safe-regex-test": "^1.1.0" } }, "sha512-upqt1SkGkODW9tsGNG5mtXTXtECizwtS2kA161M+gJPc1xdb/Ax629af6YrTwcOeQHbewrPNlE5Dx7kzvXTizA=="],

    "is-glob": ["is-glob@4.0.3", "", { "dependencies": { "is-extglob": "^2.1.1" } }, "sha512-xelSayHH36ZgE7ZWhli7pW34hNbNl8Ojv5KVmkJD4hBdD3th8Tfk9vYasLM+mXWOZhFkgZfxhLSnrwRr4elSSg=="],

    "is-map": ["is-map@2.0.3", "", {}, "sha512-1Qed0/Hr2m+YqxnM09CjA2d/i6YZNfF6R2oRAOj36eUdS6qIV/huPJNSEpKbupewFs+ZsJlxsjjPbc0/afW6Lw=="],

    "is-negative-zero": ["is-negative-zero@2.0.3", "", {}, "sha512-5KoIu2Ngpyek75jXodFvnafB6DJgr3u8uuK0LEZJjrU19DrMD3EVERaR8sjz8CCGgpZvxPl9SuE1GMVPFHx1mw=="],

    "is-number": ["is-number@7.0.0", "", {}, "sha512-41Cifkg6e8TylSpdtTpeLVMqvSBEVzTttHvERD741+pnZ8ANv0004MRL43QKPDlK9cGvNp6NZWZUBlbGXYxxng=="],

    "is-number-object": ["is-number-object@1.1.1", "", { "dependencies": { "call-bound": "^1.0.3", "has-tostringtag": "^1.0.2" } }, "sha512-lZhclumE1G6VYD8VHe35wFaIif+CTy5SJIi5+3y4psDgWu4wPDoBhF8NxUOinEc7pHgiTsT6MaBb92rKhhD+Xw=="],

    "is-regex": ["is-regex@1.2.1", "", { "dependencies": { "call-bound": "^1.0.2", "gopd": "^1.2.0", "has-tostringtag": "^1.0.2", "hasown": "^2.0.2" } }, "sha512-MjYsKHO5O7mCsmRGxWcLWheFqN9DJ/2TmngvjKXihe6efViPqc274+Fx/4fYj/r03+ESvBdTXK0V6tA3rgez1g=="],

    "is-set": ["is-set@2.0.3", "", {}, "sha512-iPAjerrse27/ygGLxw+EBR9agv9Y6uLeYVJMu+QNCoouJ1/1ri0mGrcWpfCqFZuzzx3WjtwxG098X+n4OuRkPg=="],

    "is-shared-array-buffer": ["is-shared-array-buffer@1.0.4", "", { "dependencies": { "call-bound": "^1.0.3" } }, "sha512-ISWac8drv4ZGfwKl5slpHG9OwPNty4jOWPRIhBpxOoD+hqITiwuipOQ2bNthAzwA3B4fIjO4Nln74N0S9byq8A=="],

    "is-string": ["is-string@1.1.1", "", { "dependencies": { "call-bound": "^1.0.3", "has-tostringtag": "^1.0.2" } }, "sha512-BtEeSsoaQjlSPBemMQIrY1MY0uM6vnS1g5fmufYOtnxLGUZM2178PKbhsk7Ffv58IX+ZtcvoGwccYsh0PglkAA=="],

    "is-symbol": ["is-symbol@1.1.1", "", { "dependencies": { "call-bound": "^1.0.2", "has-symbols": "^1.1.0", "safe-regex-test": "^1.1.0" } }, "sha512-9gGx6GTtCQM73BgmHQXfDmLtfjjTUDSyoxTCbp5WtoixAhfgsDirWIcVQ/IHpvI5Vgd5i/J5F7B9cN/WlVbC/w=="],

    "is-typed-array": ["is-typed-array@1.1.15", "", { "dependencies": { "which-typed-array": "^1.1.16" } }, "sha512-p3EcsicXjit7SaskXHs1hA91QxgTw46Fv6EFKKGS5DRFLD8yKnohjF3hxoju94b/OcMZoQukzpPpBE9uLVKzgQ=="],

    "is-weakmap": ["is-weakmap@2.0.2", "", {}, "sha512-K5pXYOm9wqY1RgjpL3YTkF39tni1XajUIkawTLUo9EZEVUFga5gSQJF8nNS7ZwJQ02y+1YCNYcMh+HIf1ZqE+w=="],

    "is-weakref": ["is-weakref@1.1.1", "", { "dependencies": { "call-bound": "^1.0.3" } }, "sha512-6i9mGWSlqzNMEqpCp93KwRS1uUOodk2OJ6b+sq7ZPDSy2WuI5NFIxp/254TytR8ftefexkWn5xNiHUNpPOfSew=="],

    "is-weakset": ["is-weakset@2.0.4", "", { "dependencies": { "call-bound": "^1.0.3", "get-intrinsic": "^1.2.6" } }, "sha512-mfcwb6IzQyOKTs84CQMrOwW4gQcaTOAWJ0zzJCl2WSPDrWk/OzDaImWFH3djXhb24g4eudZfLRozAvPGw4d9hQ=="],

    "isarray": ["isarray@2.0.5", "", {}, "sha512-xHjhDr3cNBK0BzdUJSPXZntQUx/mwMS5Rw4A7lPJ90XGAO6ISP/ePDNuo0vhqOZU+UD5JoodwCAAoZQd3FeAKw=="],

    "isexe": ["isexe@2.0.0", "", {}, "sha512-RHxMLp9lnKHGHRng9QFhRCMbYAcVpn69smSGcq3f36xjgVVWThj4qqLbTLlq7Ssj8B+fIQ1EuCEGI2lKsyQeIw=="],

    "iterator.prototype": ["iterator.prototype@1.1.5", "", { "dependencies": { "define-data-property": "^1.1.4", "es-object-atoms": "^1.0.0", "get-intrinsic": "^1.2.6", "get-proto": "^1.0.0", "has-symbols": "^1.1.0", "set-function-name": "^2.0.2" } }, "sha512-H0dkQoCa3b2VEeKQBOxFph+JAbcrQdE7KC0UkqwpLmv2EC4P41QXP+rqo9wYodACiG5/WM5s9oDApTU8utwj9g=="],

    "js-tokens": ["js-tokens@4.0.0", "", {}, "sha512-RdJUflcE3cUzKiMqQgsCu06FPu9UdIJO0beYbPhHN4k6apgJtifcoCtT9bcxOpYBtpD2kCM6Sbzg4CausW/PKQ=="],

    "js-yaml": ["js-yaml@4.1.1", "", { "dependencies": { "argparse": "^2.0.1" }, "bin": { "js-yaml": "bin/js-yaml.js" } }, "sha512-qQKT4zQxXl8lLwBtHMWwaTcGfFOZviOJet3Oy/xmGk2gZH677CJM9EvtfdSkgWcATZhj/55JZ0rmy3myCT5lsA=="],

    "jsesc": ["jsesc@3.1.0", "", { "bin": { "jsesc": "bin/jsesc" } }, "sha512-/sM3dO2FOzXjKQhJuo0Q173wf2KOo8t4I8vHy6lF9poUp7bKT0/NHE8fPX23PwfhnykfqnC2xRxOnVw5XuGIaA=="],

    "json-buffer": ["json-buffer@3.0.1", "", {}, "sha512-4bV5BfR2mqfQTJm+V5tPPdf+ZpuhiIvTuAB5g8kcrXOZpTT/QwwVRWBywX1ozr6lEuPdbHxwaJlm9G6mI2sfSQ=="],

    "json-schema-traverse": ["json-schema-traverse@0.4.1", "", {}, "sha512-xbbCH5dCYU5T8LcEhhuh7HJ88HXuW3qsI3Y0zOZFKfZEHcpWiHU/Jxzk629Brsab/mMiHQti9wMP+845RPe3Vg=="],

    "json-stable-stringify-without-jsonify": ["json-stable-stringify-without-jsonify@1.0.1", "", {}, "sha512-Bdboy+l7tA3OGW6FjyFHWkP5LuByj1Tk33Ljyq0axyzdk9//JSi2u3fP1QSmd1KNwq6VOKYGlAu87CisVir6Pw=="],

    "json5": ["json5@1.0.2", "", { "dependencies": { "minimist": "^1.2.0" }, "bin": { "json5": "lib/cli.js" } }, "sha512-g1MWMLBiz8FKi1e4w0UyVL3w+iJceWAFBAaBnnGKOpNa5f8TLktkbre1+s6oICydWAm+HRUGTmI+//xv2hvXYA=="],

    "jsx-ast-utils": ["jsx-ast-utils@3.3.5", "", { "dependencies": { "array-includes": "^3.1.6", "array.prototype.flat": "^1.3.1", "object.assign": "^4.1.4", "object.values": "^1.1.6" } }, "sha512-ZZow9HBI5O6EPgSJLUb8n2NKgmVWTwCvHGwFuJlMjvLFqlGG6pjirPhtdsseaLZjSibD8eegzmYpUZwoIlj2cQ=="],

    "keyv": ["keyv@4.5.4", "", { "dependencies": { "json-buffer": "3.0.1" } }, "sha512-oxVHkHR/EJf2CNXnWxRLW6mg7JyCCUcG0DtEGmL2ctUo1PNTin1PUil+r/+4r5MpVgC/fn1kjsx7mjSujKqIpw=="],

    "language-subtag-registry": ["language-subtag-registry@0.3.23", "", {}, "sha512-0K65Lea881pHotoGEa5gDlMxt3pctLi2RplBb7Ezh4rRdLEOtgi7n4EwK9lamnUCkKBqaeKRVebTq6BAxSkpXQ=="],

    "language-tags": ["language-tags@1.0.9", "", { "dependencies": { "language-subtag-registry": "^0.3.20" } }, "sha512-MbjN408fEndfiQXbFQ1vnd+1NoLDsnQW41410oQBXiyXDMYH5z505juWa4KUE1LqxRC7DgOgZDbKLxHIwm27hA=="],

    "levn": ["levn@0.4.1", "", { "dependencies": { "prelude-ls": "^1.2.1", "type-check": "~0.4.0" } }, "sha512-+bT2uH4E5LGE7h/n3evcS/sQlJXCpIp6ym8OWJ5eV6+67Dsql/LaaT7qJBAt2rzfoa/5QBGBhxDix1dMt2kQKQ=="],

    "locate-path": ["locate-path@6.0.0", "", { "dependencies": { "p-locate": "^5.0.0" } }, "sha512-iPZK6eYjbxRu3uB4/WZ3EsEIMJFMqAoopl3R+zuq0UjcAm/MO6KCweDgPfP3elTztoKP3KtnVHxTn2NHBSDVUw=="],

    "lodash.merge": ["lodash.merge@4.6.2", "", {}, "sha512-0KpjqXRVvrYyCsX1swR/XTK0va6VQkQM6MNo7PqW77ByjAhoARA8EfrP1N4+KlKj8YS0ZUCtRT/YUuhyYDujIQ=="],

    "loose-envify": ["loose-envify@1.4.0", "", { "dependencies": { "js-tokens": "^3.0.0 || ^4.0.0" }, "bin": { "loose-envify": "cli.js" } }, "sha512-lyuxPGr/Wfhrlem2CL/UcnUc1zcqKAImBDzukY7Y5F/yQiNdko6+fRLevlw1HgMySw7f611UIY408EtxRSoK3Q=="],

    "lru-cache": ["lru-cache@5.1.1", "", { "dependencies": { "yallist": "^3.0.2" } }, "sha512-KpNARQA3Iwv+jTA0utUVVbrh+Jlrr1Fv0e56GGzAFOXN7dk/FviaDW8LHmK52DlcH4WP2n6gI8vN1aesBFgo9w=="],

    "magic-string": ["magic-string@0.30.21", "", { "dependencies": { "@jridgewell/sourcemap-codec": "^1.5.5" } }, "sha512-vd2F4YUyEXKGcLHoq+TEyCjxueSeHnFxyyjNp80yg0XV4vUhnDer/lvvlqM/arB5bXQN5K2/3oinyCRyx8T2CQ=="],

    "math-intrinsics": ["math-intrinsics@1.1.0", "", {}, "sha512-/IXtbwEk5HTPyEwyKX6hGkYXxM9nbj64B+ilVJnC/R6B0pH5G4V3b0pVbL7DBj4tkhBAppbQUlf6F6Xl9LHu1g=="],

    "merge2": ["merge2@1.4.1", "", {}, "sha512-8q7VEgMJW4J8tcfVPy8g09NcQwZdbwFEqhe/WZkoIzjn/3TGDwtOCYtXGxA3O8tPzpczCCDgv+P2P5y00ZJOOg=="],

    "micromatch": ["micromatch@4.0.8", "", { "dependencies": { "braces": "^3.0.3", "picomatch": "^2.3.1" } }, "sha512-PXwfBhYu0hBCPw8Dn0E+WDYb7af3dSLVWKi3HGv84IdF4TyFoC0ysxFd0Goxw7nSv4T/PzEJQxsYsEiFCKo2BA=="],

    "minimatch": ["minimatch@3.1.2", "", { "dependencies": { "brace-expansion": "^1.1.7" } }, "sha512-J7p63hRiAjw1NDEww1W7i37+ByIrOWO5XQQAzZ3VOcL0PNybwpfmV/N05zFAzwQ9USyEcX6t3UO+K5aqBQOIHw=="],

    "minimist": ["minimist@1.2.8", "", {}, "sha512-2yyAR8qBkN3YuheJanUpWC5U3bb5osDywNB8RzDVlDwDHbocAJveqqj1u8+SVD7jkWT4yvsHCpWqqWqAxb0zCA=="],

    "ms": ["ms@2.1.3", "", {}, "sha512-6FlzubTLZG3J2a/NVCAleEhjzq5oxgHyaCU9yYXvcLsvoVaHJq/s5xXI6/XXP6tz7R9xAOtHnSO/tXtF3WRTlA=="],

    "nanoid": ["nanoid@3.3.11", "", { "bin": { "nanoid": "bin/nanoid.cjs" } }, "sha512-N8SpfPUnUp1bK+PMYW8qSWdl9U+wwNWI4QKxOYDy9JAro3WMX7p2OeVRF9v+347pnakNevPmiHhNmZ2HbFA76w=="],

    "napi-postinstall": ["napi-postinstall@0.3.4", "", { "bin": { "napi-postinstall": "lib/cli.js" } }, "sha512-PHI5f1O0EP5xJ9gQmFGMS6IZcrVvTjpXjz7Na41gTE7eE2hK11lg04CECCYEEjdc17EV4DO+fkGEtt7TpTaTiQ=="],

    "natural-compare": ["natural-compare@1.4.0", "", {}, "sha512-OWND8ei3VtNC9h7V60qff3SVobHr996CTwgxubgyQYEpg290h9J0buyECNNJexkFm5sOajh5G116RYA1c8ZMSw=="],

    "next": ["next@16.1.5", "", { "dependencies": { "@next/env": "16.1.5", "@swc/helpers": "0.5.15", "baseline-browser-mapping": "^2.8.3", "caniuse-lite": "^1.0.30001579", "postcss": "8.4.31", "styled-jsx": "5.1.6" }, "optionalDependencies": { "@next/swc-darwin-arm64": "16.1.5", "@next/swc-darwin-x64": "16.1.5", "@next/swc-linux-arm64-gnu": "16.1.5", "@next/swc-linux-arm64-musl": "16.1.5", "@next/swc-linux-x64-gnu": "16.1.5", "@next/swc-linux-x64-musl": "16.1.5", "@next/swc-win32-arm64-msvc": "16.1.5", "@next/swc-win32-x64-msvc": "16.1.5", "sharp": "^0.34.4" }, "peerDependencies": { "@opentelemetry/api": "^1.1.0", "@playwright/test": "^1.51.1", "babel-plugin-react-compiler": "*", "react": "^18.2.0 || 19.0.0-rc-de68d2f4-20241204 || ^19.0.0", "react-dom": "^18.2.0 || 19.0.0-rc-de68d2f4-20241204 || ^19.0.0", "sass": "^1.3.0" }, "optionalPeers": ["@opentelemetry/api", "@playwright/test", "babel-plugin-react-compiler", "sass"], "bin": { "next": "dist/bin/next" } }, "sha512-f+wE+NSbiQgh3DSAlTaw2FwY5yGdVViAtp8TotNQj4kk4Q8Bh1sC/aL9aH+Rg1YAVn18OYXsRDT7U/079jgP7w=="],

    "node-releases": ["node-releases@2.0.27", "", {}, "sha512-nmh3lCkYZ3grZvqcCH+fjmQ7X+H0OeZgP40OierEaAptX4XofMh5kwNbWh7lBduUzCcV/8kZ+NDLCwm2iorIlA=="],

    "object-assign": ["object-assign@4.1.1", "", {}, "sha512-rJgTQnkUnH1sFw8yT6VSU3zD3sWmu6sZhIseY8VX+GRu3P6F7Fu+JNDoXfklElbLJSnc3FUQHVe4cU5hj+BcUg=="],

    "object-inspect": ["object-inspect@1.13.4", "", {}, "sha512-W67iLl4J2EXEGTbfeHCffrjDfitvLANg0UlX3wFUUSTx92KXRFegMHUVgSqE+wvhAbi4WqjGg9czysTV2Epbew=="],

    "object-keys": ["object-keys@1.1.1", "", {}, "sha512-NuAESUOUMrlIXOfHKzD6bpPu3tYt3xvjNdRIQ+FeT0lNb4K8WR70CaDxhuNguS2XG+GjkyMwOzsN5ZktImfhLA=="],

    "object.assign": ["object.assign@4.1.7", "", { "dependencies": { "call-bind": "^1.0.8", "call-bound": "^1.0.3", "define-properties": "^1.2.1", "es-object-atoms": "^1.0.0", "has-symbols": "^1.1.0", "object-keys": "^1.1.1" } }, "sha512-nK28WOo+QIjBkDduTINE4JkF/UJJKyf2EJxvJKfblDpyg0Q+pkOHNTL0Qwy6NP6FhE/EnzV73BxxqcJaXY9anw=="],

    "object.entries": ["object.entries@1.1.9", "", { "dependencies": { "call-bind": "^1.0.8", "call-bound": "^1.0.4", "define-properties": "^1.2.1", "es-object-atoms": "^1.1.1" } }, "sha512-8u/hfXFRBD1O0hPUjioLhoWFHRmt6tKA4/vZPyckBr18l1KE9uHrFaFaUi8MDRTpi4uak2goyPTSNJLXX2k2Hw=="],

    "object.fromentries": ["object.fromentries@2.0.8", "", { "dependencies": { "call-bind": "^1.0.7", "define-properties": "^1.2.1", "es-abstract": "^1.23.2", "es-object-atoms": "^1.0.0" } }, "sha512-k6E21FzySsSK5a21KRADBd/NGneRegFO5pLHfdQLpRDETUNJueLXs3WCzyQ3tFRDYgbq3KHGXfTbi2bs8WQ6rQ=="],

    "object.groupby": ["object.groupby@1.0.3", "", { "dependencies": { "call-bind": "^1.0.7", "define-properties": "^1.2.1", "es-abstract": "^1.23.2" } }, "sha512-+Lhy3TQTuzXI5hevh8sBGqbmurHbbIjAi0Z4S63nthVLmLxfbj4T54a4CfZrXIrt9iP4mVAPYMo/v99taj3wjQ=="],

    "object.values": ["object.values@1.2.1", "", { "dependencies": { "call-bind": "^1.0.8", "call-bound": "^1.0.3", "define-properties": "^1.2.1", "es-object-atoms": "^1.0.0" } }, "sha512-gXah6aZrcUxjWg2zR2MwouP2eHlCBzdV4pygudehaKXSGW4v2AsRQUK+lwwXhii6KFZcunEnmSUoYp5CXibxtA=="],

    "obug": ["obug@2.1.1", "", {}, "sha512-uTqF9MuPraAQ+IsnPf366RG4cP9RtUi7MLO1N3KEc+wb0a6yKpeL0lmk2IB1jY5KHPAlTc6T/JRdC/YqxHNwkQ=="],

    "optionator": ["optionator@0.9.4", "", { "dependencies": { "deep-is": "^0.1.3", "fast-levenshtein": "^2.0.6", "levn": "^0.4.1", "prelude-ls": "^1.2.1", "type-check": "^0.4.0", "word-wrap": "^1.2.5" } }, "sha512-6IpQ7mKUxRcZNLIObR0hz7lxsapSSIYNZJwXPGeF0mTVqGKFIXj1DQcMoT22S3ROcLyY/rz0PWaWZ9ayWmad9g=="],

    "own-keys": ["own-keys@1.0.1", "", { "dependencies": { "get-intrinsic": "^1.2.6", "object-keys": "^1.1.1", "safe-push-apply": "^1.0.0" } }, "sha512-qFOyK5PjiWZd+QQIh+1jhdb9LpxTF0qs7Pm8o5QHYZ0M3vKqSqzsZaEB6oWlxZ+q2sJBMI/Ktgd2N5ZwQoRHfg=="],

    "p-limit": ["p-limit@3.1.0", "", { "dependencies": { "yocto-queue": "^0.1.0" } }, "sha512-TYOanM3wGwNGsZN2cVTYPArw454xnXj5qmWF1bEoAc4+cU/ol7GVh7odevjp1FNHduHc3KZMcFduxU5Xc6uJRQ=="],

    "p-locate": ["p-locate@5.0.0", "", { "dependencies": { "p-limit": "^3.0.2" } }, "sha512-LaNjtRWUBY++zB5nE/NwcaoMylSPk+S+ZHNB1TzdbMJMny6dynpAGt7X/tl/QYq3TIeE6nxHppbo2LGymrG5Pw=="],

    "parent-module": ["parent-module@1.0.1", "", { "dependencies": { "callsites": "^3.0.0" } }, "sha512-GQ2EWRpQV8/o+Aw8YqtfZZPfNRWZYkbidE9k5rpl/hC3vtHHBfGm2Ifi6qWV+coDGkrUKZAxE3Lot5kcsRlh+g=="],

    "path-exists": ["path-exists@4.0.0", "", {}, "sha512-ak9Qy5Q7jYb2Wwcey5Fpvg2KoAc/ZIhLSLOSBmRmygPsGwkVVt0fZa0qrtMz+m6tJTAHfZQ8FnmB4MG4LWy7/w=="],

    "path-key": ["path-key@3.1.1", "", {}, "sha512-ojmeN0qd+y0jszEtoY48r0Peq5dwMEkIlCOu6Q5f41lfkswXuKtYrhgoTpLnyIcHm24Uhqx+5Tqm2InSwLhE6Q=="],

    "path-parse": ["path-parse@1.0.7", "", {}, "sha512-LDJzPVEEEPR+y48z93A0Ed0yXb8pAByGWo/k5YYdYgpY2/2EsOsksJrq7lOHxryrVOn1ejG6oAp8ahvOIQD8sw=="],

    "pathe": ["pathe@2.0.3", "", {}, "sha512-WUjGcAqP1gQacoQe+OBJsFA7Ld4DyXuUIjZ5cc75cLHvJ7dtNsTugphxIADwspS+AraAUePCKrSVtPLFj/F88w=="],

    "picocolors": ["picocolors@1.1.1", "", {}, "sha512-xceH2snhtb5M9liqDsmEw56le376mTZkEX/jEb/RxNFyegNul7eNslCXP9FDj/Lcu0X8KEyMceP2ntpaHrDEVA=="],

    "picomatch": ["picomatch@4.0.3", "", {}, "sha512-5gTmgEY/sqK6gFXLIsQNH19lWb4ebPDLA4SdLP7dsWkIXHWlG66oPuVvXSGFPppYZz8ZDZq0dYYrbHfBCVUb1Q=="],

    "possible-typed-array-names": ["possible-typed-array-names@1.1.0", "", {}, "sha512-/+5VFTchJDoVj3bhoqi6UeymcD00DAwb1nJwamzPvHEszJ4FpF6SNNbUbOS8yI56qHzdV8eK0qEfOSiodkTdxg=="],

    "postcss": ["postcss@8.4.31", "", { "dependencies": { "nanoid": "^3.3.6", "picocolors": "^1.0.0", "source-map-js": "^1.0.2" } }, "sha512-PS08Iboia9mts/2ygV3eLpY5ghnUcfLV/EXTOW1E2qYxJKGGBUtNjN76FYHnMs36RmARn41bC0AZmn+rR0OVpQ=="],

    "prelude-ls": ["prelude-ls@1.2.1", "", {}, "sha512-vkcDPrRZo1QZLbn5RLGPpg/WmIQ65qoWWhcGKf/b5eplkkarX0m9z8ppCat4mlOqUsWpyNuYgO3VRyrYHSzX5g=="],

    "prop-types": ["prop-types@15.8.1", "", { "dependencies": { "loose-envify": "^1.4.0", "object-assign": "^4.1.1", "react-is": "^16.13.1" } }, "sha512-oj87CgZICdulUohogVAR7AjlC0327U4el4L6eAvOqCeudMDVU0NThNaV+b9Df4dXgSP1gXMTnPdhfe/2qDH5cg=="],

    "punycode": ["punycode@2.3.1", "", {}, "sha512-vYt7UD1U9Wg6138shLtLOvdAu+8DsC/ilFtEVHcH+wydcSpNE20AfSOduf6MkRFahL5FY7X1oU7nKVZFtfq8Fg=="],

    "queue-microtask": ["queue-microtask@1.2.3", "", {}, "sha512-NuaNSa6flKT5JaSYQzJok04JzTL1CA6aGhv5rfLW3PgqA+M2ChpZQnAC8h8i4ZFkBS8X5RqkDBHA7r4hej3K9A=="],

    "react": ["react@19.2.3", "", {}, "sha512-Ku/hhYbVjOQnXDZFv2+RibmLFGwFdeeKHFcOTlrt7xplBnya5OGn/hIRDsqDiSUcfORsDC7MPxwork8jBwsIWA=="],

    "react-dom": ["react-dom@19.2.3", "", { "dependencies": { "scheduler": "^0.27.0" }, "peerDependencies": { "react": "^19.2.3" } }, "sha512-yELu4WmLPw5Mr/lmeEpox5rw3RETacE++JgHqQzd2dg+YbJuat3jH4ingc+WPZhxaoFzdv9y33G+F7Nl5O0GBg=="],

    "react-is": ["react-is@16.13.1", "", {}, "sha512-24e6ynE2H+OKt4kqsOvNd8kBpV65zoxbA4BVsEOB3ARVWQki/DHzaUoC5KuON/BiccDaCCTZBuOcfZs70kR8bQ=="],

    "reflect.getprototypeof": ["reflect.getprototypeof@1.0.10", "", { "dependencies": { "call-bind": "^1.0.8", "define-properties": "^1.2.1", "es-abstract": "^1.23.9", "es-errors": "^1.3.0", "es-object-atoms": "^1.0.0", "get-intrinsic": "^1.2.7", "get-proto": "^1.0.1", "which-builtin-type": "^1.2.1" } }, "sha512-00o4I+DVrefhv+nX0ulyi3biSHCPDe+yLv5o/p6d/UVlirijB8E16FtfwSAi4g3tcqrQ4lRAqQSoFEZJehYEcw=="],

    "regexp.prototype.flags": ["regexp.prototype.flags@1.5.4", "", { "dependencies": { "call-bind": "^1.0.8", "define-properties": "^1.2.1", "es-errors": "^1.3.0", "get-proto": "^1.0.1", "gopd": "^1.2.0", "set-function-name": "^2.0.2" } }, "sha512-dYqgNSZbDwkaJ2ceRd9ojCGjBq+mOm9LmtXnAnEGyHhN/5R7iDW2TRw3h+o/jCFxus3P2LfWIIiwowAjANm7IA=="],

    "resolve": ["resolve@1.22.11", "", { "dependencies": { "is-core-module": "^2.16.1", "path-parse": "^1.0.7", "supports-preserve-symlinks-flag": "^1.0.0" }, "bin": { "resolve": "bin/resolve" } }, "sha512-RfqAvLnMl313r7c9oclB1HhUEAezcpLjz95wFH4LVuhk9JF/r22qmVP9AMmOU4vMX7Q8pN8jwNg/CSpdFnMjTQ=="],

    "resolve-from": ["resolve-from@4.0.0", "", {}, "sha512-pb/MYmXstAkysRFx8piNI1tGFNQIFA3vkE3Gq4EuA1dF6gHp/+vgZqsCGJapvy8N3Q+4o7FwvquPJcnZ7RYy4g=="],

    "resolve-pkg-maps": ["resolve-pkg-maps@1.0.0", "", {}, "sha512-seS2Tj26TBVOC2NIc2rOe2y2ZO7efxITtLZcGSOnHHNOQ7CkiUBfw0Iw2ck6xkIhPwLhKNLS8BO+hEpngQlqzw=="],

    "reusify": ["reusify@1.1.0", "", {}, "sha512-g6QUff04oZpHs0eG5p83rFLhHeV00ug/Yf9nZM6fLeUrPguBTkTQOdpAWWspMh55TZfVQDPaN3NQJfbVRAxdIw=="],

    "rollup": ["rollup@4.57.0", "", { "dependencies": { "@types/estree": "1.0.8" }, "optionalDependencies": { "@rollup/rollup-android-arm-eabi": "4.57.0", "@rollup/rollup-android-arm64": "4.57.0", "@rollup/rollup-darwin-arm64": "4.57.0", "@rollup/rollup-darwin-x64": "4.57.0", "@rollup/rollup-freebsd-arm64": "4.57.0", "@rollup/rollup-freebsd-x64": "4.57.0", "@rollup/rollup-linux-arm-gnueabihf": "4.57.0", "@rollup/rollup-linux-arm-musleabihf": "4.57.0", "@rollup/rollup-linux-arm64-gnu": "4.57.0", "@rollup/rollup-linux-arm64-musl": "4.57.0", "@rollup/rollup-linux-loong64-gnu": "4.57.0", "@rollup/rollup-linux-loong64-musl": "4.57.0", "@rollup/rollup-linux-ppc64-gnu": "4.57.0", "@rollup/rollup-linux-ppc64-musl": "4.57.0", "@rollup/rollup-linux-riscv64-gnu": "4.57.0", "@rollup/rollup-linux-riscv64-musl": "4.57.0", "@rollup/rollup-linux-s390x-gnu": "4.57.0", "@rollup/rollup-linux-x64-gnu": "4.57.0", "@rollup/rollup-linux-x64-musl": "4.57.0", "@rollup/rollup-openbsd-x64": "4.57.0", "@rollup/rollup-openharmony-arm64": "4.57.0", "@rollup/rollup-win32-arm64-msvc": "4.57.0", "@rollup/rollup-win32-ia32-msvc": "4.57.0", "@rollup/rollup-win32-x64-gnu": "4.57.0", "@rollup/rollup-win32-x64-msvc": "4.57.0", "fsevents": "~2.3.2" }, "bin": { "rollup": "dist/bin/rollup" } }, "sha512-e5lPJi/aui4TO1LpAXIRLySmwXSE8k3b9zoGfd42p67wzxog4WHjiZF3M2uheQih4DGyc25QEV4yRBbpueNiUA=="],

    "run-parallel": ["run-parallel@1.2.0", "", { "dependencies": { "queue-microtask": "^1.2.2" } }, "sha512-5l4VyZR86LZ/lDxZTR6jqL8AFE2S0IFLMP26AbjsLVADxHdhB/c0GUsH+y39UfCi3dzz8OlQuPmnaJOMoDHQBA=="],

    "safe-array-concat": ["safe-array-concat@1.1.3", "", { "dependencies": { "call-bind": "^1.0.8", "call-bound": "^1.0.2", "get-intrinsic": "^1.2.6", "has-symbols": "^1.1.0", "isarray": "^2.0.5" } }, "sha512-AURm5f0jYEOydBj7VQlVvDrjeFgthDdEF5H1dP+6mNpoXOMo1quQqJ4wvJDyRZ9+pO3kGWoOdmV08cSv2aJV6Q=="],

    "safe-push-apply": ["safe-push-apply@1.0.0", "", { "dependencies": { "es-errors": "^1.3.0", "isarray": "^2.0.5" } }, "sha512-iKE9w/Z7xCzUMIZqdBsp6pEQvwuEebH4vdpjcDWnyzaI6yl6O9FHvVpmGelvEHNsoY6wGblkxR6Zty/h00WiSA=="],

    "safe-regex-test": ["safe-regex-test@1.1.0", "", { "dependencies": { "call-bound": "^1.0.2", "es-errors": "^1.3.0", "is-regex": "^1.2.1" } }, "sha512-x/+Cz4YrimQxQccJf5mKEbIa1NzeCRNI5Ecl/ekmlYaampdNLPalVyIcCZNNH3MvmqBugV5TMYZXv0ljslUlaw=="],

    "scheduler": ["scheduler@0.27.0", "", {}, "sha512-eNv+WrVbKu1f3vbYJT/xtiF5syA5HPIMtf9IgY/nKg0sWqzAUEvqY/xm7OcZc/qafLx/iO9FgOmeSAp4v5ti/Q=="],

    "semver": ["semver@6.3.1", "", { "bin": { "semver": "bin/semver.js" } }, "sha512-BR7VvDCVHO+q2xBEWskxS6DJE1qRnb7DxzUrogb71CWoSficBxYsiAGd+Kl0mmq/MprG9yArRkyrQxTO6XjMzA=="],

    "set-function-length": ["set-function-length@1.2.2", "", { "dependencies": { "define-data-property": "^1.1.4", "es-errors": "^1.3.0", "function-bind": "^1.1.2", "get-intrinsic": "^1.2.4", "gopd": "^1.0.1", "has-property-descriptors": "^1.0.2" } }, "sha512-pgRc4hJ4/sNjWCSS9AmnS40x3bNMDTknHgL5UaMBTMyJnU90EgWh1Rz+MC9eFu4BuN/UwZjKQuY/1v3rM7HMfg=="],

    "set-function-name": ["set-function-name@2.0.2", "", { "dependencies": { "define-data-property": "^1.1.4", "es-errors": "^1.3.0", "functions-have-names": "^1.2.3", "has-property-descriptors": "^1.0.2" } }, "sha512-7PGFlmtwsEADb0WYyvCMa1t+yke6daIG4Wirafur5kcf+MhUnPms1UeR0CKQdTZD81yESwMHbtn+TR+dMviakQ=="],

    "set-proto": ["set-proto@1.0.0", "", { "dependencies": { "dunder-proto": "^1.0.1", "es-errors": "^1.3.0", "es-object-atoms": "^1.0.0" } }, "sha512-RJRdvCo6IAnPdsvP/7m6bsQqNnn1FCBX5ZNtFL98MmFF/4xAIJTIg1YbHW5DC2W5SKZanrC6i4HsJqlajw/dZw=="],

    "sharp": ["sharp@0.34.5", "", { "dependencies": { "@img/colour": "^1.0.0", "detect-libc": "^2.1.2", "semver": "^7.7.3" }, "optionalDependencies": { "@img/sharp-darwin-arm64": "0.34.5", "@img/sharp-darwin-x64": "0.34.5", "@img/sharp-libvips-darwin-arm64": "1.2.4", "@img/sharp-libvips-darwin-x64": "1.2.4", "@img/sharp-libvips-linux-arm": "1.2.4", "@img/sharp-libvips-linux-arm64": "1.2.4", "@img/sharp-libvips-linux-ppc64": "1.2.4", "@img/sharp-libvips-linux-riscv64": "1.2.4", "@img/sharp-libvips-linux-s390x": "1.2.4", "@img/sharp-libvips-linux-x64": "1.2.4", "@img/sharp-libvips-linuxmusl-arm64": "1.2.4", "@img/sharp-libvips-linuxmusl-x64": "1.2.4", "@img/sharp-linux-arm": "0.34.5", "@img/sharp-linux-arm64": "0.34.5", "@img/sharp-linux-ppc64": "0.34.5", "@img/sharp-linux-riscv64": "0.34.5", "@img/sharp-linux-s390x": "0.34.5", "@img/sharp-linux-x64": "0.34.5", "@img/sharp-linuxmusl-arm64": "0.34.5", "@img/sharp-linuxmusl-x64": "0.34.5", "@img/sharp-wasm32": "0.34.5", "@img/sharp-win32-arm64": "0.34.5", "@img/sharp-win32-ia32": "0.34.5", "@img/sharp-win32-x64": "0.34.5" } }, "sha512-Ou9I5Ft9WNcCbXrU9cMgPBcCK8LiwLqcbywW3t4oDV37n1pzpuNLsYiAV8eODnjbtQlSDwZ2cUEeQz4E54Hltg=="],

    "shebang-command": ["shebang-command@2.0.0", "", { "dependencies": { "shebang-regex": "^3.0.0" } }, "sha512-kHxr2zZpYtdmrN1qDjrrX/Z1rR1kG8Dx+gkpK1G4eXmvXswmcE1hTWBWYUzlraYw1/yZp6YuDY77YtvbN0dmDA=="],

    "shebang-regex": ["shebang-regex@3.0.0", "", {}, "sha512-7++dFhtcx3353uBaq8DDR4NuxBetBzC7ZQOhmTQInHEd6bSrXdiEyzCvG07Z44UYdLShWUyXt5M/yhz8ekcb1A=="],

    "side-channel": ["side-channel@1.1.0", "", { "dependencies": { "es-errors": "^1.3.0", "object-inspect": "^1.13.3", "side-channel-list": "^1.0.0", "side-channel-map": "^1.0.1", "side-channel-weakmap": "^1.0.2" } }, "sha512-ZX99e6tRweoUXqR+VBrslhda51Nh5MTQwou5tnUDgbtyM0dBgmhEDtWGP/xbKn6hqfPRHujUNwz5fy/wbbhnpw=="],

    "side-channel-list": ["side-channel-list@1.0.0", "", { "dependencies": { "es-errors": "^1.3.0", "object-inspect": "^1.13.3" } }, "sha512-FCLHtRD/gnpCiCHEiJLOwdmFP+wzCmDEkc9y7NsYxeF4u7Btsn1ZuwgwJGxImImHicJArLP4R0yX4c2KCrMrTA=="],

    "side-channel-map": ["side-channel-map@1.0.1", "", { "dependencies": { "call-bound": "^1.0.2", "es-errors": "^1.3.0", "get-intrinsic": "^1.2.5", "object-inspect": "^1.13.3" } }, "sha512-VCjCNfgMsby3tTdo02nbjtM/ewra6jPHmpThenkTYh8pG9ucZ/1P8So4u4FGBek/BjpOVsDCMoLA/iuBKIFXRA=="],

    "side-channel-weakmap": ["side-channel-weakmap@1.0.2", "", { "dependencies": { "call-bound": "^1.0.2", "es-errors": "^1.3.0", "get-intrinsic": "^1.2.5", "object-inspect": "^1.13.3", "side-channel-map": "^1.0.1" } }, "sha512-WPS/HvHQTYnHisLo9McqBHOJk2FkHO/tlpvldyrnem4aeQp4hai3gythswg6p01oSoTl58rcpiFAjF2br2Ak2A=="],

    "siginfo": ["siginfo@2.0.0", "", {}, "sha512-ybx0WO1/8bSBLEWXZvEd7gMW3Sn3JFlW3TvX1nREbDLRNQNaeNN8WK0meBwPdAaOI7TtRRRJn/Es1zhrrCHu7g=="],

    "source-map-js": ["source-map-js@1.2.1", "", {}, "sha512-UXWMKhLOwVKb728IUtQPXxfYU+usdybtUrK/8uGE8CQMvrhOpwvzDBwj0QhSL7MQc7vIsISBG8VQ8+IDQxpfQA=="],

    "stable-hash": ["stable-hash@0.0.5", "", {}, "sha512-+L3ccpzibovGXFK+Ap/f8LOS0ahMrHTf3xu7mMLSpEGU0EO9ucaysSylKo9eRDFNhWve/y275iPmIZ4z39a9iA=="],

    "stackback": ["stackback@0.0.2", "", {}, "sha512-1XMJE5fQo1jGH6Y/7ebnwPOBEkIEnT4QF32d5R1+VXdXveM0IBMJt8zfaxX1P3QhVwrYe+576+jkANtSS2mBbw=="],

    "std-env": ["std-env@3.10.0", "", {}, "sha512-5GS12FdOZNliM5mAOxFRg7Ir0pWz8MdpYm6AY6VPkGpbA7ZzmbzNcBJQ0GPvvyWgcY7QAhCgf9Uy89I03faLkg=="],

    "stop-iteration-iterator": ["stop-iteration-iterator@1.1.0", "", { "dependencies": { "es-errors": "^1.3.0", "internal-slot": "^1.1.0" } }, "sha512-eLoXW/DHyl62zxY4SCaIgnRhuMr6ri4juEYARS8E6sCEqzKpOiE521Ucofdx+KnDZl5xmvGYaaKCk5FEOxJCoQ=="],

    "string.prototype.includes": ["string.prototype.includes@2.0.1", "", { "dependencies": { "call-bind": "^1.0.7", "define-properties": "^1.2.1", "es-abstract": "^1.23.3" } }, "sha512-o7+c9bW6zpAdJHTtujeePODAhkuicdAryFsfVKwA+wGw89wJ4GTY484WTucM9hLtDEOpOvI+aHnzqnC5lHp4Rg=="],

    "string.prototype.matchall": ["string.prototype.matchall@4.0.12", "", { "dependencies": { "call-bind": "^1.0.8", "call-bound": "^1.0.3", "define-properties": "^1.2.1", "es-abstract": "^1.23.6", "es-errors": "^1.3.0", "es-object-atoms": "^1.0.0", "get-intrinsic": "^1.2.6", "gopd": "^1.2.0", "has-symbols": "^1.1.0", "internal-slot": "^1.1.0", "regexp.prototype.flags": "^1.5.3", "set-function-name": "^2.0.2", "side-channel": "^1.1.0" } }, "sha512-6CC9uyBL+/48dYizRf7H7VAYCMCNTBeM78x/VTUe9bFEaxBepPJDa1Ow99LqI/1yF7kuy7Q3cQsYMrcjGUcskA=="],

    "string.prototype.repeat": ["string.prototype.repeat@1.0.0", "", { "dependencies": { "define-properties": "^1.1.3", "es-abstract": "^1.17.5" } }, "sha512-0u/TldDbKD8bFCQ/4f5+mNRrXwZ8hg2w7ZR8wa16e8z9XpePWl3eGEcUD0OXpEH/VJH/2G3gjUtR3ZOiBe2S/w=="],

    "string.prototype.trim": ["string.prototype.trim@1.2.10", "", { "dependencies": { "call-bind": "^1.0.8", "call-bound": "^1.0.2", "define-data-property": "^1.1.4", "define-properties": "^1.2.1", "es-abstract": "^1.23.5", "es-object-atoms": "^1.0.0", "has-property-descriptors": "^1.0.2" } }, "sha512-Rs66F0P/1kedk5lyYyH9uBzuiI/kNRmwJAR9quK6VOtIpZ2G+hMZd+HQbbv25MgCA6gEffoMZYxlTod4WcdrKA=="],

    "string.prototype.trimend": ["string.prototype.trimend@1.0.9", "", { "dependencies": { "call-bind": "^1.0.8", "call-bound": "^1.0.2", "define-properties": "^1.2.1", "es-object-atoms": "^1.0.0" } }, "sha512-G7Ok5C6E/j4SGfyLCloXTrngQIQU3PWtXGst3yM7Bea9FRURf1S42ZHlZZtsNque2FN2PoUhfZXYLNWwEr4dLQ=="],

    "string.prototype.trimstart": ["string.prototype.trimstart@1.0.8", "", { "dependencies": { "call-bind": "^1.0.7", "define-properties": "^1.2.1", "es-object-atoms": "^1.0.0" } }, "sha512-UXSH262CSZY1tfu3G3Secr6uGLCFVPMhIqHjlgCUtCCcgihYc/xKs9djMTMUOb2j1mVSeU8EU6NWc/iQKU6Gfg=="],

    "strip-bom": ["strip-bom@3.0.0", "", {}, "sha512-vavAMRXOgBVNF6nyEEmL3DBK19iRpDcoIwW+swQ+CbGiu7lju6t+JklA1MHweoWtadgt4ISVUsXLyDq34ddcwA=="],

    "strip-json-comments": ["strip-json-comments@3.1.1", "", {}, "sha512-6fPc+R4ihwqP6N/aIv2f1gMH8lOVtWQHoqC4yK6oSDVVocumAsfCqjkXnqiYMhmMwS/mEHLp7Vehlt3ql6lEig=="],

    "styled-jsx": ["styled-jsx@5.1.6", "", { "dependencies": { "client-only": "0.0.1" }, "peerDependencies": { "react": ">= 16.8.0 || 17.x.x || ^18.0.0-0 || ^19.0.0-0" } }, "sha512-qSVyDTeMotdvQYoHWLNGwRFJHC+i+ZvdBRYosOFgC+Wg1vx4frN2/RG/NA7SYqqvKNLf39P2LSRA2pu6n0XYZA=="],

    "supports-color": ["supports-color@7.2.0", "", { "dependencies": { "has-flag": "^4.0.0" } }, "sha512-qpCAvRl9stuOHveKsn7HncJRvv501qIacKzQlO/+Lwxc9+0q2wLyv4Dfvt80/DPn2pqOBsJdDiogXGR9+OvwRw=="],

    "supports-preserve-symlinks-flag": ["supports-preserve-symlinks-flag@1.0.0", "", {}, "sha512-ot0WnXS9fgdkgIcePe6RHNk1WA8+muPa6cSjeR3V8K27q9BB1rTE3R1p7Hv0z1ZyAc8s6Vvv8DIyWf681MAt0w=="],

    "tinybench": ["tinybench@2.9.0", "", {}, "sha512-0+DUvqWMValLmha6lr4kD8iAMK1HzV0/aKnCtWb9v9641TnP/MFb7Pc2bxoxQjTXAErryXVgUOfv2YqNllqGeg=="],

    "tinyexec": ["tinyexec@1.0.2", "", {}, "sha512-W/KYk+NFhkmsYpuHq5JykngiOCnxeVL8v8dFnqxSD8qEEdRfXk1SDM6JzNqcERbcGYj9tMrDQBYV9cjgnunFIg=="],

    "tinyglobby": ["tinyglobby@0.2.15", "", { "dependencies": { "fdir": "^6.5.0", "picomatch": "^4.0.3" } }, "sha512-j2Zq4NyQYG5XMST4cbs02Ak8iJUdxRM0XI5QyxXuZOzKOINmWurp3smXu3y5wDcJrptwpSjgXHzIQxR0omXljQ=="],

    "tinyrainbow": ["tinyrainbow@3.0.3", "", {}, "sha512-PSkbLUoxOFRzJYjjxHJt9xro7D+iilgMX/C9lawzVuYiIdcihh9DXmVibBe8lmcFrRi/VzlPjBxbN7rH24q8/Q=="],

    "to-regex-range": ["to-regex-range@5.0.1", "", { "dependencies": { "is-number": "^7.0.0" } }, "sha512-65P7iz6X5yEr1cwcgvQxbbIw7Uk3gOy5dIdtZ4rDveLqhrdJP+Li/Hx6tyK0NEb+2GCyneCMJiGqrADCSNk8sQ=="],

    "ts-api-utils": ["ts-api-utils@2.4.0", "", { "peerDependencies": { "typescript": ">=4.8.4" } }, "sha512-3TaVTaAv2gTiMB35i3FiGJaRfwb3Pyn/j3m/bfAvGe8FB7CF6u+LMYqYlDh7reQf7UNvoTvdfAqHGmPGOSsPmA=="],

    "tsconfig-paths": ["tsconfig-paths@3.15.0", "", { "dependencies": { "@types/json5": "^0.0.29", "json5": "^1.0.2", "minimist": "^1.2.6", "strip-bom": "^3.0.0" } }, "sha512-2Ac2RgzDe/cn48GvOe3M+o82pEFewD3UPbyoUHHdKasHwJKjds4fLXWf/Ux5kATBKN20oaFGu+jbElp1pos0mg=="],

    "tslib": ["tslib@2.8.1", "", {}, "sha512-oJFu94HQb+KVduSUQL7wnpmqnfmLsOA/nAh6b6EH0wCEoK0/mPeXU6c3wKDV83MkOuHPRHtSXKKU99IBazS/2w=="],

    "type-check": ["type-check@0.4.0", "", { "dependencies": { "prelude-ls": "^1.2.1" } }, "sha512-XleUoc9uwGXqjWwXaUTZAmzMcFZ5858QA2vvx1Ur5xIcixXIP+8LnFDgRplU30us6teqdlskFfu+ae4K79Ooew=="],

    "typed-array-buffer": ["typed-array-buffer@1.0.3", "", { "dependencies": { "call-bound": "^1.0.3", "es-errors": "^1.3.0", "is-typed-array": "^1.1.14" } }, "sha512-nAYYwfY3qnzX30IkA6AQZjVbtK6duGontcQm1WSG1MD94YLqK0515GNApXkoxKOWMusVssAHWLh9SeaoefYFGw=="],

    "typed-array-byte-length": ["typed-array-byte-length@1.0.3", "", { "dependencies": { "call-bind": "^1.0.8", "for-each": "^0.3.3", "gopd": "^1.2.0", "has-proto": "^1.2.0", "is-typed-array": "^1.1.14" } }, "sha512-BaXgOuIxz8n8pIq3e7Atg/7s+DpiYrxn4vdot3w9KbnBhcRQq6o3xemQdIfynqSeXeDrF32x+WvfzmOjPiY9lg=="],

    "typed-array-byte-offset": ["typed-array-byte-offset@1.0.4", "", { "dependencies": { "available-typed-arrays": "^1.0.7", "call-bind": "^1.0.8", "for-each": "^0.3.3", "gopd": "^1.2.0", "has-proto": "^1.2.0", "is-typed-array": "^1.1.15", "reflect.getprototypeof": "^1.0.9" } }, "sha512-bTlAFB/FBYMcuX81gbL4OcpH5PmlFHqlCCpAl8AlEzMz5k53oNDvN8p1PNOWLEmI2x4orp3raOFB51tv9X+MFQ=="],

    "typed-array-length": ["typed-array-length@1.0.7", "", { "dependencies": { "call-bind": "^1.0.7", "for-each": "^0.3.3", "gopd": "^1.0.1", "is-typed-array": "^1.1.13", "possible-typed-array-names": "^1.0.0", "reflect.getprototypeof": "^1.0.6" } }, "sha512-3KS2b+kL7fsuk/eJZ7EQdnEmQoaho/r6KUef7hxvltNA5DR8NAUM+8wJMbJyZ4G9/7i3v5zPBIMN5aybAh2/Jg=="],

    "typescript": ["typescript@5.9.3", "", { "bin": { "tsc": "bin/tsc", "tsserver": "bin/tsserver" } }, "sha512-jl1vZzPDinLr9eUt3J/t7V6FgNEw9QjvBPdysz9KfQDD41fQrC2Y4vKQdiaUpFT4bXlb1RHhLpp8wtm6M5TgSw=="],

    "typescript-eslint": ["typescript-eslint@8.54.0", "", { "dependencies": { "@typescript-eslint/eslint-plugin": "8.54.0", "@typescript-eslint/parser": "8.54.0", "@typescript-eslint/typescript-estree": "8.54.0", "@typescript-eslint/utils": "8.54.0" }, "peerDependencies": { "eslint": "^8.57.0 || ^9.0.0", "typescript": ">=4.8.4 <6.0.0" } }, "sha512-CKsJ+g53QpsNPqbzUsfKVgd3Lny4yKZ1pP4qN3jdMOg/sisIDLGyDMezycquXLE5JsEU0wp3dGNdzig0/fmSVQ=="],

    "unbox-primitive": ["unbox-primitive@1.1.0", "", { "dependencies": { "call-bound": "^1.0.3", "has-bigints": "^1.0.2", "has-symbols": "^1.1.0", "which-boxed-primitive": "^1.1.1" } }, "sha512-nWJ91DjeOkej/TA8pXQ3myruKpKEYgqvpw9lz4OPHj/NWFNluYrjbz9j01CJ8yKQd2g4jFoOkINCTW2I5LEEyw=="],

    "undici-types": ["undici-types@6.21.0", "", {}, "sha512-iwDZqg0QAGrg9Rav5H4n0M64c3mkR59cJ6wQp+7C4nI0gsmExaedaYLNO44eT4AtBBwjbTiGPMlt2Md0T9H9JQ=="],

    "unrs-resolver": ["unrs-resolver@1.11.1", "", { "dependencies": { "napi-postinstall": "^0.3.0" }, "optionalDependencies": { "@unrs/resolver-binding-android-arm-eabi": "1.11.1", "@unrs/resolver-binding-android-arm64": "1.11.1", "@unrs/resolver-binding-darwin-arm64": "1.11.1", "@unrs/resolver-binding-darwin-x64": "1.11.1", "@unrs/resolver-binding-freebsd-x64": "1.11.1", "@unrs/resolver-binding-linux-arm-gnueabihf": "1.11.1", "@unrs/resolver-binding-linux-arm-musleabihf": "1.11.1", "@unrs/resolver-binding-linux-arm64-gnu": "1.11.1", "@unrs/resolver-binding-linux-arm64-musl": "1.11.1", "@unrs/resolver-binding-linux-ppc64-gnu": "1.11.1", "@unrs/resolver-binding-linux-riscv64-gnu": "1.11.1", "@unrs/resolver-binding-linux-riscv64-musl": "1.11.1", "@unrs/resolver-binding-linux-s390x-gnu": "1.11.1", "@unrs/resolver-binding-linux-x64-gnu": "1.11.1", "@unrs/resolver-binding-linux-x64-musl": "1.11.1", "@unrs/resolver-binding-wasm32-wasi": "1.11.1", "@unrs/resolver-binding-win32-arm64-msvc": "1.11.1", "@unrs/resolver-binding-win32-ia32-msvc": "1.11.1", "@unrs/resolver-binding-win32-x64-msvc": "1.11.1" } }, "sha512-bSjt9pjaEBnNiGgc9rUiHGKv5l4/TGzDmYw3RhnkJGtLhbnnA/5qJj7x3dNDCRx/PJxu774LlH8lCOlB4hEfKg=="],

    "update-browserslist-db": ["update-browserslist-db@1.2.3", "", { "dependencies": { "escalade": "^3.2.0", "picocolors": "^1.1.1" }, "peerDependencies": { "browserslist": ">= 4.21.0" }, "bin": { "update-browserslist-db": "cli.js" } }, "sha512-Js0m9cx+qOgDxo0eMiFGEueWztz+d4+M3rGlmKPT+T4IS/jP4ylw3Nwpu6cpTTP8R1MAC1kF4VbdLt3ARf209w=="],

    "uri-js": ["uri-js@4.4.1", "", { "dependencies": { "punycode": "^2.1.0" } }, "sha512-7rKUyy33Q1yc98pQ1DAmLtwX109F7TIfWlW1Ydo8Wl1ii1SeHieeh0HHfPeL2fMXK6z0s8ecKs9frCuLJvndBg=="],

    "vite": ["vite@7.3.1", "", { "dependencies": { "esbuild": "^0.27.0", "fdir": "^6.5.0", "picomatch": "^4.0.3", "postcss": "^8.5.6", "rollup": "^4.43.0", "tinyglobby": "^0.2.15" }, "optionalDependencies": { "fsevents": "~2.3.3" }, "peerDependencies": { "@types/node": "^20.19.0 || >=22.12.0", "jiti": ">=1.21.0", "less": "^4.0.0", "lightningcss": "^1.21.0", "sass": "^1.70.0", "sass-embedded": "^1.70.0", "stylus": ">=0.54.8", "sugarss": "^5.0.0", "terser": "^5.16.0", "tsx": "^4.8.1", "yaml": "^2.4.2" }, "optionalPeers": ["@types/node", "jiti", "less", "lightningcss", "sass", "sass-embedded", "stylus", "sugarss", "terser", "tsx", "yaml"], "bin": { "vite": "bin/vite.js" } }, "sha512-w+N7Hifpc3gRjZ63vYBXA56dvvRlNWRczTdmCBBa+CotUzAPf5b7YMdMR/8CQoeYE5LX3W4wj6RYTgonm1b9DA=="],

    "vitest": ["vitest@4.0.18", "", { "dependencies": { "@vitest/expect": "4.0.18", "@vitest/mocker": "4.0.18", "@vitest/pretty-format": "4.0.18", "@vitest/runner": "4.0.18", "@vitest/snapshot": "4.0.18", "@vitest/spy": "4.0.18", "@vitest/utils": "4.0.18", "es-module-lexer": "^1.7.0", "expect-type": "^1.2.2", "magic-string": "^0.30.21", "obug": "^2.1.1", "pathe": "^2.0.3", "picomatch": "^4.0.3", "std-env": "^3.10.0", "tinybench": "^2.9.0", "tinyexec": "^1.0.2", "tinyglobby": "^0.2.15", "tinyrainbow": "^3.0.3", "vite": "^6.0.0 || ^7.0.0", "why-is-node-running": "^2.3.0" }, "peerDependencies": { "@edge-runtime/vm": "*", "@opentelemetry/api": "^1.9.0", "@types/node": "^20.0.0 || ^22.0.0 || >=24.0.0", "@vitest/browser-playwright": "4.0.18", "@vitest/browser-preview": "4.0.18", "@vitest/browser-webdriverio": "4.0.18", "@vitest/ui": "4.0.18", "happy-dom": "*", "jsdom": "*" }, "optionalPeers": ["@edge-runtime/vm", "@opentelemetry/api", "@types/node", "@vitest/browser-playwright", "@vitest/browser-preview", "@vitest/browser-webdriverio", "@vitest/ui", "happy-dom", "jsdom"], "bin": { "vitest": "vitest.mjs" } }, "sha512-hOQuK7h0FGKgBAas7v0mSAsnvrIgAvWmRFjmzpJ7SwFHH3g1k2u37JtYwOwmEKhK6ZO3v9ggDBBm0La1LCK4uQ=="],

    "which": ["which@2.0.2", "", { "dependencies": { "isexe": "^2.0.0" }, "bin": { "node-which": "./bin/node-which" } }, "sha512-BLI3Tl1TW3Pvl70l3yq3Y64i+awpwXqsGBYWkkqMtnbXgrMD+yj7rhW0kuEDxzJaYXGjEW5ogapKNMEKNMjibA=="],

    "which-boxed-primitive": ["which-boxed-primitive@1.1.1", "", { "dependencies": { "is-bigint": "^1.1.0", "is-boolean-object": "^1.2.1", "is-number-object": "^1.1.1", "is-string": "^1.1.1", "is-symbol": "^1.1.1" } }, "sha512-TbX3mj8n0odCBFVlY8AxkqcHASw3L60jIuF8jFP78az3C2YhmGvqbHBpAjTRH2/xqYunrJ9g1jSyjCjpoWzIAA=="],

    "which-builtin-type": ["which-builtin-type@1.2.1", "", { "dependencies": { "call-bound": "^1.0.2", "function.prototype.name": "^1.1.6", "has-tostringtag": "^1.0.2", "is-async-function": "^2.0.0", "is-date-object": "^1.1.0", "is-finalizationregistry": "^1.1.0", "is-generator-function": "^1.0.10", "is-regex": "^1.2.1", "is-weakref": "^1.0.2", "isarray": "^2.0.5", "which-boxed-primitive": "^1.1.0", "which-collection": "^1.0.2", "which-typed-array": "^1.1.16" } }, "sha512-6iBczoX+kDQ7a3+YJBnh3T+KZRxM/iYNPXicqk66/Qfm1b93iu+yOImkg0zHbj5LNOcNv1TEADiZ0xa34B4q6Q=="],

    "which-collection": ["which-collection@1.0.2", "", { "dependencies": { "is-map": "^2.0.3", "is-set": "^2.0.3", "is-weakmap": "^2.0.2", "is-weakset": "^2.0.3" } }, "sha512-K4jVyjnBdgvc86Y6BkaLZEN933SwYOuBFkdmBu9ZfkcAbdVbpITnDmjvZ/aQjRXQrv5EPkTnD1s39GiiqbngCw=="],

    "which-typed-array": ["which-typed-array@1.1.20", "", { "dependencies": { "available-typed-arrays": "^1.0.7", "call-bind": "^1.0.8", "call-bound": "^1.0.4", "for-each": "^0.3.5", "get-proto": "^1.0.1", "gopd": "^1.2.0", "has-tostringtag": "^1.0.2" } }, "sha512-LYfpUkmqwl0h9A2HL09Mms427Q1RZWuOHsukfVcKRq9q95iQxdw0ix1JQrqbcDR9PH1QDwf5Qo8OZb5lksZ8Xg=="],

    "why-is-node-running": ["why-is-node-running@2.3.0", "", { "dependencies": { "siginfo": "^2.0.0", "stackback": "0.0.2" }, "bin": { "why-is-node-running": "cli.js" } }, "sha512-hUrmaWBdVDcxvYqnyh09zunKzROWjbZTiNy8dBEjkS7ehEDQibXJ7XvlmtbwuTclUiIyN+CyXQD4Vmko8fNm8w=="],

    "word-wrap": ["word-wrap@1.2.5", "", {}, "sha512-BN22B5eaMMI9UMtjrGd5g5eCYPpCPDUy0FJXbYsaT5zYxjFOckS53SQDE3pWkVoWpHXVb3BrYcEN4Twa55B5cA=="],

    "yallist": ["yallist@3.1.1", "", {}, "sha512-a4UGQaWPH59mOXUYnAG2ewncQS4i4F43Tv3JoAM+s2VDAmS9NsK8GpDMLrCHPksFT7h3K6TOoUNn2pb7RoXx4g=="],

    "yocto-queue": ["yocto-queue@0.1.0", "", {}, "sha512-rVksvsnNCdJ/ohGc6xgPwyN8eheCxsiLM8mxuE/t/mOVqJewPuO1miLpTHQiRgTKCLexL4MeAFVagts7HmNZ2Q=="],

    "zod": ["zod@4.3.6", "", {}, "sha512-rftlrkhHZOcjDwkGlnUtZZkvaPHCsDATp4pGpuOOMDaTdDDXF91wuVDJoWoPsKX/3YPQ5fHuF3STjcYyKr+Qhg=="],

    "zod-validation-error": ["zod-validation-error@4.0.2", "", { "peerDependencies": { "zod": "^3.25.0 || ^4.0.0" } }, "sha512-Q6/nZLe6jxuU80qb/4uJ4t5v2VEZ44lzQjPDhYJNztRQ4wyWc6VF3D3Kb/fAuPetZQnhS3hnajCf9CsWesghLQ=="],

    "zustand": ["zustand@5.0.10", "", { "peerDependencies": { "@types/react": ">=18.0.0", "immer": ">=9.0.6", "react": ">=18.0.0", "use-sync-external-store": ">=1.2.0" }, "optionalPeers": ["@types/react", "immer", "react", "use-sync-external-store"] }, "sha512-U1AiltS1O9hSy3rul+Ub82ut2fqIAefiSuwECWt6jlMVUGejvf+5omLcRBSzqbRagSM3hQZbtzdeRc6QVScXTg=="],

    "@babel/core/json5": ["json5@2.2.3", "", { "bin": { "json5": "lib/cli.js" } }, "sha512-XmOWe7eyHYH14cLdVPoyg+GOH3rYX++KpzrylJwSW98t3Nk+U8XOl8FWKOgwtzdb8lXGf6zYwDUzeHMWfxasyg=="],

    "@eslint-community/eslint-utils/eslint-visitor-keys": ["eslint-visitor-keys@3.4.3", "", {}, "sha512-wpc+LXeiyiisxPlEkUzU6svyS1frIO3Mgxj1fdy7Pm8Ygzguax2N3Fa/D/ag1WqbOprdI+uY6wMUl8/a2G+iag=="],

    "@eslint/eslintrc/globals": ["globals@14.0.0", "", {}, "sha512-oahGvuMGQlPw/ivIYBjVSrWAfWLBeku5tpPE2fOPLi+WHffIWbuh2tCjhyQhTBPMf5E9jDEH4FOmTYgYwbKwtQ=="],

    "@typescript-eslint/eslint-plugin/ignore": ["ignore@7.0.5", "", {}, "sha512-Hs59xBNfUIunMFgWAbGX5cq6893IbWg4KnrjbYwX3tx0ztorVgTDA6B2sxf8ejHJ4wz8BqGUMYlnzNBer5NvGg=="],

    "@typescript-eslint/typescript-estree/minimatch": ["minimatch@9.0.5", "", { "dependencies": { "brace-expansion": "^2.0.1" } }, "sha512-G6T0ZX48xgozx7587koeX9Ys2NYy6Gmv//P89sEte9V9whIapMNF4idKxnW2QtCcLiTWlb/wfCabAtAFWhhBow=="],

    "@typescript-eslint/typescript-estree/semver": ["semver@7.7.3", "", { "bin": { "semver": "bin/semver.js" } }, "sha512-SdsKMrI9TdgjdweUSR9MweHA4EJ8YxHn8DFaDisvhVlUOe4BF1tLD7GAj0lIqWVl+dPb/rExr0Btby5loQm20Q=="],

    "eslint-import-resolver-node/debug": ["debug@3.2.7", "", { "dependencies": { "ms": "^2.1.1" } }, "sha512-CFjzYYAi4ThfiQvizrFQevTTXHtnCqWfe7x1AhgEscTz6ZbLbfoLRLPugTQyBth6f8ZERVUSyWHFD/7Wu4t1XQ=="],

    "eslint-module-utils/debug": ["debug@3.2.7", "", { "dependencies": { "ms": "^2.1.1" } }, "sha512-CFjzYYAi4ThfiQvizrFQevTTXHtnCqWfe7x1AhgEscTz6ZbLbfoLRLPugTQyBth6f8ZERVUSyWHFD/7Wu4t1XQ=="],

    "eslint-plugin-import/debug": ["debug@3.2.7", "", { "dependencies": { "ms": "^2.1.1" } }, "sha512-CFjzYYAi4ThfiQvizrFQevTTXHtnCqWfe7x1AhgEscTz6ZbLbfoLRLPugTQyBth6f8ZERVUSyWHFD/7Wu4t1XQ=="],

    "eslint-plugin-react/resolve": ["resolve@2.0.0-next.5", "", { "dependencies": { "is-core-module": "^2.13.0", "path-parse": "^1.0.7", "supports-preserve-symlinks-flag": "^1.0.0" }, "bin": { "resolve": "bin/resolve" } }, "sha512-U7WjGVG9sH8tvjW5SmGbQuui75FiyjAX72HX15DwBBwF9dNiQZRQAg9nnPhYy+TUnE0+VcrttuvNI8oSxZcocA=="],

    "fast-glob/glob-parent": ["glob-parent@5.1.2", "", { "dependencies": { "is-glob": "^4.0.1" } }, "sha512-AOIgSQCepiJYwP3ARnGx+5VnTu2HBYdzbGP45eLw1vr3zB3vZLeyed1sC9hnbcOc9/SrMyM5RPQrkGz4aS9Zow=="],

    "is-bun-module/semver": ["semver@7.7.3", "", { "bin": { "semver": "bin/semver.js" } }, "sha512-SdsKMrI9TdgjdweUSR9MweHA4EJ8YxHn8DFaDisvhVlUOe4BF1tLD7GAj0lIqWVl+dPb/rExr0Btby5loQm20Q=="],

    "micromatch/picomatch": ["picomatch@2.3.1", "", {}, "sha512-JU3teHTNjmE2VCGFzuY8EXzCDVwEqB2a8fsIvwaStHhAWJEeVd1o1QD80CU6+ZdEXXSLbSsuLwJjkCBWqRQUVA=="],

    "sharp/semver": ["semver@7.7.3", "", { "bin": { "semver": "bin/semver.js" } }, "sha512-SdsKMrI9TdgjdweUSR9MweHA4EJ8YxHn8DFaDisvhVlUOe4BF1tLD7GAj0lIqWVl+dPb/rExr0Btby5loQm20Q=="],

    "vite/postcss": ["postcss@8.5.6", "", { "dependencies": { "nanoid": "^3.3.11", "picocolors": "^1.1.1", "source-map-js": "^1.2.1" } }, "sha512-3Ybi1tAuwAP9s0r1UQ2J4n5Y0G05bJkpUIO0/bI9MhwmD70S5aTWbXGBwxHrelT+XM1k6dM0pk+SwNkpTRN7Pg=="],

    "@typescript-eslint/typescript-estree/minimatch/brace-expansion": ["brace-expansion@2.0.2", "", { "dependencies": { "balanced-match": "^1.0.0" } }, "sha512-Jt0vHyM+jmUBqojB7E1NIYadt0vI0Qxjxd2TErW94wDz+E2LAm5vKMXXwg6ZZBTHPuUlDgQHKXvjGBdfcF1ZDQ=="],
  }
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/commands/execute.ts
```
import type { AppRouterInstance } from "next/dist/shared/lib/app-router-context.shared-runtime";
import { flushSync } from "react-dom";
import type { Command } from "./types";
import { navigateWithTransition } from "../app/shared/lib/navigation";
import { startViewTransition } from "../app/shared/lib/viewTransition";
import type { CatalogStore, SessionStore, SettingsStore, UiStore } from "../store/AppStoreProvider";
import { createAppActions } from "../store/appActions";

export type CommandContext = {
  settingsStore: SettingsStore;
  catalogStore: CatalogStore;
  sessionStore: SessionStore;
  uiStore: UiStore;
  router?: AppRouterInstance;
};

export const executeCommand = async (command: Command, context: CommandContext) => {
  switch (command.type) {
    case "FINISH_WORKOUT": {
      context.sessionStore.getState().finishWorkout(command.payload.workoutId);
      if (command.payload.navigateTo && context.router) {
        navigateWithTransition(context.router, command.payload.navigateTo);
      }
      return;
    }
    case "DELETE_PROGRAM": {
      const { programId, navigateTo } = command.payload;
      if (navigateTo && context.router) {
        startViewTransition(() => {
          // Per improve-1.md: wrap React state commits in flushSync
          flushSync(() => {
            context.catalogStore.getState().deleteProgram(programId);
          });
          context.router?.push(navigateTo);
        });
        return;
      }
      startViewTransition(() => {
        flushSync(() => {
          context.catalogStore.getState().deleteProgram(programId);
        });
      });
      return;
    }
    case "RESET_ALL": {
      const actions = createAppActions(context);
      await actions.resetAll();
      return;
    }
    case "UNDO_DELETE_SET": {
      context.sessionStore.getState().restoreDeletedSet(command.payload);
      return;
    }
    default: {
      return;
    }
  }
};
```

/Users/pavelkulikou/Projects/my-gym/gym-app/commands/types.ts
```
import type { UndoDeleteSetPayload } from "../types/session";

export type Command =
  | { type: "FINISH_WORKOUT"; payload: { workoutId: string; navigateTo?: string } }
  | { type: "DELETE_PROGRAM"; payload: { programId: string; navigateTo?: string } }
  | { type: "RESET_ALL" }
  | { type: "UNDO_DELETE_SET"; payload: UndoDeleteSetPayload };
```

/Users/pavelkulikou/Projects/my-gym/gym-app/commands/useCommandExecutor.ts
```
"use client";

import { useCallback } from "react";
import { useRouter } from "next/navigation";
import type { Command } from "./types";
import { executeCommand } from "./execute";
import { useCatalogStoreApi } from "../store/useCatalogStore";
import { useSessionStoreApi } from "../store/useSessionStore";
import { useSettingsStoreApi } from "../store/useSettingsStore";
import { useUiStoreApi } from "../store/useUiStore";

export const useCommandExecutor = () => {
  const router = useRouter();
  const settingsStore = useSettingsStoreApi();
  const catalogStore = useCatalogStoreApi();
  const sessionStore = useSessionStoreApi();
  const uiStore = useUiStoreApi();

  return useCallback(
    (command: Command) => executeCommand(command, { settingsStore, catalogStore, sessionStore, uiStore, router }),
    [settingsStore, catalogStore, sessionStore, uiStore, router]
  );
};
```

/Users/pavelkulikou/Projects/my-gym/gym-app/docs/css.md
```
# ✅ CSS EXPERT SYSTEM PROMPT (2026 Modern Baseline + globals.css Design System)

You are a **CSS Expert Engineer** specializing in **modern, production-grade CSS (2023–2026 Baseline era)**.

Your job is to implement UI designs using the **best current CSS practices**, prioritizing:

- maintainability
- scalability
- accessibility
- modern layout systems
- Baseline-safe features
- minimal hacks
- minimal JavaScript dependence

You write CSS like an expert building real-world design systems.

---

## 0. Prime Directive: Design System First (globals.css)

Assume the project has a **design-system `globals.css`** that defines:

- **Cascade Layers** (reset → tokens → base → layout → components → enhancements → utilities → overrides)
- **Design tokens** using CSS custom properties (colors, space, radius, type, motion)
- **Baseline accessible defaults** (`:focus-visible`, reduced motion, typography baseline)

### Your rule

**Do not fight the globals. Extend them.**

When implementing UI, you must:

1) **Use existing tokens** (`--space-*`, `--fs-*`, `--r-*`, `--brand`, `--bg`, `--surface`, `--text`, `--muted`, etc.)  
2) **Add component CSS in the correct layer**, not as random overrides  
3) **Avoid re-defining global reset/base rules** inside components  
4) Prefer **composing utilities + components** over one-off styles

If you need a new token, add it to **@layer tokens** (not inline on a random class).

---

## 1. Core Principles

### Always prefer modern CSS over legacy patterns

Use CSS features that are widely supported in evergreen browsers.

### Default mindset

- **Component-first responsiveness**
- **Cascade control over specificity wars**
- **Progressive enhancement instead of brittle hacks**
- **Clean architecture, not messy overrides**

---

## 2. Must-Use Modern CSS Foundations

When implementing any design, always default to:

### Layout

- **CSS Grid** for 2D layout
- **Flexbox** for 1D alignment and spacing
- **gap** instead of margin hacks
- **aspect-ratio** for media sizing
- Prefer **logical properties** (`margin-inline`, `padding-block`) for international-friendly layout

### Responsiveness

- **Container Queries** (`@container`) over viewport-only breakpoints
- **Modern viewport units** (`dvh`, `svh`, `lvh`) instead of broken `vh`
- Viewport media queries (`@media`) are allowed for **page-level** layout shifts, not component sizing

### Selectors

- Use `:has()` when it removes JavaScript logic (guardrails allowed if needed)
- Use `:is()` / `:where()` to reduce selector repetition and specificity
- Use `:focus-visible` for accessible focus styling (include a fallback if requested)

### Architecture

- Use **Cascade Layers (`@layer`)** for scalable stylesheet organization
- Use **CSS Variables** (custom properties) for all design tokens
- Prefer **low specificity** selectors to keep the system override-friendly

### Typography & Sizing

- Use `clamp()` for fluid typography and spacing
- Prefer modern color spaces like **OKLCH** when possible
- Use `color-mix()` for derived theme colors

### Performance

- Use `content-visibility: auto` only as **opt-in** for long lists or heavy sections
- Use containment (`contain`) where helpful, but avoid breaking sticky/paint behavior unintentionally

---

## 3. globals.css Architecture Contract (Non-Negotiable)

### Layer rules (where styles belong)

Use this order:

```css
@layer reset, tokens, base, layout, components, enhancements, utilities, overrides;
````

- **reset:** minimal resets, no opinionated design
- **tokens:** all design tokens (`:root`, theme variants, token fallbacks)
- **base:** element defaults (`body`, `a`, `p`, focus styles, reduced motion)
- **layout:** `.container`, `.stack`, `.grid`, `.cluster`, structural helpers
- **components:** reusable components (`.btn`, `.card`, `.field`, etc.)
- **enhancements:** progressive enhancement for Tier B features with `@supports`
- **utilities:** small, composable helpers (`.sr-only`, spacing helpers, truncation)
- **overrides:** last resort patches (keep near-empty)

### Specificity rules

- Prefer `:where()` for element baselines and wrappers.
- Avoid ID selectors.
- Avoid deep nesting (3+ levels) unless it’s intentional and documented.
- Avoid `!important` except for **accessibility failsafes** (e.g., reduced motion emergency stops).

### Token rules

- Never hardcode colors/spaces/radii in components if a token exists.
- If you create a new token, it must be:

  - named consistently (e.g. `--space-*`, `--r-*`, `--fs-*`, `--color-*` or `--brand-*`)
  - defined in `@layer tokens`
  - documented with a short comment

---

## 4. Feature Classification Rules

For every feature you use, follow this priority:

### Tier A: Baseline Safe (Default)

Use freely in production:

- Grid, Flexbox, gap
- Custom properties
- clamp()
- aspect-ratio
- :has(), :is(), :where()
- @layer
- Container queries
- prefers-reduced-motion / prefers-color-scheme
- logical properties
- color-mix()

### Tier B: Progressive Enhancement

Use only with fallbacks and `@supports`:

- Scroll-driven animations
- View transitions
- Anchor positioning
- @scope
- advanced/bleeding-edge color features beyond common support

Always include:

```css
@supports (feature: value) {
  /* modern enhancement */
}
@supports not (feature: value) {
  /* fallback */
}
```

### Tier C: Legacy / Avoid

Do not rely on these except for compatibility edge cases:

- floats for layout
- table-based layout hacks
- vendor-prefix-only styling
- excessive `!important`
- JS layout measuring when CSS can handle it

---

## 5. Implementation Rules for UI Tasks

When asked to implement a UI:

### Step 1: Layout First

- Choose Grid for page structure
- Use Flexbox for alignment inside components
- Prefer `gap` for spacing between children

### Step 2: Tokenize Everything

Define reusable design variables in tokens:

```css
@layer tokens {
  :root {
    --space-4: 1rem;
    --r-2: 0.75rem;
    --brand: oklch(62% 0.18 250);
  }
}
```

### Step 3: Component Responsiveness

Prefer container queries:

```css
.card { container-type: inline-size; }

@container (min-width: 500px) { ... }
```

Over viewport-only breakpoints:

```css
@media (min-width: 768px) { ... }
```

Unless the layout truly depends on viewport (page-level shifts).

### Step 4: Cascade Control

Organize styles with layers:

```css
@layer reset, tokens, base, layout, components, enhancements, utilities, overrides;
```

### Step 5: Accessibility Always

- Focus states must use `:focus-visible` and be clearly visible
- Avoid removing outlines without replacement
- Respect reduced motion:

```css
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after { animation-duration: 0.01ms !important; transition-duration: 0.01ms !important; }
}
```

- Ensure color contrast is reasonable; don’t encode meaning by color alone

---

## 6. Output Requirements

Whenever you generate CSS, it must be:

- clean and readable
- modern and baseline-aligned
- component-oriented
- free of outdated hacks
- responsive by default (container-first)
- layered when styles grow beyond trivial size

Prefer this structure:

1. Tokens (`@layer tokens` / `:root`)
2. Base styles (`@layer base`)
3. Layout system (`@layer layout`)
4. Components (`@layer components`)
5. Enhancements (`@layer enhancements`, guarded with `@supports`)
6. Utilities (`@layer utilities`)
7. Overrides (rare)

### When adding new CSS to an existing project

- Output only the **delta** if asked (patch-style)
- Otherwise output the full updated file, preserving layer order

---

## 7. Modern Feature Toolkit (2023–2026)

Use these actively when appropriate:

### 2023 Foundation

- Grid, Flexbox, Variables, clamp(), aspect-ratio, prefers-reduced-motion

### 2024 Modern Breakthrough

- :has(), Container Queries, @layer, native nesting (keep shallow)

### 2025 Baseline Expansion

- scrollbar-gutter, color-mix(), improved viewport units (dvh/svh/lvh)

### 2026 Frontier (Guardrails)

- @scope, Anchor Positioning, Scroll-driven animations, View transitions

---

## 8. Final Self-Check Before Answering

Before delivering CSS, verify:

- [ ] Uses tokens instead of magic values
- [ ] Layout uses Grid/Flexbox, not floats
- [ ] Spacing uses gap or tokenized spacing (not random margins)
- [ ] Components are responsive via container queries when possible
- [ ] No specificity battles; layers and `:where()` used
- [ ] Accessibility focus + reduced motion included
- [ ] Tier B features are guarded with `@supports` + fallbacks
- [ ] `globals.css` layer contract is respected (styles placed in correct layer)
- [ ] Output matches requested design cleanly

---

# ✅ End of CSS Expert System Prompt
```

/Users/pavelkulikou/Projects/my-gym/gym-app/docs/improve-1.md
```
# Combined AI Agent Instructions

## Mobile-first gym progress tracking app with Modern CSS + View Transitions + React 19 + Zustand 5

These instructions merge your existing engineering standards with the new UX/motion playbook. When rules collide, the tie-breaker is: **speed, clarity, accessibility, and predictable architecture**.

---

## 0) Non-negotiables

1. **Speed beats spectacle**

   * Logging a set must feel instant. Motion must never delay taps or block input.
   * Use longer transitions only for infrequent navigations (day → workout → history).

2. **Progressive enhancement**

   * View Transitions are optional. The app must be fully correct without them.

3. **Motion safety**

   * Respect `prefers-reduced-motion` everywhere.
   * Also provide an in-app “Reduce motion” toggle that forces reduced motion even if OS does not.

4. **Touch-first ergonomics**

   * All interactive elements meet a minimum tap target of ~48px, with comfortable spacing.

5. **Predictable CSS**

   * Tokens + cascade layers + container queries + low specificity. No “CSS cage matches”.

6. **State discipline**

   * Zustand is for shared state that truly needs to be shared.
   * Server data caching belongs in a real caching strategy (or framework cache), not in ad hoc global store.

---

## 1) UX and Motion System

### 1.1 Motion intent rules

* Motion must convey **relationship** (“where it went”), not decoration.
* Avoid big transitions for:

  * validation errors
  * failures
  * ultra-frequent actions (rep edits, +1 set, checkbox spam)

### 1.2 Duration and easing contract (mobile gym defaults)

Use a small, consistent set (tokens). Recommended:

* Press feedback: **90–120ms**
* Quick state change: **150–200ms**
* Enter: **~225ms**
* Exit: **~195ms**
* Full-screen navigation: **~300ms**
* Large full-screen: **up to ~375ms**
* Hard cap: **never exceed ~400ms** unless explicitly justified and skippable

Easing set:

* standard, decel (enter), accel (exit), sharp (rare)

### 1.3 Gym-specific interaction patterns

* **Log set (between sets):**

  * press: quick scale (100–120ms)
  * row update: subtle fade/slide (150–200ms)
  * never do page-level view transitions for this
* **Stats screens:**

  * animate in meaning layers (header → chart → insights) with light stagger
* **Progress fill (workout complete):**

  * 600–900ms is allowed only for infrequent “completion moments”
  * must respect reduced motion and allow skip (or keep it purely decorative)

### 1.4 Motion gating (must implement)

Define a single “motion mode” source of truth:

* `motionMode = reduced` if:

  * OS prefers reduced motion, OR
  * user toggled Reduce Motion ON in app
* Otherwise `motionMode = full`

CSS must gate via media query and a root attribute/class override:

* OS: `@media (prefers-reduced-motion: reduce)`
* App override: `[data-motion="reduced"]`

JS must gate before starting View Transitions or WAAPI.

---

## 2) CSS Architecture Rules

### 2.1 Token-first styling

All spacing, typography, radius, shadows, colors, and motion constants come from CSS custom properties.

Required token categories:

* spacing scale
* typography scale (use `clamp()` for fluid sizes)
* radii, shadows
* color tokens (themeable)
* motion durations + easing curves
* tap target size token (`--tap: 48px`)

### 2.2 Cascade layers (strict order)

Use layers to prevent specificity wars. Recommended layer order:

1. `reset`
2. `tokens`
3. `base`
4. `layout`
5. `components`
6. `motion`
7. `utilities`
8. `overrides` (rare, must justify)

Rules:

* Prefer `:where()` to keep selector specificity low.
* Never globally remove focus outlines. Use `:focus-visible`.

### 2.3 Container queries over viewport guessing

* Components adapt via container queries (`container-type` + `@container`)
* Media queries only for major layout mode changes (shell, nav mode)

### 2.4 Performance-safe CSS

* Default animations/transitions only on `transform` and `opacity`.
* Avoid `transition: all`.
* `will-change` is forbidden unless profiling proves it helps.

### 2.5 Focus and accessibility styling

* Use `:focus-visible` with a high-contrast ring.
* Ensure rings are not clipped by overflow.
* Icon buttons must have padding so hit area meets tap target.

### 2.6 Long lists performance

* Use `content-visibility: auto` on long history/stats sections where appropriate.
* Use `contain` cautiously, test layout/positioning and accessibility behavior.

---

## 3) View Transitions Standard Operating Rules

### 3.1 When to use

Use View Transitions for:

* route changes that benefit from continuity (day → workout → history)
* meaningful component-level transitions (tab switch, list → detail hero)

Do not use for:

* set logging
* validation errors
* tiny toggles that happen constantly

### 3.2 One orchestrator only

All View Transitions must go through a single helper:

* feature-detect support
* gate on motion mode
* run DOM updates inside the transition callback
* optionally await `.finished` for cleanup

### 3.3 Shared element naming rules

* `view-transition-name` must be unique among simultaneously rendered elements
* Use deterministic names: `vt-day-YYYY-MM-DD`, `vt-exercise-${id}`, `vt-workout-${id}`
* Never assign the same name to all cards, headers, etc.

### 3.4 React commit correctness

The transition callback must produce a coherent “after” snapshot. For React:

* wrap the visual state commit in `flushSync` (only for the specific transition boundary)
* do not call transitions from render

---

## 4) React 19 Implementation Rules

1. **No side effects in render.**
2. Use `useTransition` for non-urgent work:

   * expensive filtering
   * prefetching
   * low-priority UI refinements
3. Keep route shell stable:

   * render immediate skeletons for new screens
   * hydrate/stream data without blank-screen snaps
4. StrictMode-safe code:

   * effects must clean up
   * handlers must be idempotent where relevant
5. Actions (when you use them):

   * use for mutations and pending UI
   * pair with optimistic UI only where it improves speed and confidence

---

## 5) Zustand 5 Implementation Rules

### 5.1 What belongs in Zustand (gym app)

Good fits:

* UI shell state (bottom nav, active sheet, toast queue)
* user preferences (theme, units, reduce motion toggle)
* session-like state (active workout id, timer state)
* cross-route continuity (selected day, filters)

Avoid:

* local form field state
* server cache without invalidation strategy
* large derived objects stored permanently (compute from selectors instead)

### 5.2 Selector discipline (v5)

* Prefer atomic selectors returning primitives.
* If selecting multiple fields into an object/array, use `useShallow`.
* Actions must be stable and named as verbs.

### 5.3 Slices pattern

Use a single store composed of slices:

* `uiSlice`
* `preferencesSlice`
* `workoutSessionSlice`
* `historyFiltersSlice` (if needed)

Persist only durable preferences (theme, units, reduce motion), not transient UI state.

---

## 6) Integration Rules: React + View Transitions + Zustand

### 6.1 “Transition-safe transaction” pattern

When a user triggers a navigation or meaningful UI swap:

1. Determine `motionMode`
2. If reduced or unsupported → perform update normally
3. Else:

   * start view transition
   * in the update callback:

     * `flushSync(() => { commitVisualChange(); })`
     * commitVisualChange may include:

       * router navigation
       * Zustand updates that affect the transitioned UI
       * local React state changes that affect layout

### 6.2 What not to do

* Never have “any Zustand change triggers transitions”.
* Never wrap frequent micro-actions in View Transitions.
* Never await slow network inside the transition boundary. Transition into a skeleton immediately.

---

## 7) Project-ready folder structure

```txt
src/
  app/
    main.tsx
    App.tsx
    router/                 # routing + navigation helpers
  styles/
    layers.css
    tokens.css
    base.css
    layout.css
    motion.css
    utilities.css
  transitions/
    viewTransition.ts
    reactViewTransition.tsx
  store/
    useAppStore.ts
    slices/
      uiSlice.ts
      preferencesSlice.ts
      workoutSessionSlice.ts
  features/
    calendar/
    workout/
    exercise/
    stats/
  shared/
    ui/
    lib/
```

---

## 8) Combined rules.json contract (autonomous agent)

```json
{
  "contractVersion": "2.0",
  "product": "mobile-first gym progress tracking web app",
  "corePrinciples": [
    "speed_beats_spectacle",
    "progressive_enhancement",
    "motion_safe_by_default",
    "touch_first_ergonomics",
    "predictable_css_architecture",
    "state_discipline"
  ],
  "motion": {
    "mustNotBlockInput": true,
    "useCasesAllowed": ["navigation", "meaningful_view_swaps", "list_to_detail_continuity", "tabs_if_helpful"],
    "useCasesForbidden": ["set_logging", "validation_errors", "high_frequency_toggles"],
    "durationsMs": {
      "press": [90, 120],
      "quickChange": [150, 200],
      "enter": 225,
      "exit": 195,
      "page": 300,
      "pageLargeMax": 375,
      "hardCap": 400
    },
    "easingTokensRequired": ["ease-standard", "ease-decel", "ease-accel", "ease-sharp"],
    "reducedMotion": {
      "mustRespectPrefersReducedMotion": true,
      "mustProvideInAppToggle": true,
      "singleSourceOfTruth": "motionMode",
      "cssGate": ["@media (prefers-reduced-motion: reduce)", "[data-motion='reduced']"],
      "jsGate": true
    }
  },
  "css": {
    "mustUseCascadeLayers": true,
    "layerOrder": ["reset", "tokens", "base", "layout", "components", "motion", "utilities", "overrides"],
    "tokens": {
      "mustUseCssVariables": true,
      "mustInclude": ["spacing", "typography", "radius", "shadows", "colors", "motionDurations", "motionEasings", "tapTarget"],
      "tapTargetPx": 48,
      "fluidSizing": "clamp()"
    },
    "responsiveness": {
      "preferContainerQueries": true,
      "mediaQueriesOnlyForLayoutModes": true
    },
    "specificity": {
      "preferWhereZeroSpecificity": true,
      "avoidDeepDomCoupling": true
    },
    "focus": {
      "mustUseFocusVisible": true,
      "mustNotRemoveFocusIndicators": true
    },
    "animation": {
      "avoidTransitionAll": true,
      "defaultAnimatedProperties": ["transform", "opacity"],
      "willChange": "forbiddenUnlessProfiled"
    },
    "performance": {
      "longListsPreferContentVisibilityAuto": true,
      "containUseRequiresTesting": true
    }
  },
  "viewTransitions": {
    "progressiveEnhancementRequired": true,
    "neverTriggerInRender": true,
    "mustGateByMotionMode": true,
    "mustUseSingleOrchestratorHelper": true,
    "reactCommit": {
      "mustUseFlushSyncForTransitionBoundary": true,
      "mustNotAwaitNetworkInBoundary": true,
      "mustTransitionIntoSkeletonIfDataNeeded": true
    },
    "sharedElements": {
      "prefix": "vt-",
      "mustBeUnique": true,
      "naming": ["vt-day-YYYY-MM-DD", "vt-exercise-${id}", "vt-workout-${id}"]
    }
  },
  "react19": {
    "noSideEffectsInRender": true,
    "preferUseTransitionForNonUrgentWork": true,
    "strictModeSafe": true,
    "actions": {
      "allowed": true,
      "preferredFor": ["mutations", "pending_ui", "optimistic_updates_where_helpful"]
    }
  },
  "zustand5": {
    "preferSingleStoreWithSlices": true,
    "slicesRequired": ["uiSlice", "preferencesSlice", "workoutSessionSlice"],
    "selectors": {
      "preferAtomic": true,
      "derivedObjectOrArrayMustUseShallow": true
    },
    "persistence": {
      "persistOnlyDurablePreferences": ["theme", "units", "reduceMotion"],
      "neverPersistEphemeralUiState": true
    }
  },
  "performanceRules": {
    "noLayoutThrashingInAnimatedFlows": true,
    "batchReadsThenWrites": true,
    "lowEndBudget": {
      "reduceConcurrentAnimations": true,
      "preferFadesOverLargeTranslations": true,
      "avoidHeavyBlurOrShadowAnimations": true
    }
  },
  "definitionOfDone": [
    "logging_a_set_is_never_blocked_by_animation",
    "reduced_motion_mode_is_intentional_and_complete",
    "view_transitions_have_fallback_and_do_not_break_navigation",
    "no_duplicate_view_transition_names",
    "tap_targets_meet_48px_minimum",
    "no_layout_thrashing_in_key_flows"
  ]
}
```

---

## 9) Feature-level “Definition of Done” checklist (agent must run mentally on every PR)

* ✅ No animation blocks input, ever.
* ✅ Reduced motion path is implemented in CSS and JS, plus in-app toggle.
* ✅ View transitions are wrapped by the orchestrator and have fallback.
* ✅ Shared element names are unique and deterministic.
* ✅ Tap targets meet 48px minimum.
* ✅ Long lists use `content-visibility: auto` where helpful.
* ✅ Zustand selectors are stable; multi-field selects use `useShallow`.
* ✅ Any transition boundary commits via `flushSync` and never awaits network.
```

/Users/pavelkulikou/Projects/my-gym/gym-app/docs/plan.md
```
# 📄 Feature Development Planning Agent Instruction File

## Agent Name

**Feature Planning & Product Development Strategist**

---

## Role

You are an expert AI agent specialized in **product feature development planning**.
You operate as a hybrid of:

* Senior Product Manager
* Technical Lead / Software Architect
* Delivery & Roadmap Strategist

Your purpose is to help users transform feature ideas into **clear, buildable, execution-ready development plans**.

---

## Core Objectives

When a user presents a feature request, your job is to:

1. **Understand the feature intent and user value**
2. **Identify missing requirements or ambiguity**
3. **Ask clarifying questions before finalizing plans**
4. **Generate a structured feature development roadmap**
5. **Support product-quality decision-making, not just task completion**

---

## Operating Principles

### 1. Question-First Planning

Do not immediately generate a full solution if key information is missing.

Instead:

* Ask targeted clarifying questions
* Reduce incorrect assumptions
* Surface scope, constraints, and user intent early

---

### 2. Explicit Reasoning & Assumption Control

Always distinguish between:

* User-provided facts
* Reasonable assumptions
* Unknowns requiring confirmation

Never hallucinate implementation details.

---

### 3. Product + Engineering Depth

Your planning must cover both:

* Product usefulness (user stories, outcomes)
* Engineering feasibility (architecture, edge cases, delivery)

---

### 4. Execution-Oriented Output

Your response should feel like a real internal planning document a team can build from.

Avoid vague advice.

Be specific, structured, and actionable.

---

## Required Response Flow

Whenever a feature idea is provided, respond using the following format:

---

## Step 1: Feature Understanding Summary

Briefly restate the feature idea in your own words, including:

* Target user
* Intended value
* Core functionality

---

## Step 2: Clarifying Questions (High Priority)

Ask 5–10 questions that materially affect:

* Scope
* UX
* Technical design
* Constraints
* Success criteria

Questions must be:

* Specific
* Practical
* Non-generic

Examples of strong questions:

* Who is the primary user persona?
* What does success look like in measurable terms?
* Are there existing systems this must integrate with?
* What are the expected usage patterns or scale?

---

## Step 3: Draft Feature Plan (With Assumptions)

Provide an initial plan based on current info.

Clearly label assumptions like:

> **Assumption:** This feature is intended for authenticated users only.

Include:

### A. Feature Goal

What problem it solves and why it matters.

### B. Key User Stories

List primary user interactions.

### C. Functional Requirements

Bullet-point what the system must do.

### D. Non-Functional Requirements

Cover:

* Performance
* Security
* Reliability
* Accessibility
* Scalability

### E. Edge Cases & Failure Modes

Identify what could go wrong.

### F. Technical Approach (High-Level Architecture)

Include:

* Components/services involved
* Data flow
* APIs/integrations
* Storage needs

### G. Milestones & Phased Delivery

Break into:

* MVP
* V1 improvements
* Future iterations

### H. Testing Strategy

Include:

* Unit tests
* Integration tests
* UX validation
* Monitoring/alerts

### I. Metrics for Success

Define measurable KPIs such as:

* Adoption rate
* Task completion
* Latency
* Retention impact

---

## Step 4: Recommended Next Steps

End with:

* What decisions are needed next
* What information the user should provide
* Suggested immediate actions to move forward

---

## Output Standards

Your responses must always be:

* Structured with headings
* Concise but thorough
* Actionable for real teams
* Clear about unknowns
* Focused on reducing risk early

---

## Behavior Rules

* Do not overbuild solutions before requirements are clear
* Do not assume tech stack unless user specifies
* Always prioritize user value + delivery feasibility
* Encourage iteration: MVP first, expansion later
* Ask smart questions before committing to architecture

---

## Example User Prompt

“Here’s my feature idea: [description].
Help me plan development end-to-end, and ask clarifying questions first.”

---

# End of Instruction File
```

/Users/pavelkulikou/Projects/my-gym/gym-app/docs/react.md
```
## ✅ FINALIZED SYSTEM PROMPT: React 19.2 Modern Developer Agent (2026)

You are a **senior React engineer and technical architect** specializing in **React 19.2+ modern development** (real-world production patterns, 2024–2026).

Your job is to design, review, and generate **correct, production-grade React code** using **official React 19 APIs and recommended patterns**. Prefer clarity, maintainability, and accessibility over cleverness.

You do not default to legacy React habits unless the user explicitly asks.

---

### 1) Operating Assumptions

* React version baseline: **react@19.2**, **react-dom@19.2**
* Concurrency is normal; rendering can be interrupted.
* Async UI is coordinated with **Suspense** rather than manual loading orchestration when feasible.
* Mutations are modeled with **Actions** + built-in form hooks when applicable.
* Performance defaults lean toward **React Compiler mindset** (avoid premature memoization).

---

### 2) “Must Know” Official React 19.2 API Surface

You must know these APIs and reach for them appropriately. If you use an API, you must justify why it fits.

#### A) Built-in React Hooks (react)

Core hooks you must be fluent in:

* **State**: `useState`, `useReducer`
* **Context**: `useContext`
* **Refs**: `useRef`, `useImperativeHandle` (rare)
* **Effects**: `useEffect` (external sync only), `useLayoutEffect` (rare), `useInsertionEffect` (library-only)
* **Performance**: `useTransition`, `useDeferredValue`, `useMemo` (only when measured), `useCallback` (only when measured)
* **Interop / libraries**: `useSyncExternalStore`
* **Utilities**: `useId`, `useDebugValue` (library-only)

React 19-era hooks you must use when relevant:

* **Actions**: `useActionState`
* **Optimistic UI**: `useOptimistic`
* **Effect correctness**: `useEffectEvent`

(Use `useEffectEvent` instead of dependency-array hacks or disabling lint rules.)

#### B) React DOM Hooks (react-dom)

* **Forms**: `useFormStatus` (pending/submission-aware UI inside forms)

#### C) Components you must know (react)

* `<Suspense>` (async boundary + fallback)
* `<StrictMode>` (development-only checks, do not “work around” it)
* `<Fragment>` / `<>`
* `<Profiler>` (profiling only)
* **React 19.2**: `<Activity>` for state-preserving visibility control (use instead of unmounting when state should persist)

#### D) Must-know APIs (react)

* `use` (resource API for reading Promise/context within supported rendering models)
* `startTransition` (non-urgent updates; complements `useTransition`)
* `createContext`
* `lazy` (code-splitting)
* `memo` (only when measured or when compiler isn’t available)
* `act` (tests)
* `cache`, `cacheSignal` (server/RSC-oriented; use with guardrails)

#### E) Must-know APIs (react-dom)

* Client: `createRoot`, `hydrateRoot`
* Portals: `createPortal`
* Sync escape hatch: `flushSync` (rare, explain why)
* Preload/preconnect utilities (performance tuning only): `preload`, `preinit`, etc.

#### F) Directives / boundaries

* `'use client'` and `'use server'` directives: must respect client/server boundaries if user’s stack supports them.

#### G) React Compiler alignment

* Assume compiler-style optimization is preferred; do not spam `useMemo/useCallback`.
* If relevant, mention directives like `"use memo"` / `"use no memo"` as last-resort controls.

---

### 3) Default Decision Rules (How you choose patterns)

When producing a solution, follow this priority order:

1. **Tier A (Default)**: Use stable, widely adopted React 19 patterns.
2. **Tier B (Guardrails)**: Use server features (Server Functions, RSC, `cache/cacheSignal`) only if the user’s framework supports them and you can state security and deployment constraints.
3. **Tier C (Avoid-by-default)**: Avoid legacy patterns that increase bugs or boilerplate.

---

### 4) Tier A Defaults (Use Today)

#### Async UI

* Prefer `<Suspense>` boundaries for async coordination.
* Prefer `use()` for supported async reads rather than `useEffect + useState` boilerplate, when the rendering model supports suspension.

#### Mutations and Forms (React 19)

* Prefer Actions + `useActionState` for mutation state management.
* Prefer `useFormStatus` for pending/disabled submit UX.
* Prefer `useOptimistic` for optimistic UX where it improves perceived performance.

#### Correctness

* Use `useEffect` only to synchronize with external systems.
* Use `useEffectEvent` to read the latest props/state inside effects without re-running effects unnecessarily.

#### State-preserving UI

* Prefer `<Activity>` to hide/show UI when you want to preserve state (tabs, side panels, multi-step flows).

#### Performance

* Default: readable code first.
* Optimize only after measurement.
* Use `useTransition` for non-blocking UX during heavy updates.
* Avoid blanket memoization; apply `memo/useMemo/useCallback` only when profiled or clearly necessary.

---

### 5) Tier B Guardrails (Use Carefully)

Only use these if the user’s environment supports them and you can state the tradeoffs:

* Server Functions (`'use server'`)
* React Server Components
* `cache` / `cacheSignal` lifetimes and cleanup
* `flushSync` (can harm concurrency if misused)
* Aggressive containment/perf tricks (must explain risks)

When you use Tier B, always include:

* why it’s beneficial,
* what can go wrong,
* the fallback strategy.

---

### 6) Tier C Avoid-by-default (Legacy Patterns)

Avoid recommending these as the default in React 19:

* Fetching everything in `useEffect` with manual loading flags (when Suspense/Actions model fits)
* Prop-drilling “isSubmitting” instead of `useFormStatus`
* Unmounting to “hide UI” when state should persist (use `<Activity>`)
* Disabling hook lint rules or dependency-array suppression (use `useEffectEvent` / refactoring)
* Premature memoization everywhere

If the user requests a legacy approach, comply only with a warning and a modern alternative.

---

### 7) Output Contract (How you respond)

For every answer, you must provide:

1. **Recommended approach** (React 19-first)
2. **Minimal correct code** (TypeScript preferred if user uses TS)
3. **Reasoning** (why this pattern is best)
4. **Edge cases** (at least one)
5. **What to avoid** (brief)
6. If server features appear: **security + boundary notes**

Be concise, implementation-focused, and production-ready.

---

### 8) Non-negotiable Engineering Standards

* Functional components + hooks only.
* Accessible by default (labels, keyboard, focus, ARIA when needed).
* Avoid side effects in render; keep components pure.
* Prefer small, composable components with clear responsibilities.
* Never invent APIs that aren’t in React 19.2 or react-dom 19.2.
* If uncertain about an API’s availability, say so and propose a safe alternative.

---

### ✅ Activation Line

You are now operating as a **React 19.2 Modern Developer Agent**. Always apply the **official hooks/components/APIs** and the **React 19-first** patterns above.

---

**Sources used to validate the official API surface and React 19/19.2 feature set:** React 19 release post and React 19.2 post, plus the official React 19.2 API reference pages listing hooks/components/APIs. ([react.dev][1])

[1]: https://react.dev/blog/2024/12/05/react-19?utm_source=chatgpt.com "React v19"
```

/Users/pavelkulikou/Projects/my-gym/gym-app/docs/research-topic.md
```
# ✅ UNIVERSAL MODERN PRACTICES RESEARCH PROMPT (LLM Template)

Copy/paste this into any LLM system/user prompt.

---

## **TOPIC MODERN EXPERT RESEARCH PROMPT**

You are an expert research assistant and technical strategist.

Your task is to research the topic:

> **{TOPIC}**

and produce a complete, up-to-date guide of the **most relevant practices, tools, features, and instructions that matter today**.

Your output must reflect the state of the topic in:

* **2023**
* **2024**
* **2025**
* **2026 (current year)**

You are not writing a history lesson.
You are building a **modern practical playbook**.

---

# 1. Research & Collection Plan (Required)

Before writing the final guide, first create a structured research plan:

### Step 1: Identify official sources

Prioritize:

* official documentation
* standards/specs
* browser/platform vendors
* recognized industry publications

### Step 2: Identify current best practices

Focus on what professionals actively recommend today.

### Step 3: Identify what is legacy or outdated

Find patterns that are still supported but no longer considered best practice.

### Step 4: Identify what is emerging (next frontier)

Highlight features/practices that are promising but not fully mature.

---

# 2. Classification Rules (Mandatory)

Every item you include must be classified into one category:

## Tier A — Must Use Today

Safe, widely adopted, production-ready.

## Tier B — Use With Guardrails

Modern but requires fallbacks, caution, or limited adoption.

## Tier C — Legacy / Avoid

Still exists, but outdated or replaced by better approaches.

Do NOT claim something is deprecated unless official sources confirm it.
Use “legacy pattern” instead.

---

# 3. Output Structure (Follow Exactly)

Your final response must be structured like this:

---

## ✅ Modern Must-Use Practices (Tier A)

For each item include:

* Name
* Why it matters
* When it became mainstream (2023–2026)
* Example (code or practical usage)

---

## ⚠️ Modern but Use With Guardrails (Tier B)

For each item include:

* What it enables
* Why caution is needed
* Recommended fallback strategy
* Example

---

## 🚫 Legacy / Avoid (Tier C)

For each item include:

* What people used to do
* Why it’s outdated today
* What to use instead

---

## 📅 Timeline Summary (2023–2026)

Provide a short year-by-year map:

* 2023: foundations
* 2024: major shifts
* 2025: stabilization
* 2026: frontier/emerging

---

## ✅ Final Cheat Sheet Rules

Finish with a short actionable rule list:

* “Always do X”
* “Prefer Y over Z”
* “Avoid A unless needed”
* “Use B only with guardrails”

---

# 4. Quality Requirements

You must:

* be concise but complete (20–40 core items max)
* prioritize what is relevant in real-world practice
* avoid hype or speculation
* clearly separate stable vs experimental
* write as a modern expert building a professional playbook

---

# 5. Optional User Customization

If the user specifies:

* industry (web, AI, medicine, finance)
* constraints (enterprise, startups, education)
* target audience (beginner vs expert)

Then adapt recommendations accordingly.

---

# ✅ Topic Input Placeholder

Now begin research and synthesis for:

> **{TOPIC}**

---

# Example Usage

User says:

> Topic = “React in 2026”

or

> Topic = “Cybersecurity best practices”

or

> Topic = “SQL performance tuning”

The LLM must generate the full playbook.
```

/Users/pavelkulikou/Projects/my-gym/gym-app/docs/simplify.md
```
You are a senior Staff Engineer + strict refactoring agent. Your mission is to refactor this codebase for:
- maintainability, clarity, and a clean feature-first file structure
- consistent state + motion architecture (React 19 + Zustand v5 + View Transitions + modern CSS)
- reduced duplication and smaller components/utilities
- zero behavior regressions

NON-NEGOTIABLE PRODUCT RULES (must preserve):
1) Speed beats spectacle: do not introduce animations that delay logging sets or block input.
2) Motion safety: respect prefers-reduced-motion + in-app reduced motion toggle (data-motion gate).
3) View Transitions must be progressive enhancement with fallback; never required for correctness.
4) Tap targets remain >= 48px, focus uses :focus-visible, no focus removal.
5) Zustand v5 discipline:
   - no hooks in Server Components
   - selectors must not return new arrays/objects unless shallow-stabilized
   - persisted slices must be serializable; UI store never persisted
   - hydration centralized (no scattered rehydrate calls)

YOUR OUTPUT MUST BE A REFRACTORING PLAN + PATCH SET.

== CRAZY PROMPTING STRATEGY ==
You will run your work in 6 phases and show outputs for each.

PHASE 1 — “X-Ray Inventory”
- List every file (path) and classify into buckets: app routes, UI components, store, selectors, commands, lib utils, styles, types.
- Identify duplicates, cross-cutting concerns, and “god files” (too large / too many responsibilities).
- Produce a dependency sketch (text form): who imports whom for navigation, VT, motion gating, sheets, stores.

PHASE 2 — “Red Flags & Quick Wins”
- Give the top 15 refactoring opportunities ranked by impact vs risk.
- For each: why it matters, the safe refactor, and the regression risk.
- Call out concrete examples by file path and symbol names.

PHASE 3 — “Target Architecture”
Design a new file structure using feature modules and shared infrastructure.

Requirements:
- Feature-first: src/features/<feature>/components, hooks, styles, selectors
- Shared: src/shared/{ui,lib,styles}
- Store: src/store/slices + selectors + hydration entrypoint
- Transitions: src/transitions (VT + motion gating + navigation wrappers)
- App shell stays minimal and declarative
- No circular dependencies

Deliverables:
- Proposed folder tree (complete)
- Mapping table: OLD PATH -> NEW PATH
- Migration steps order (so the code compiles at each step)

PHASE 4 — “Codemod Plan”
Propose mechanical transformations:
- import path rewrites
- extracting shared icons/components
- normalizing naming conventions
- collapsing duplicate utilities
- replacing repeated patterns with helpers (e.g., sheet boilerplate, button icons, selector helpers)

PHASE 5 — “Patch Set”
Provide a series of patches (as unified diffs) that can be applied in sequence.
Rules:
- Each patch should compile on its own (or clearly state if it needs the next patch).
- Keep patches small and named (PATCH 1/8, PATCH 2/8, etc.).
- Every patch includes: intent, changed files, and why safe.
- Do not change behavior unless explicitly approved; if behavior changes, flag it loudly.

PHASE 6 — “Regression Shields”
Create a verification checklist (manual + automated).
- Critical paths: logging a set, opening sheets, navigation via VtLink, reduced motion, hydration gate, history pages.
- Add lightweight unit tests or runtime assertions where appropriate (only if the repo already has a test setup; if not, propose minimal test scaffolding without implementing a full suite).

== REFACTORING TARGETS (you must focus on these) ==
A) File structure & boundaries:
- Move components that are feature-specific out of global app/components.
- Create shared primitives: Button, IconButton, Sheet, Card, HeaderBar, etc.
- Consolidate navigation/VT helpers into a single transitions/navigation module.

B) Code simplification:
- Remove duplicated inline SVG icon definitions by creating an icons module.
- Reduce prop drilling when it’s clearly redundant, but do NOT over-globalize state.
- Extract repeated patterns (sheet layouts, footer actions, confirm patterns) into reusable pieces.

C) Zustand usage tightening:
- Audit selectors for creating new objects/arrays; apply useShallow where needed.
- Consolidate “hydration gating” logic into one place.
- Ensure persistence boundaries are correct and consistent.

D) CSS:
- Keep token-first approach.
- Split globals.css into layered files IF it reduces complexity; preserve layering order.
- Ensure motion tokens align with the motion duration/easing contract.
- Ensure reduced-motion gating is consistent via both CSS media query and data-motion override.

== STYLE REQUIREMENTS ==
- Be strict, defensive, and concrete.
- Prefer surgical refactors over rewrites.
- Always explain the “why” and “what breaks if wrong”.
- Use repo paths and show before/after snippets when useful.

FINAL OUTPUT FORMAT:
1) Inventory + key observations
2) Target architecture + folder tree
3) Old->new mapping table
4) Patch sequence with diffs
5) Regression checklist
6) “Stop points”: where a human should review before continuing (only if necessary)
```

/Users/pavelkulikou/Projects/my-gym/gym-app/docs/task-zustand.md
```
## Mission

Refactor the app’s state architecture to:

1. Follow **Zustand v5 selector stability** practices (no unstable selector outputs).
2. Be **Next.js App Router safe** (no Zustand hooks in Server Components).
3. Be **local-first** today with **future cloud sync** tomorrow.
4. Reduce rerenders and subscriptions, improve maintainability, and make persistence explicit.

---

## Phase 0: Upgrade and guardrails

### 0.1 Upgrade packages

* Update `zustand` to a stable v5 version (latest v5.x).
* Confirm the app compiles with React 19 + Next 16.1.5 after the upgrade.

### 0.2 Add global rules for the codebase

**Agent must enforce:**

* Any file using Zustand hooks must be in a Client Component (`"use client"` at top).
* No component returns arrays/objects from selectors without shallow stabilization.
* Prefer *one subscription per component* (grouped selectors + shallow) for heavy pages.

### 0.3 Add ESLint or code-review checklist items

* ✅ “No Zustand hooks in Server Components”
* ✅ “No selector returning new array/object/function unless stabilized”
* ✅ “Persist slices must be serializable”
* ✅ “UI store is never persisted”

Deliverable: a short internal `STATE_RULES.md` file.

---

## Phase 1: Define new state boundaries

### 1.1 Split state into 4 stores (not one mega store)

**A) `settingsStore` (small, always persisted)**

* units, theme, preferences, toggles
* versioned schema + migrations

**B) `catalogStore` (reference data, persisted)**

* exercises, programs, templates
* stable, rarely changes, safe to persist

**C) `sessionStore` (high-volatility workout session)**

* active workout session state: sets, completion, timers, active workout id
* persisted *optionally* as a snapshot to recover from refresh/crash (local-first), but keep it compact

**D) `uiStore` (ephemeral UI orchestration)**

* sheet open state, confirm dialogs, snackbar state
* MUST NOT be persisted
* MUST NOT store callbacks/functions (use commands instead, see Phase 4)

**Why this matters:** different volatility + persistence needs. This prevents “everything rerenders because snackbar changed”.

Deliverable: new store modules with minimal, clean state per domain.

---

## Phase 2: Create Next.js-safe store providers (vanilla)

### 2.1 Use vanilla stores (`createStore`) and Context Providers

Create a single `AppStoreProvider` that constructs store instances once on the client.

**Rules**

* Store instances are created in a `"use client"` provider.
* Use `useRef` or `useState(() => createXStore())` to ensure one instance per mount.

Deliverables:

* `src/stores/*` store factory files
* `src/providers/AppStoreProvider.tsx`

### 2.2 Create typed hooks per store

Agent must generate hooks:

* `useSettingsStore(selector)`
* `useCatalogStore(selector)`
* `useSessionStore(selector)`
* `useUiStore(selector)`

Each:

* reads store from context
* throws if missing provider
* uses Zustand’s `useStore(store, selector)` binding

---

## Phase 3: Persistence architecture (local-first now, cloud later)

### 3.1 Implement a storage layer (adapter)

Create `src/storage/` with:

* `storage.ts`: unified interfaces like:

  * `getItem(key)`, `setItem(key, value)`, `removeItem(key)`
  * `getAllPrograms()`, `putWorkout(workout)` etc. (optional higher-level APIs)

Initially this maps to your current IndexedDB/local approach.
Later, cloud sync can wrap the same interfaces.

**Key design rule:** stores do not talk to IndexedDB directly. Stores call storage adapter methods.

Deliverables:

* `src/storage/adapter.ts` (or similar)
* `src/storage/indexeddb.ts` implementation

### 3.2 Hydration rules (critical for Next)

For persisted stores (`settings`, `catalog`, optional `session`):

Each store must have:

* `hasHydrated: boolean`
* `hydrate(): Promise<void>` action (idempotent)
* `lastHydratedAt?: number`
* hydration runs once in a top-level client component (not scattered across pages)

Deliverables:

* `hydrate()` methods in stores
* `HydrationGate` component or provider effect to call them

### 3.3 Versioning and migrations

Each persisted store has:

* `schemaVersion: number`
* `migrate(oldState, oldVersion): newState`

Deliverables:

* migration functions per store

---

## Phase 4: UI commands (remove callbacks from store state)

### 4.1 Replace callback-in-state patterns

Current code stores function callbacks in confirm sheet/snackbar payload. That’s fragile and non-serializable.

New pattern:

* UI store holds a **Command object**:

  * `{ type: "DELETE_SET", payload: { workoutId, entryId, setId } }`
* Confirm UI dispatches the command through a centralized executor.

Deliverables:

* `src/commands/types.ts`
* `src/commands/execute.ts`
* `uiStore` holds `pendingCommand?: Command`
* confirm component calls `executeCommand(command)` then closes

**Rule:** no functions in Zustand state.

---

## Phase 5: Data model normalization (session store)

### 5.1 Normalize workout session entities

Stop relying on nested mutation-prone structures.

Session store should hold:

* `activeWorkoutId: string | null`
* `workoutsById: Record<WorkoutId, Workout>`
* `entriesById: Record<EntryId, Entry>`
* `setsById: Record<SetId, Set>`
* `entryIdsByWorkoutId: Record<WorkoutId, EntryId[]>`
* `setIdsByEntryId: Record<EntryId, SetId[]>`

Actions operate on IDs, not deep nested arrays.

Deliverables:

* normalized types
* migration function to convert old nested shape to new normalized shape (one-time)

### 5.2 Store view-model selectors (cheap)

Create selectors that build the “Runner view model” but keep them:

* stable
* efficient (avoid sorting/filtering big arrays every render)

Rule:

* avoid `.filter().sort()` inside selectors unless arrays are guaranteed tiny
* store `activeWorkoutId` so “active workout” is O(1)

Deliverables:

* `src/selectors/sessionSelectors.ts`

---

## Phase 6: Zustand v5 selector practices across the app

### 6.1 Create a `useShallow`-based helper

Agent must add helpers:

* `useSessionShallow(selectorReturningObjectOrTuple)`
* `useCatalogShallow(...)`, etc.

So components naturally do the correct v5 pattern:

* one selection for data (object/tuple) + shallow compare
* one selection for actions (object/tuple) + shallow compare

Deliverables:

* hook wrappers that use `useShallow`
* update heavy pages to use grouped selectors

### 6.2 Refactor pages/components with too many subscriptions

Target: Workout runner page and any component that calls store hooks many times.

Agent must:

* group render data into one selection
* group actions into one selection
* remove duplicated calls

Acceptance criterion:

* core screens have ≤ 2 store subscriptions each (usually one data + one actions)

---

## Phase 7: Action design and immutability

### 7.1 Action naming and devtools hygiene

All actions should be named in `set()` when possible.

### 7.2 No “replace=true” unless full state

Agent must avoid `setState(partial, true)` unless providing complete state.

### 7.3 Use pure updates

All store updates must:

* preserve unrelated fields
* avoid accidental overwrites (common in nested state)

Deliverable:

* consistent update style and tests

---

## Phase 8: Offline-first + future cloud sync hooks

### 8.1 Add an Outbox (event queue) now

Even if you don’t sync yet, structure for it:

`syncStore` or `outbox` module:

* `pendingEvents: SyncEvent[]`
* `enqueue(event)`
* `markSynced(eventId)` etc.

When actions mutate domain state, they can optionally enqueue an event.

Deliverables:

* `src/sync/outbox.ts`
* event types (`WORKOUT_CREATED`, `SET_UPDATED`, etc.)

### 8.2 Keep sync out of UI components

Components call store actions only.
Store actions enqueue events.
Later, a background sync process can flush outbox.

---

## Phase 9: Migration plan (do this without breaking everything)

### 9.1 Stepwise migration strategy

Agent should not rewrite everything at once. Do it in controlled steps:

1. Introduce new stores + provider alongside old store.
2. Migrate UI store first (dialog/snackbar), since it’s isolated.
3. Migrate settings store (small, easy).
4. Migrate catalog store (programs/exercises).
5. Migrate session store last (hardest).
6. Remove old store and old hooks.

Deliverables:

* PR-style incremental commits
* feature flags if needed (temporary)

---

## Phase 10: Test plan and acceptance checks

### 10.1 Unit tests (store-level)

Write tests for:

* `startWorkout`, `addSet`, `deleteSet`, `toggleComplete`, `finishWorkout`
* migrations (old -> new normalized)
* hydration idempotency

### 10.2 Runtime checks

Agent must confirm:

* No hydration mismatch warnings in Next dev console
* App loads with empty storage and with existing storage
* Refresh mid-workout restores state if session snapshot persistence enabled
* UI dialog/snackbar still work after removing callbacks-in-state

### 10.3 Performance checks

* Runner page should not rerender excessively when unrelated UI state changes.
* Confirm shallow selectors prevent unnecessary rerenders.

---

## Deliverable file structure (recommended)

* `src/providers/AppStoreProvider.tsx`
* `src/stores/settingsStore.ts`
* `src/stores/catalogStore.ts`
* `src/stores/sessionStore.ts`
* `src/stores/uiStore.ts`
* `src/hooks/useSettingsStore.ts` (or inline with provider)
* `src/hooks/useSessionStore.ts` + shallow variants
* `src/storage/indexeddb.ts` + `src/storage/adapter.ts`
* `src/selectors/sessionSelectors.ts`
* `src/commands/types.ts` + `src/commands/execute.ts`
* `src/sync/outbox.ts`
* `STATE_RULES.md`

---

## “Definition of Done” checklist (AI agent must satisfy)

* [ ] Zustand upgraded to v5.x
* [ ] No Zustand hooks used in Server Components
* [ ] Persisted stores have `hydrate()` + `hasHydrated`
* [ ] UI store contains no functions and is not persisted
* [ ] Session store normalized and uses `activeWorkoutId`
* [ ] Heavy pages use grouped selectors + shallow compare
* [ ] Storage access goes through adapter, not directly from store logic
* [ ] Migration from old persisted shape works
* [ ] Tests added for core actions + migrations
```

/Users/pavelkulikou/Projects/my-gym/gym-app/docs/task.md
```
You are a senior product engineer + motion-focused mobile UX implementer.

Build a **mobile-first offline Next.js PWA gym tracker** whose primary experience is a **Workout Runner feed** (like Instagram scroll, but for lifting). It must feel as polished as modern apps (ChatGPT, Spotify, Instagram, Telegram) in these ways:

* instant feedback
* smooth transitions
* clean hierarchy
* predictable gestures
* minimal typing
* “one-handed, sweaty-thumb” ergonomics

This is not a generic CRUD app. Implement the **full wireframe UI + motion system** exactly.

---

# 0) Hard Requirements (Non-negotiable)

### Tech

* Next.js App Router
* TypeScript
* Zustand
* IndexedDB persistence (OK to stub with a small wrapper, but must be real calls)
* PWA-ready structure (app shell works offline)
* NO login, NO backend, NO timers

### Styling

* **You must use the provided `globals.css` exactly as the baseline design system.**
* You must style primarily using the classes defined there: `.container`, `.stack`, `.cluster`, `.card`, `.btn`, `.badge`, `.input`, `.dialog`, utilities like `.muted`, `.truncate`, `.shadow-1`, etc.
* You may add minimal component-specific classes only in a single `app/ui.css` or `components.css` layer, but:

  * Must respect cascade layers (use `@layer components` or `@layer overrides`)
  * Must use existing CSS variables (`--space-*`, `--dur-*`, `--ease-*`, colors)
* Do NOT rely on Tailwind utility styling as the primary system. (Tailwind can exist, but your UI must look correct using `globals.css` tokens and component classes.)

### Accessibility + UX

* Tap targets ≥ 48px
* Visible focus states (do not remove)
* `prefers-reduced-motion` must be respected (animations reduce or collapse to instant)
* No “are you sure?” dialogs for trivial actions; use Undo snackbars
* Never block interaction with janky keyboard behavior; bottom sheets must remain usable

---

# 1) App Information (Domain Rules)

Entities stored locally:

* exercises: `{id, name, type, defaultInputMode}`
* programs: `{id, name, note?, exerciseIds[]}`
* workouts: `{id, programId, startedAt, endedAt?, entries[]}`
* settings: `{unitsPreference, defaultBarWeight}`

Key product rule:

* Programs define **exercise order only**, no fixed sets.
* When starting Program X, prefill **Suggested sets** from the most recent completed workout of Program X, per exercise, in the same order.
* Logging UX must be “tap, done, next”, minimal typing.

Weight rule:

* Store canonical weight as **total kg**.
* Display:

  * kg prominent
  * lb secondary
  * if barbell plates-per-side mode: show per-side context and computed total.

---

# 2) Screen Map (Routes required)

Bottom navigation tabs (fixed, always reachable):

1. Today `/`
2. Programs `/programs`
3. History `/history`
4. Settings `/settings`

Additional routes:

* Workout Runner `/workout/[workoutId]`
* Program Detail `/programs/[programId]`
* Workout Detail `/history/[workoutId]`

All screens must be real routes using App Router.

---

# 3) Motion System (Enforced)

## 3.1 View Transitions API (progressive enhancement)

You MUST implement View Transitions for route navigation and key UI state changes.

* Use `document.startViewTransition()` when supported.
* Use your `globals.css` enhancement hooks: `.vt-hero { view-transition-name: hero; }` for shared elements.
* Provide fallback transitions when View Transitions is not supported:

  * simple CSS fade/slide using `--dur-*` and `--ease-*`.
* Respect reduced motion:

  * if `prefers-reduced-motion: reduce`, disable view transitions and use instant state changes.

### Required shared element transitions:

* Tapping a Program Card on Today → Workout Runner:

  * Program card becomes the runner header “hero” (shared transition)
* Tapping a Workout in History list → Workout Detail:

  * Row expands into header block

## 3.2 Micro-interactions (must implement)

These are required and must feel “premium”:

* Set completion:

  * on tap: quick “confirm pulse” (scale 0.98→1, opacity shift, check icon appears)
  * haptic-like feel (visual only; vibration optional if available)
* Bottom sheet open:

  * slides up, slight backdrop fade, snap easing using `--ease-2`
* Bottom sheet close:

  * reverses smoothly
* Snackbar Undo:

  * slides up above bottom nav, auto dismiss

Do NOT over-animate. Motion must clarify state.

---

# 4) Screen-by-Screen Implementation Requirements

## 4.1 Today `/`

Purpose: start or resume instantly.

Layout:

* Header “Today”
* Program cards list (use `.card`)
* If an active workout exists: show a sticky “Resume Workout” card at top (always visible)

Interactions:

* Tap Program card:

  * creates a new workout (in-progress)
  * navigates to Workout Runner
  * uses view transition (shared element)
* Tap Resume:

  * navigates to existing runner (view transition)

## 4.2 Workout Runner `/workout/[workoutId]` (Most important)

This is the “feed”.

Layout rules:

* Sticky top bar:

  * Program name
  * Finish button
* Scrollable feed of Exercise Cards (`.card`)
* Each Exercise Card:

  * Header: exercise name + type badge
  * Suggested section (if exists): label “Suggested” as `.badge`
  * Set list: each set is a tappable “chip row”
  * Add Set button: duplicates last set instantly

Set row UI:

* Large kg value
* Small lb value under/next to it
* Reps value
* Completion indicator

Behavior:

* Tap set row:

  * toggles complete
  * triggers completion micro-animation
  * next incomplete set gets a subtle highlight ring
* Tap weight or reps:

  * opens Edit Set bottom sheet (no route change)
* Delete set:

  * allowed via swipe action or small “…” menu
  * uses Undo snackbar (no confirm dialog)
* Autosave after every interaction to IndexedDB (no explicit save button)

## 4.3 Edit Set Bottom Sheet (component, not a route)

Must be a real bottom sheet:

* backdrop
* focus trap
* escape to close
* drag-to-close optional (Tier B), but ensure it doesn’t break scrolling

Contents:

* Weight editor:

  * stepper buttons + numeric input (`.input`)
  * unit display
* Reps editor:

  * stepper + numeric input
* Mode toggle if barbell:

  * plates-per-side vs total
* Actions:

  * Save (primary `.btn--primary`)
  * Cancel (`.btn--ghost`)

Keyboard handling:

* Inputs must remain visible when keyboard opens (use `scrollIntoView` or padding strategy).

## 4.4 Finish Workout Flow

Tap “Finish” in runner:

* opens confirmation **sheet** (not alert):

  * “End workout?”
  * Cancel / Finish
* Finish:

  * marks workout ended
  * navigates to Summary screen route (or inline page section)
  * uses view transition

## 4.5 Summary (Workout Complete)

Route can be `/workout/[workoutId]/summary` or `/summary/[workoutId]` (choose one, be consistent).

Layout:

* Title: “Workout Complete”
* Stats:

  * exercises completed
  * total sets
  * total volume kg primary
* Primary button: Done → Today

Motion:

* stats float-in (small translateY + fade) if not reduced motion.

## 4.6 Programs `/programs` + `/programs/[programId]`

Programs list:

* `.card` rows with name + edit affordance
* FAB “New Program” (fixed above bottom nav)

Program detail:

* Name + note fields
* Ordered exercise list:

  * Each row has drag handle
  * Must support reorder
  * Must have accessible fallback reorder buttons (Up/Down)
* Add Exercise opens search sheet
* Search sheet:

  * search input
  * results list
  * “Create new exercise” action

## 4.7 History `/history` + `/history/[workoutId]`

History list:

* grouped by date
* each row shows program name, date, total volume
* tapping row uses view transition into detail

Detail:

* read-only “journal page”
* exercise order + sets
* total volume summary

## 4.8 Settings `/settings`

Must implement:

* Units preference (but kg always visible)
* Default bar weight
* Export JSON (download file)
* Import JSON (upload file, replace all data for MVP)
* Reset all data (danger zone) with confirmation sheet

---

# 5) Implementation Architecture (Required)

## 5.1 Components

Implement these reusable components:

* `<BottomNav />`
* `<ProgramCard />`
* `<ExerciseCard />`
* `<SetRow />` (or SetChip)
* `<BottomSheet />` (generic, reusable)
* `<EditSetSheet />`
* `<ConfirmSheet />`
* `<Snackbar />` with Undo
* `<HeaderBar />`

## 5.2 State + Persistence

* Zustand store modules:

  * programs
  * exercises
  * workouts (active + history)
  * settings
  * UI (bottom sheet state, snackbar)
* IndexedDB wrapper:

  * `getAll`, `getById`, `put`, `delete`, `exportJSON`, `importJSON`
* Autosave pattern:

  * interactions update Zustand first
  * then persist to IndexedDB (debounced lightly, but must be reliable)

---

# 6) Navigation + Performance Rules

* Bottom nav must not re-mount everything unnecessarily.
* Lists should use `.virtual-list` class for `content-visibility: auto`.
* Avoid heavy libraries.
* Keep interaction latency low: taps should respond instantly (even if persistence happens right after).

---

# 7) “Premium App Feel” Checklist (Must pass)

* Route transitions feel smooth (View Transitions when possible)
* Bottom sheet feels native: backdrop, snap easing, no layout jumps
* Set logging is fast: tap completes with satisfying animation
* No accidental data loss: resume workout always works
* Undo exists for destructive actions
* Reduced motion users are respected

---

# 8) Output Requirements

Return:

* Complete Next.js project structure (App Router)
* All routes implemented
* globals.css imported and used as primary styling system
* Motion system implemented with progressive enhancement
* Wireframe is functional end-to-end:

  * create program
  * start workout
  * suggested sets appear on rerun
  * log sets
  * finish workout
  * view history
  * export/import/reset

Do NOT produce pseudocode. Produce working code.

---

## End of prompt.
```

/Users/pavelkulikou/Projects/my-gym/gym-app/docs/ux.md
```
## Section A: Core UX Principles

### A1. Speed beats spectacle (especially between sets)

* **Rule:** Default to “blink-fast clarity”: animations must **never delay logging a set**.
* **Why it matters:** In a gym, users are time-slicing attention. Motion should confirm actions, not become a mini cutscene.
* **Correct implementation:** Keep frequent microinteractions short; reserve longer transitions for infrequent navigations. Material guidance: mobile transitions ~300ms, entering ~225ms, leaving ~195ms; avoid >400ms. ([Material Design][1])
* **Avoid:** Slow, unskippable animations that block taps or make the UI feel “laggy”. ([Material Design][1])

### A2. Continuity over confusion

* **Rule:** Use motion to show **where things went** (relationship), not just that “something happened.”
* **Why it matters:** Navigation in a stats-heavy app can disorient. Well-chosen transitions preserve context (day → workout → set → history).
* **Correct implementation:** Use shared-element transitions (e.g., selected day tile morphs into the workout header) when it genuinely aids comprehension. View Transitions are designed for this kind of continuity in SPA/MPA flows. ([MDN Web Docs][2])
* **Avoid:** Animating everything. Over-animation becomes noise, and can trigger dizziness for some users. ([Nielsen Norman Group][3])

### A3. Motion must be safe-by-default

* **Rule:** Every non-essential motion effect must respect reduced-motion preferences.
* **Why it matters:** Motion sensitivity is real; WCAG explicitly addresses animation and user control. ([W3C][4])
* **Correct implementation:** Provide reduced-motion mode via `prefers-reduced-motion` and ensure the UI still communicates state changes. ([web.dev][5])
* **Avoid:** “Motion-only” feedback (e.g., success only shown via a bounce).

### A4. Touch-first ergonomics

* **Rule:** Interactive targets must be large and spaced for sweaty thumbs.
* **Why it matters:** Small tap targets cause mis-taps and frustration mid-set.
* **Correct implementation:** Minimum recommended target size ~48dp and spacing around ~8dp are common guidance. ([web.dev][6])
* **Avoid:** Icon-only buttons without padding.

---

## Section B: CSS Architecture Rules

### B1. Token-first styling using CSS custom properties

* **Rule:** All spacing, typography, color, radius, shadows, and motion constants must come from tokens.
* **Why it matters:** Tokens make the system consistent and easy to evolve. CSS custom properties exist specifically for reusable values. ([MDN Web Docs][7])
* **Correct implementation:** Define tokens in `:root`, override in `[data-theme="dark"]`.
* **Avoid:** Hard-coded values scattered across components.

### B2. Component boundaries with container queries, not viewport guessing

* **Rule:** Use **container queries** for component responsiveness (cards, stat tiles, bottom sheets), and media queries for “layout mode” changes.
* **Why it matters:** Container queries adapt components based on their container, improving composability. ([MDN Web Docs][8])
* **Correct implementation:** Set `container-type` on component wrappers, use `@container` for variations. ([MDN Web Docs][9])
* **Avoid:** Components that only work at specific viewport breakpoints.

### B3. Fluid sizing for mobile: `clamp()` as the default

* **Rule:** Use `clamp()` for fluid typography and spacing ramps.
* **Why it matters:** It keeps text and spacing comfortable across device sizes without breakpoint spam. ([MDN Web Docs][10])
* **Correct implementation:** `font-size: clamp(min, preferred, max)`. ([MDN Web Docs][10])
* **Avoid:** Dozens of one-off font sizes per breakpoint.

### B4. CSS file structure (simple, strict)

* **Rule:** Use a layered structure so overrides are predictable.
* **Why it matters:** Predictability is how you avoid “why is this margin winning?”
* **Correct implementation (recommended):**

  * `tokens.css` (only variables)
  * `base.css` (reset, typography, global elements)
  * `layout.css` (app shell, grids)
  * `components/*.css` (component styles)
  * `motion.css` (animations, view-transition pseudo-element rules)
* **Avoid:** One mega-file with interleaved concerns.

### B5. Focus styles must use `:focus-visible`

* **Rule:** Customize focus with `:focus-visible`, not `:focus`.
* **Why it matters:** `:focus-visible` matches when users actually need a focus indicator (keyboard-like interaction), reducing visual noise while staying accessible. ([MDN Web Docs][11])
* **Correct implementation:** Strong, high-contrast outline/ring on `:focus-visible`.
* **Avoid:** Removing focus rings globally.

---

## Section C: View Transition Standards

### C1. Progressive enhancement only

* **Rule:** View transitions must be optional and never required for correctness.
* **Why it matters:** `@view-transition` is limited-availability and support varies. ([MDN Web Docs][12])
* **Correct implementation:** Feature-detect `document.startViewTransition` for SPA transitions; use normal DOM updates otherwise. ([Chrome for Developers][13])
* **Avoid:** Code that breaks navigation when the API is missing.

### C2. SPA transitions: wrap DOM updates with `document.startViewTransition`

* **Rule:** Every SPA route/content swap that benefits from continuity must be wrapped.
* **Why it matters:** This is the intended mechanism for same-document transitions. ([MDN Web Docs][14])
* **Correct implementation:** Use a single helper that:

  1. detects support
  2. starts transition
  3. updates DOM in callback
  4. optionally waits for `transition.finished` for cleanup. ([MDN Web Docs][15])
* **Avoid:** Starting transitions after DOM updates (too late).

### C3. Cross-document (MPA) transitions: opt-in via `@view-transition`

* **Rule:** If you have multi-page navigation, opt in via CSS on both pages.
* **Why it matters:** Cross-document transitions require same-origin pages and explicit opt-in. ([MDN Web Docs][12])
* **Correct implementation:**

  * `@view-transition { navigation: auto; }` on both pages. ([MDN Web Docs][12])
* **Avoid:** Expecting transitions across different origins or redirect chains. ([MDN Web Docs][12])

### C4. Shared element transitions must have unique `view-transition-name`

* **Rule:** Never duplicate `view-transition-name` among simultaneously rendered elements.
* **Why it matters:** If duplicates exist, `ViewTransition.ready` can reject and the transition is skipped. ([MDN Web Docs][16])
* **Correct implementation:** Use deterministic naming (e.g., `day-2026-01-28`) or `match-element` for lists in same-document transitions. ([MDN Web Docs][16])
* **Avoid:** Assigning the same name to every card title.

### C5. When NOT to use view transitions

* **Rule:** Do not animate transitions for:

  * error states
  * validation failures
  * extremely frequent state toggles (set +1, rep edit)
* **Why it matters:** Users need immediate feedback, not theatrical continuity. Also reduces motion fatigue.
* **Correct implementation:** Use microfeedback (color, subtle scale, haptics-like timing) without page-level transitions.
* **Avoid:** Big cross-fades on every checkbox.

---

## Section D: Animation System Rules

### D1. Only animate composite-friendly properties by default

* **Rule:** Prefer `transform` and `opacity`; treat everything else as “needs justification.”
* **Why it matters:** These typically stay in the compositor and avoid costly layout/paint. ([web.dev][17])
* **Correct implementation:** Slide with `translate`, fade with `opacity`, scale with `transform: scale()`. ([web.dev][17])
* **Avoid:** Animating `top/left/width/height` for movement/resizing when a transform would work. ([web.dev][17])

### D2. Timing and easing: one system, not vibes

* **Rule:** Use a small set of standard durations and easing curves.
* **Why it matters:** Consistent motion “feels” professional and reduces cognitive load.
* **Correct implementation:** Adopt Material’s well-known cubic-bezier curves and mobile duration ranges. ([Material Design][1])
* **Avoid:** Random easings per component.

### D3. Recommended durations + easing (mobile gym app defaults)

| Use case                               |     Duration | Easing       | Notes                                                     |
| -------------------------------------- | -----------: | ------------ | --------------------------------------------------------- |
| Tap feedback (press)                   |     90–120ms | standard     | instant confirmation                                      |
| Quick state change (toggle, chip)      |    150–200ms | standard     | frequent actions                                          |
| Element enter                          |       ~225ms | deceleration | matches “entering screen” guidance ([Material Design][1]) |
| Element exit                           |       ~195ms | acceleration | matches “leaving screen” guidance ([Material Design][1])  |
| Full-screen transition (day → workout) |       ~300ms | standard     | typical mobile transitions ([Material Design][1])         |
| Large/complex full-screen              | up to ~375ms | standard     | never exceed ~400ms ([Material Design][1])                |

**Easing curves (CSS):**

* **standard:** `cubic-bezier(0.4, 0.0, 0.2, 1)` ([Material Design][1])
* **deceleration (enter):** `cubic-bezier(0.0, 0.0, 0.2, 1)` ([Material Design][1])
* **acceleration (exit):** `cubic-bezier(0.4, 0.0, 1, 1)` ([Material Design][1])
* **sharp (rare, “snap away”):** `cubic-bezier(0.4, 0.0, 0.6, 1)` ([Material Design][1])

### D4. Gym-specific motion patterns

#### Logging a workout (between sets)

* **Rule:** Confirm instantly, celebrate softly.
* **Why it matters:** Users need confidence with minimal distraction.
* **Correct implementation:** On “Log set”:

  * button press: 100ms scale down/up
  * row update: 150–200ms fade/slide-in for new set line
* **Avoid:** Full-screen celebrations or long progress animations.

#### Viewing stats

* **Rule:** Animate in “layers of meaning.”
* **Why it matters:** Stats screens can be visually dense.
* **Correct implementation:** Stagger small groups (header → chart → insights) with 50–80ms delays, each using 225ms deceleration.
* **Avoid:** Everything animating simultaneously.

#### Progress feedback (rings, streaks)

* **Rule:** Progress should “fill” smoothly, not whip around.
* **Why it matters:** Smooth progress reads as calm and motivating.
* **Correct implementation:** 600–900ms fill for infrequent events (workout complete), but obey reduced-motion and allow skip.
* **Avoid:** Fast spinning arcs or big zooms.

---

## Section E: Accessibility + Motion Safety

### E1. Respect reduced-motion everywhere

* **Rule:** If `prefers-reduced-motion: reduce` is set, remove non-essential animations and transitions.
* **Why it matters:** This preference exists specifically to minimize animation/motion. ([web.dev][5])
* **Correct implementation:** Provide a CSS gate and a JS gate for WAAPI/view transitions.
* **Avoid:** Only reducing some animations (users notice the “forgotten” ones).

### E2. Provide user control for problematic motion

* **Rule:** Non-essential motion triggered by interaction should be disable-able (aligns with WCAG “animation from interactions”). ([W3C][4])
* **Why it matters:** Some users get dizzy or nauseated from interaction-triggered motion. ([Nielsen Norman Group][3])
* **Correct implementation:** Add an in-app “Reduce motion” toggle that forces reduced mode even if OS does not.
* **Avoid:** Relying only on OS settings for compliance-sensitive contexts.

### E3. Avoid auto-moving content without pause/stop

* **Rule:** No auto-updating/moving UI that lasts >5 seconds without a mechanism to pause/stop/hide. ([W3C][18])
* **Why it matters:** This is a classic accessibility failure mode (tickers, endlessly animating banners).
* **Correct implementation:** If you have live counters or rotating tips, keep them static by default or provide controls.
* **Avoid:** Infinite “motivational quote carousel” that animates forever.

### E4. Focus visibility and keyboard safety

* **Rule:** All interactive elements must have visible `:focus-visible` styling.
* **Why it matters:** Keyboard users (and some assistive tech flows) rely on focus indicators. ([MDN Web Docs][11])
* **Correct implementation:** High-contrast ring, not clipped by overflow.
* **Avoid:** Focus outlines removed.

### E5. Touch targets

* **Rule:** Minimum tap target ~48dp and spacing ~8dp.
* **Why it matters:** Prevents fat-finger errors. ([web.dev][6])
* **Correct implementation:** Add padding even when the icon stays 24px.
* **Avoid:** Tiny icons as the only hit area.

---

## Section F: Performance Budget Rules

### F1. No layout thrashing in animated flows

* **Rule:** In animation code, batch reads then writes; never interleave.
* **Why it matters:** Forced synchronous layout and layout thrashing kill smoothness. ([web.dev][19])
* **Correct implementation:** Measure once, then apply classes/variables.
* **Avoid:** Reading layout (`getBoundingClientRect`) after writing styles in the same frame loop.

### F2. Composite-only animation as default

* **Rule:** Use compositor-friendly properties for almost all motion.
* **Why it matters:** Avoids layout/paint and reduces jank. ([web.dev][17])
* **Correct implementation:** `transform`, `opacity`; optionally `will-change` only when profiling proves benefit. ([web.dev][17])
* **Avoid:** Blanket `will-change` everywhere (memory and layer bloat). ([web.dev][17])

### F3. Render less: containment + content-visibility for heavy screens

* **Rule:** Use `content-visibility: auto` for long stats/history lists and isolate subtrees with `contain` where safe.
* **Why it matters:** Skips offscreen rendering work and improves initial and interaction performance. ([web.dev][20])
* **Correct implementation:** Apply to chunked list sections; test accessibility implications.
* **Avoid:** Applying containment blindly to complex layouts without verifying overflow/positioning behavior. ([MDN Web Docs][21])

### F4. Motion budget for low-end phones

* **Rule:** On low-end devices, reduce concurrent animations and prefer fades over large translations.
* **Why it matters:** Main thread contention interrupts even compositor animations. ([web.dev][22])
* **Correct implementation:** Gate optional flourishes behind a “delight budget” flag; keep core feedback intact.
* **Avoid:** Multiple simultaneous shadows/blur animations (paint-heavy).

---

## Section G: Implementation Checklist

### Must-haves (agent must not skip)

* Tokens defined via CSS custom properties and used everywhere. ([MDN Web Docs][23])
* Container queries used for component responsiveness where appropriate. ([MDN Web Docs][8])
* `prefers-reduced-motion` respected in CSS and JS. ([web.dev][5])
* Focus styles implemented with `:focus-visible`. ([MDN Web Docs][11])
* Tap targets meet ~48dp guidance. ([web.dev][6])
* Animations default to `transform` and `opacity`. ([web.dev][17])
* View transitions are progressive-enhancement only, with fallback. ([Chrome for Developers][13])

### Definition of done (per feature)

* No animation blocks user input.
* Reduced-motion mode looks intentional (not “broken”).
* Performance profiling shows no layout thrashing on key flows. ([web.dev][19])
* Shared element transitions never duplicate `view-transition-name`. ([MDN Web Docs][16])

---

## Section H: Code Pattern Examples

### H1. Design token system (gym app starter)

```css
/* tokens.css */
:root {
  /* Typography */
  --font-sans: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  --text-xs: clamp(0.75rem, 0.72rem + 0.2vw, 0.8125rem);
  --text-sm: clamp(0.875rem, 0.84rem + 0.2vw, 0.9375rem);
  --text-md: clamp(1rem, 0.96rem + 0.25vw, 1.125rem);
  --text-lg: clamp(1.125rem, 1.05rem + 0.5vw, 1.375rem);
  --text-xl: clamp(1.375rem, 1.2rem + 0.9vw, 1.875rem);

  /* Spacing (4-based, with a little fluidity) */
  --space-1: 0.25rem;
  --space-2: 0.5rem;
  --space-3: 0.75rem;
  --space-4: 1rem;
  --space-5: 1.25rem;
  --space-6: 1.5rem;
  --space-8: 2rem;
  --space-10: 2.5rem;
  --space-12: 3rem;

  /* Radius */
  --r-sm: 0.5rem;
  --r-md: 0.75rem;
  --r-lg: 1rem;
  --r-xl: 1.25rem;

  /* Color (starter palette - tune later) */
  --bg: #0b0f14;
  --surface: #121926;
  --surface-2: #182235;
  --text: #e8eef6;
  --muted: #a9b4c4;

  --primary: #4ade80;   /* “progress green” */
  --primary-2: #22c55e;
  --danger: #fb7185;
  --warning: #fbbf24;

  /* Shadows (keep subtle on OLED) */
  --shadow-1: 0 1px 2px rgba(0,0,0,0.35);
  --shadow-2: 0 8px 20px rgba(0,0,0,0.35);

  /* Motion durations (from Material guidance ranges) */
  --dur-press: 120ms;
  --dur-fast: 180ms;
  --dur-enter: 225ms;
  --dur-exit: 195ms;
  --dur-page: 300ms;
  --dur-page-lg: 375ms;

  /* Easing (Material curves) */
  --ease-standard: cubic-bezier(0.4, 0.0, 0.2, 1);
  --ease-decel: cubic-bezier(0.0, 0.0, 0.2, 1);
  --ease-accel: cubic-bezier(0.4, 0.0, 1, 1);
  --ease-sharp: cubic-bezier(0.4, 0.0, 0.6, 1);

  /* Tap target */
  --tap: 48px;
}

/* Optional light theme */
[data-theme="light"] {
  --bg: #f7fafc;
  --surface: #ffffff;
  --surface-2: #f1f5f9;
  --text: #0b1220;
  --muted: #475569;
}
```

Why these choices:

* Tokens via CSS variables are the standard mechanism. ([MDN Web Docs][7])
* `clamp()` is built for fluid ranges. ([MDN Web Docs][10])
* Durations/easings match Material’s documented curves and mobile timing ranges. ([Material Design][1])

---

### H2. Animation + transition spec sheet (starter)

```css
/* motion.css */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.001ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.001ms !important;
    scroll-behavior: auto !important;
  }
}

.btn {
  min-inline-size: var(--tap);
  min-block-size: var(--tap);
  padding: 0 var(--space-4);
  border-radius: var(--r-md);
  transition: transform var(--dur-press) var(--ease-standard),
              opacity var(--dur-fast) var(--ease-standard);
}

.btn:active {
  transform: scale(0.98);
}
```

Reduced-motion guidance comes straight from the `prefers-reduced-motion` pattern. ([web.dev][5])
Tap target guidance aligns with 48dp recommendations. ([web.dev][6])

---

### H3. Starter View Transition boilerplate (SPA)

```js
// viewTransitions.js
export function withViewTransition(updateDomFn, { types = [] } = {}) {
  // Progressive enhancement
  if (!document.startViewTransition) {
    updateDomFn();
    return Promise.resolve();
  }

  const vt = document.startViewTransition(() => {
    updateDomFn();
  });

  // Optional: tag transition types for CSS targeting if you use them
  try {
    types.forEach(t => vt.types?.add?.(t));
  } catch {}

  return vt.finished;
}
```

This matches the core triggering model for same-document transitions. ([MDN Web Docs][14])

---

### H4. Starter View Transition boilerplate (MPA)

```css
/* On BOTH pages (same-origin) */
@view-transition {
  navigation: auto;
}

/* Simple vertical slide */
::view-transition-old(root) {
  animation: var(--dur-page) var(--ease-accel) both vt-out;
}

::view-transition-new(root) {
  animation: var(--dur-page) var(--ease-decel) both vt-in;
}

@keyframes vt-out { to { transform: translateY(-8%); opacity: 0; } }
@keyframes vt-in  { from { transform: translateY(8%); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
```

Cross-document opt-in and `navigation: auto` are explicitly required. ([MDN Web Docs][12])

---

### H5. Shared element transition example (day tile → header)

```css
/* Day tile in calendar list */
.day-tile[data-day="2026-01-28"] {
  view-transition-name: day-2026-01-28;
}

/* Workout header on the destination view */
.workout-header[data-day="2026-01-28"] {
  view-transition-name: day-2026-01-28;
}

/* Optional polish */
::view-transition-old(day-2026-01-28),
::view-transition-new(day-2026-01-28) {
  border-radius: var(--r-lg);
}
```

Rules about `view-transition-name`, pseudo-elements, and uniqueness come directly from MDN. ([MDN Web Docs][16])

---

### H6. Progress ring animation (SVG, composite-friendly)

```html
<svg class="ring" viewBox="0 0 120 120" aria-label="Weekly progress">
  <circle class="ring__track" cx="60" cy="60" r="48" />
  <circle class="ring__bar" cx="60" cy="60" r="48" />
</svg>
```

```css
.ring { width: 120px; height: 120px; }
.ring__track {
  fill: none;
  stroke: rgba(255,255,255,0.12);
  stroke-width: 12;
}
.ring__bar {
  fill: none;
  stroke: var(--primary);
  stroke-width: 12;
  stroke-linecap: round;

  /* circumference = 2πr ≈ 301.6 */
  stroke-dasharray: 302;
  stroke-dashoffset: calc(302 * (1 - var(--p, 0)));

  transition: stroke-dashoffset 700ms var(--ease-standard);
}

@media (prefers-reduced-motion: reduce) {
  .ring__bar { transition: none; }
}
```

If you need extra performance for large lists of these, isolate and skip offscreen rendering with `content-visibility` on the list container. ([web.dev][20])

---

## Do / Don’t Checklist (implementation agents)

**Do**

* Use tokens everywhere (CSS variables). ([MDN Web Docs][23])
* Use container queries for component adaptability. ([MDN Web Docs][8])
* Use `transform` and `opacity` for motion; profile before using `will-change`. ([web.dev][17])
* Wrap SPA route swaps in `document.startViewTransition` with fallback. ([Chrome for Developers][13])
* Ensure unique `view-transition-name` values. ([MDN Web Docs][16])
* Respect `prefers-reduced-motion` and offer an in-app toggle. ([web.dev][5])
* Keep tap targets at least ~48dp. ([web.dev][6])

**Don’t**

* Don’t animate layout properties unless unavoidable. ([web.dev][17])
* Don’t use view transitions for high-frequency micro-actions.
* Don’t create auto-moving UI without user control. ([W3C][18])
* Don’t remove focus indicators; use `:focus-visible`. ([MDN Web Docs][11])
```

/Users/pavelkulikou/Projects/my-gym/gym-app/docs/zustand.md
```
# 🐻 SYSTEM PROMPT: Zustand v5 Expert for Next.js (App Router, React 19, Local-First + Future Sync, 2026)

You are an expert React state-management assistant specialized in **Zustand v5.x (including 5.0.10)** used inside **Next.js App Router** with **React 19** for a **local-first** app that may sync to cloud later.

Your job is to produce **production-grade, Next.js-correct** guidance and code. You must prioritize:

* React 18/19 concurrency safety
* Next.js App Router + Server Components constraints
* Selector stability and rerender control (Zustand v5 rules)
* Persistence + hydration correctness (local-first)
* Clean migration away from legacy Zustand v4 patterns
* Long-term scalability for “future cloud sync” (outbox/event log patterns)

If the user’s project currently mixes old and new patterns (example: legacy `gym` store plus new stores), you must recommend **finishing migration** to a single architecture.

---

## 0) Default Assumptions (Unless User Overrides)

* Next.js App Router (Server Components by default)
* React 19
* TypeScript
* Zustand v5 target
* Modern ESM tooling
* Local-first persistence (IndexedDB or similar)
* Future cloud sync via outbox/events
* The user wants minimal rerenders, stable hydration, clear store boundaries, and maintainable growth

---

## 1) Golden Rule: Next.js Server vs Client Boundaries

### 1.1 Never use Zustand hooks in Server Components

* Server Components cannot use client hooks.
* Any component using Zustand hooks must be a **Client Component** (`"use client"`).

✅ Correct:

* Zustand hooks only in Client Components.

🚫 Avoid:

* Importing and using `useStore(...)` in a Server Component.
* Creating module-singleton stores that can leak across server requests.

### 1.2 SSR determinism rule (prevents hydration mismatch)

Anything that depends on `window`, `document`, `matchMedia`, feature detection, time, randomness, storage, or hydration status must NOT change SSR HTML vs first client render.

✅ Correct:

* Render SSR-stable defaults.
* Compute runtime capability flags in `useEffect` and then update state/attributes.
* Use CSS media queries for reduced motion when possible.

🚫 Avoid:

* `typeof document !== "undefined"` feature checks during render that change markup/attributes (e.g. flipping `data-vt`).

---

## 2) Recommended State Architecture for This Project (Local-First + Scalable)

### 2.1 Use multiple stores by responsibility (not one mega store)

Default store split:

1. **settingsStore** (tiny, persisted)

* units/theme/preferences
* schema version + migrate
* hydration flag

2. **catalogStore** (persisted reference data)

* exercises, programs/templates
* hydration flag
* stable, low volatility

3. **sessionStore** (high volatility workout session)

* current active workout session
* normalized entities (see below)
* optional persisted snapshot for crash recovery
* actions must be deterministic and efficient

4. **uiStore** (ephemeral UI only)

* dialogs/sheets/snackbars/navigation UI state
* NEVER persisted
* NEVER contains callbacks/functions (use commands)

If the project still has a legacy monolithic store (example: `gym`), you must recommend removing it once migrated to the split architecture.

---

## 3) Zustand v5 Core Rules (Non-Negotiable)

### 3.1 Selector outputs must be stable

Returning fresh arrays/objects/functions from selectors can cause rerender storms or infinite loops.

✅ Prefer atomic selectors:

```ts
const count = useStore(s => s.count)
const inc = useStore(s => s.inc)
```

🚫 Avoid unstable selectors:

```ts
useStore(s => [s.count, s.inc])          // unstable without shallow
useStore(s => ({ count: s.count }))      // object ref changes each time
useStore(s => s.action ?? (() => {}))    // creates new function
```

### 3.2 Use `useShallow` for tuples/objects

If selecting multiple values, stabilize.

✅ Correct:

```ts
import { useShallow } from "zustand/shallow"

const { workout, settings, startWorkout } = useSessionStore(
  useShallow(s => ({
    workout: s.workoutsById[s.activeWorkoutId!],
    settings: s.settings,
    startWorkout: s.startWorkout,
  }))
)
```

### 3.3 Reduce subscriptions in hot components

For pages like a workout runner:

* Prefer **1 data subscription + 1 actions subscription** (both shallow)
* Avoid 10–20 separate `useStore` calls

---

## 4) Custom Equality Rules

### 4.1 Custom equality belongs in `zustand/traditional` only when necessary

Do not recommend custom equality in v5 `create` usage.

✅ Use when needed:

```ts
import { createWithEqualityFn } from "zustand/traditional"
import { shallow } from "zustand/shallow"

const useStore = createWithEqualityFn(fn, shallow)
```

Default recommendation remains `useShallow` + good selectors.

---

## 5) Persistence & Hydration (Local-First)

### 5.1 Persistence is client-only by default

* Any storage API is client-only.
* Hydration must be centralized and deterministic.

### 5.2 Every persisted store must have hydration state

Persisted stores must include:

* `hasHydrated: boolean`
* `hydrate(): Promise<void>` (idempotent)

UI must avoid assuming persisted values are present until hydrated.

### 5.3 Centralize hydration in one place

* Hydrate in a single top-level client boundary (provider/gate), not in multiple components.
* This aligns with v5.0.10’s “avoid concurrent rehydrate collisions” principle.

### 5.4 Persist schema hygiene

Always recommend:

* minimal persistence (`partialize` or explicit snapshot structure)
* `version` + `migrate`
* avoid persisting UI state

---

## 6) Local-First Now, Cloud Sync Later

### 6.1 Introduce an Outbox (event queue)

For future sync:

* write domain changes to local state
* enqueue a `SyncEvent` in an outbox
* a sync worker can later upload events and mark them synced

### 6.2 Commands, not callbacks

Never store functions in Zustand state (especially UI store).
Instead store a serializable command descriptor:

```ts
type Command =
  | { type: "DELETE_SET"; workoutId: string; entryId: string; setId: string }
  | { type: "FINISH_WORKOUT"; workoutId: string }
```

UI confirms then executes via a centralized executor.

---

## 7) Session Store Data Model (Must Scale)

### 7.1 Normalize session entities

Prefer:

* `activeWorkoutId`
* `workoutsById`, `entriesById`, `setsById`
* `entryIdsByWorkoutId`, `setIdsByEntryId`

Avoid deep nested mutation of arrays of objects of arrays.

### 7.2 Derived view models should be cheap

Avoid `.filter().sort()` in selectors for frequently-rendered components unless the list is guaranteed tiny.
Prefer storing IDs like `activeWorkoutId` and using direct lookup.

---

## 8) Performance & Rerender Discipline

### 8.1 Separate render data from actions

* Actions should be stable and selected cleanly
* Data selection should be minimal and shallow-stable

### 8.2 Name actions (debuggability)

When using `set`, name actions:

```ts
set(partial, false, "session/addSet")
```

### 8.3 Avoid side-effect spam in actions

For scalability:

* don’t write to IndexedDB on every micro-action without batching/debouncing
* prefer a commit pipeline or debounced persistence subscription for high-frequency session edits

---

## 9) TypeScript Best Practices

* Type state and actions explicitly.
* Avoid `replace=true` unless you provide complete state shape.
* Ensure persisted state is serializable.

---

## 10) Migration Rules (v4 → v5 and legacy cleanup)

When upgrading or reviewing code:

* Audit selector stability and refactor to `useShallow`.
* Move custom equality to `zustand/traditional` only if required.
* Ensure hydration gate exists and prevents SSR mismatch.
* Finish migration away from legacy monolithic stores (avoid dual architecture).

---

## 11) Strict Avoid List (Project-Relevant)

🚫 Avoid (unless explicitly requested):

* Zustand hooks in Server Components (missing `"use client"`)
* Feature detection or matchMedia used during render to produce SSR-visible attribute differences
* Unstable selector outputs without `useShallow`
* Persisting UI store or storing callbacks in store state
* Multiple components triggering hydration/rehydration
* Deeply nested session state updates without normalization
* Unbatched persistence for high-frequency edits

---

## 12) Response Format Requirements

When responding to a Zustand question, always provide:

1. Best practice recommendation (v5 + Next.js correct)
2. Why it matters (concurrency + hydration + scaling)
3. Safe code example (TypeScript-first)
4. Pitfalls to avoid (explicit don’ts)
5. If relevant: Next.js App Router client/server note
6. If relevant: local-first + outbox/sync note

---

## End Goal

Help the user ship a Next.js gym app with Zustand that is:

* hydration-safe (SSR deterministic)
* concurrency-safe (React 19 friendly)
* rerender-efficient (stable selectors + shallow)
* local-first robust (persisted where appropriate)
* future-sync ready (outbox/events)
* maintainable as the app grows (split stores + normalized session)
```

/Users/pavelkulikou/Projects/my-gym/gym-app/eslint.config.mjs
```
import { defineConfig, globalIgnores } from "eslint/config";
import nextVitals from "eslint-config-next/core-web-vitals";
import nextTs from "eslint-config-next/typescript";

const eslintConfig = defineConfig([
  ...nextVitals,
  ...nextTs,
  // Override default ignores of eslint-config-next.
  globalIgnores([
    // Default ignores of eslint-config-next:
    ".next/**",
    "out/**",
    "build/**",
    "next-env.d.ts",
  ]),
]);

export default eslintConfig;
```

/Users/pavelkulikou/Projects/my-gym/gym-app/next-env.d.ts
```
/// <reference types="next" />
/// <reference types="next/image-types/global" />
import "./.next/dev/types/routes.d.ts";

// NOTE: This file should not be edited
// see https://nextjs.org/docs/app/api-reference/config/typescript for more information.
```

/Users/pavelkulikou/Projects/my-gym/gym-app/next.config.ts
```
import type { NextConfig } from "next";

const nextConfig: NextConfig = {
  /* config options here */
};

export default nextConfig;
```

/Users/pavelkulikou/Projects/my-gym/gym-app/package.json
```
{
  "name": "gym-app",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "eslint",
    "test": "vitest"
  },
  "dependencies": {
    "next": "16.1.5",
    "react": "19.2.3",
    "react-dom": "19.2.3",
    "zustand": "^5.0.10"
  },
  "devDependencies": {
    "@types/node": "^20",
    "@types/react": "^19",
    "@types/react-dom": "^19",
    "eslint": "^9",
    "eslint-config-next": "16.1.5",
    "typescript": "^5",
    "vitest": "^4.0.18"
  },
  "ignoreScripts": [
    "sharp",
    "unrs-resolver"
  ],
  "trustedDependencies": [
    "sharp",
    "unrs-resolver"
  ]
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/public/file.svg
```
<svg fill="none" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M14.5 13.5V5.41a1 1 0 0 0-.3-.7L9.8.29A1 1 0 0 0 9.08 0H1.5v13.5A2.5 2.5 0 0 0 4 16h8a2.5 2.5 0 0 0 2.5-2.5m-1.5 0v-7H8v-5H3v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1M9.5 5V2.12L12.38 5zM5.13 5h-.62v1.25h2.12V5zm-.62 3h7.12v1.25H4.5zm.62 3h-.62v1.25h7.12V11z" clip-rule="evenodd" fill="#666" fill-rule="evenodd"/></svg>
```

/Users/pavelkulikou/Projects/my-gym/gym-app/public/globe.svg
```
<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.27 14.1a6.5 6.5 0 0 0 3.67-3.45q-1.24.21-2.7.34-.31 1.83-.97 3.1M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m.48-1.52a7 7 0 0 1-.96 0H7.5a4 4 0 0 1-.84-1.32q-.38-.89-.63-2.08a40 40 0 0 0 3.92 0q-.25 1.2-.63 2.08a4 4 0 0 1-.84 1.31zm2.94-4.76q1.66-.15 2.95-.43a7 7 0 0 0 0-2.58q-1.3-.27-2.95-.43a18 18 0 0 1 0 3.44m-1.27-3.54a17 17 0 0 1 0 3.64 39 39 0 0 1-4.3 0 17 17 0 0 1 0-3.64 39 39 0 0 1 4.3 0m1.1-1.17q1.45.13 2.69.34a6.5 6.5 0 0 0-3.67-3.44q.65 1.26.98 3.1M8.48 1.5l.01.02q.41.37.84 1.31.38.89.63 2.08a40 40 0 0 0-3.92 0q.25-1.2.63-2.08a4 4 0 0 1 .85-1.32 7 7 0 0 1 .96 0m-2.75.4a6.5 6.5 0 0 0-3.67 3.44 29 29 0 0 1 2.7-.34q.31-1.83.97-3.1M4.58 6.28q-1.66.16-2.95.43a7 7 0 0 0 0 2.58q1.3.27 2.95.43a18 18 0 0 1 0-3.44m.17 4.71q-1.45-.12-2.69-.34a6.5 6.5 0 0 0 3.67 3.44q-.65-1.27-.98-3.1" fill="#666"/></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h16v16H0z"/></clipPath></defs></svg>
```

/Users/pavelkulikou/Projects/my-gym/gym-app/public/next.svg
```
<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 394 80"><path fill="#000" d="M262 0h68.5v12.7h-27.2v66.6h-13.6V12.7H262V0ZM149 0v12.7H94v20.4h44.3v12.6H94v21h55v12.6H80.5V0h68.7zm34.3 0h-17.8l63.8 79.4h17.9l-32-39.7 32-39.6h-17.9l-23 28.6-23-28.6zm18.3 56.7-9-11-27.1 33.7h17.8l18.3-22.7z"/><path fill="#000" d="M81 79.3 17 0H0v79.3h13.6V17l50.2 62.3H81Zm252.6-.4c-1 0-1.8-.4-2.5-1s-1.1-1.6-1.1-2.6.3-1.8 1-2.5 1.6-1 2.6-1 1.8.3 2.5 1a3.4 3.4 0 0 1 .6 4.3 3.7 3.7 0 0 1-3 1.8zm23.2-33.5h6v23.3c0 2.1-.4 4-1.3 5.5a9.1 9.1 0 0 1-3.8 3.5c-1.6.8-3.5 1.3-5.7 1.3-2 0-3.7-.4-5.3-1s-2.8-1.8-3.7-3.2c-.9-1.3-1.4-3-1.4-5h6c.1.8.3 1.6.7 2.2s1 1.2 1.6 1.5c.7.4 1.5.5 2.4.5 1 0 1.8-.2 2.4-.6a4 4 0 0 0 1.6-1.8c.3-.8.5-1.8.5-3V45.5zm30.9 9.1a4.4 4.4 0 0 0-2-3.3 7.5 7.5 0 0 0-4.3-1.1c-1.3 0-2.4.2-3.3.5-.9.4-1.6 1-2 1.6a3.5 3.5 0 0 0-.3 4c.3.5.7.9 1.3 1.2l1.8 1 2 .5 3.2.8c1.3.3 2.5.7 3.7 1.2a13 13 0 0 1 3.2 1.8 8.1 8.1 0 0 1 3 6.5c0 2-.5 3.7-1.5 5.1a10 10 0 0 1-4.4 3.5c-1.8.8-4.1 1.2-6.8 1.2-2.6 0-4.9-.4-6.8-1.2-2-.8-3.4-2-4.5-3.5a10 10 0 0 1-1.7-5.6h6a5 5 0 0 0 3.5 4.6c1 .4 2.2.6 3.4.6 1.3 0 2.5-.2 3.5-.6 1-.4 1.8-1 2.4-1.7a4 4 0 0 0 .8-2.4c0-.9-.2-1.6-.7-2.2a11 11 0 0 0-2.1-1.4l-3.2-1-3.8-1c-2.8-.7-5-1.7-6.6-3.2a7.2 7.2 0 0 1-2.4-5.7 8 8 0 0 1 1.7-5 10 10 0 0 1 4.3-3.5c2-.8 4-1.2 6.4-1.2 2.3 0 4.4.4 6.2 1.2 1.8.8 3.2 2 4.3 3.4 1 1.4 1.5 3 1.5 5h-5.8z"/></svg>
```

/Users/pavelkulikou/Projects/my-gym/gym-app/public/sw.js
```
const CACHE_NAME = "gym-runner-shell-v1";
const CORE_ASSETS = ["/", "/offline", "/manifest.webmanifest", "/icon-192.png", "/icon-512.png"]; 

self.addEventListener("install", (event) => {
  event.waitUntil(
    caches.open(CACHE_NAME).then((cache) => {
      return cache.addAll(CORE_ASSETS);
    })
  );
  self.skipWaiting();
});

self.addEventListener("activate", (event) => {
  event.waitUntil(
    caches.keys().then((keys) =>
      Promise.all(keys.filter((key) => key !== CACHE_NAME).map((key) => caches.delete(key)))
    )
  );
  self.clients.claim();
});

self.addEventListener("fetch", (event) => {
  if (event.request.method !== "GET") return;

  if (event.request.mode === "navigate") {
    event.respondWith(
      fetch(event.request)
        .then((response) => {
          const copy = response.clone();
          caches.open(CACHE_NAME).then((cache) => cache.put(event.request, copy));
          return response;
        })
        .catch(() =>
          caches.match(event.request).then((response) => response || caches.match("/offline"))
        )
    );
    return;
  }

  event.respondWith(
    caches.match(event.request).then((cached) => {
      if (cached) return cached;
      return fetch(event.request).then((response) => {
        const copy = response.clone();
        caches.open(CACHE_NAME).then((cache) => cache.put(event.request, copy));
        return response;
      });
    })
  );
});
```

/Users/pavelkulikou/Projects/my-gym/gym-app/public/vercel.svg
```
<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1155 1000"><path d="m577.3 0 577.4 1000H0z" fill="#fff"/></svg>
```

/Users/pavelkulikou/Projects/my-gym/gym-app/public/window.svg
```
<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.5 2.5h13v10a1 1 0 0 1-1 1h-11a1 1 0 0 1-1-1zM0 1h16v11.5a2.5 2.5 0 0 1-2.5 2.5h-11A2.5 2.5 0 0 1 0 12.5zm3.75 4.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5M7 4.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0m1.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5" fill="#666"/></svg>
```

/Users/pavelkulikou/Projects/my-gym/gym-app/storage/adapter.ts
```
import type { Exercise, Program, Settings, Workout } from "../types/gym";
import type { SessionEntityState } from "../types/session";
import { clearStore, deleteById, getAll, getById, put } from "./indexeddb";

export type VersionedRecord<T> = {
  id: string;
  schemaVersion: number;
  value: T;
  updatedAt?: number;
};

export type SettingsRecord = VersionedRecord<Settings>;
export type SessionRecord = VersionedRecord<SessionEntityState>;

export type MetaRecord = {
  id: string;
  value: {
    schemaVersion: number;
    updatedAt?: number;
  };
};

export type KeyValueRecord = {
  id: string;
  value: unknown;
};

export type StorageAdapter = {
  getSettings: () => Promise<SettingsRecord | null>;
  setSettings: (record: SettingsRecord) => Promise<void>;
  getItem: <T = unknown>(key: string) => Promise<T | null>;
  setItem: (key: string, value: unknown) => Promise<void>;
  removeItem: (key: string) => Promise<void>;
  getPrograms: () => Promise<Program[]>;
  getExercises: () => Promise<Exercise[]>;
  putProgram: (program: Program) => Promise<void>;
  putExercise: (exercise: Exercise) => Promise<void>;
  deleteProgram: (id: string) => Promise<void>;
  deleteExercise: (id: string) => Promise<void>;
  clearPrograms: () => Promise<void>;
  clearExercises: () => Promise<void>;
  getSessionSnapshot: () => Promise<SessionRecord | null>;
  setSessionSnapshot: (record: SessionRecord) => Promise<void>;
  clearSessionSnapshot: () => Promise<void>;
  getLegacyWorkouts: () => Promise<Workout[]>;
  putLegacyWorkout: (workout: Workout) => Promise<void>;
  clearLegacyWorkouts: () => Promise<void>;
  getMeta: (id: string) => Promise<MetaRecord | null>;
  setMeta: (record: MetaRecord) => Promise<void>;
};

const guard = async <T>(fallback: T, action: () => Promise<T>): Promise<T> => {
  if (typeof window === "undefined") return fallback;
  try {
    return await action();
  } catch {
    return fallback;
  }
};

export const indexedDbStorage: StorageAdapter = {
  getSettings: () =>
    guard<SettingsRecord | null>(null, async () => (await getById<SettingsRecord>("settings", "settings")) ?? null),
  setSettings: (record) => guard(undefined, () => put("settings", record)),
  getItem: <T = unknown>(key: string) =>
    guard<T | null>(null, async () => {
      const record = await getById<KeyValueRecord>("meta", key);
      return (record?.value as T) ?? null;
    }),
  setItem: (key, value) => guard(undefined, () => put("meta", { id: key, value })),
  removeItem: (key) => guard(undefined, () => deleteById("meta", key)),
  getPrograms: () => guard<Program[]>([], () => getAll<Program>("programs")),
  getExercises: () => guard<Exercise[]>([], () => getAll<Exercise>("exercises")),
  putProgram: (program) => guard(undefined, () => put("programs", program)),
  putExercise: (exercise) => guard(undefined, () => put("exercises", exercise)),
  deleteProgram: (id) => guard(undefined, () => deleteById("programs", id)),
  deleteExercise: (id) => guard(undefined, () => deleteById("exercises", id)),
  clearPrograms: () => guard(undefined, () => clearStore("programs")),
  clearExercises: () => guard(undefined, () => clearStore("exercises")),
  getSessionSnapshot: () =>
    guard<SessionRecord | null>(null, async () => (await getById<SessionRecord>("session", "session")) ?? null),
  setSessionSnapshot: (record) => guard(undefined, () => put("session", record)),
  clearSessionSnapshot: () => guard(undefined, () => clearStore("session")),
  getLegacyWorkouts: () => guard<Workout[]>([], () => getAll<Workout>("workouts")),
  putLegacyWorkout: (workout) => guard(undefined, () => put("workouts", workout)),
  clearLegacyWorkouts: () => guard(undefined, () => clearStore("workouts")),
  getMeta: (id) =>
    guard<MetaRecord | null>(null, async () => (await getById<MetaRecord>("meta", id)) ?? null),
  setMeta: (record) => guard(undefined, () => put("meta", record)),
};
```

/Users/pavelkulikou/Projects/my-gym/gym-app/storage/indexeddb.ts
```
const DB_NAME = "gym-tracker";
const DB_VERSION = 2;

export type StoreName = "programs" | "exercises" | "workouts" | "settings" | "meta" | "session";

let dbPromise: Promise<IDBDatabase> | null = null;

const openDb = () => {
  if (dbPromise) return dbPromise;
  dbPromise = new Promise((resolve, reject) => {
    if (typeof window === "undefined") {
      reject(new Error("IndexedDB is not available on the server."));
      return;
    }
    const request = indexedDB.open(DB_NAME, DB_VERSION);
    request.onerror = () => reject(request.error);
    request.onupgradeneeded = () => {
      const db = request.result;
      if (!db.objectStoreNames.contains("programs")) {
        db.createObjectStore("programs", { keyPath: "id" });
      }
      if (!db.objectStoreNames.contains("exercises")) {
        db.createObjectStore("exercises", { keyPath: "id" });
      }
      if (!db.objectStoreNames.contains("workouts")) {
        db.createObjectStore("workouts", { keyPath: "id" });
      }
      if (!db.objectStoreNames.contains("settings")) {
        db.createObjectStore("settings", { keyPath: "id" });
      }
      if (!db.objectStoreNames.contains("meta")) {
        db.createObjectStore("meta", { keyPath: "id" });
      }
      if (!db.objectStoreNames.contains("session")) {
        db.createObjectStore("session", { keyPath: "id" });
      }
    };
    request.onsuccess = () => resolve(request.result);
  });
  return dbPromise;
};

const withStore = async <T>(
  storeName: StoreName,
  mode: IDBTransactionMode,
  action: (store: IDBObjectStore) => IDBRequest<T>
) => {
  const db = await openDb();
  return new Promise<T>((resolve, reject) => {
    const tx = db.transaction(storeName, mode);
    const store = tx.objectStore(storeName);
    const request = action(store);
    request.onsuccess = () => resolve(request.result);
    request.onerror = () => reject(request.error);
  });
};

export const getAll = async <T>(storeName: StoreName): Promise<T[]> => {
  return withStore(storeName, "readonly", (store) => store.getAll());
};

export const getById = async <T>(storeName: StoreName, id: string): Promise<T | undefined> => {
  return withStore(storeName, "readonly", (store) => store.get(id));
};

export const put = async <T extends { id: string }>(storeName: StoreName, value: T): Promise<void> => {
  await withStore(storeName, "readwrite", (store) => store.put(value));
};

export const deleteById = async (storeName: StoreName, id: string): Promise<void> => {
  await withStore(storeName, "readwrite", (store) => store.delete(id));
};

export const clearStore = async (storeName: StoreName): Promise<void> => {
  await withStore(storeName, "readwrite", (store) => store.clear());
};
```

/Users/pavelkulikou/Projects/my-gym/gym-app/storage/memory.ts
```
import type { Exercise, Program, Workout } from "../types/gym";
import type { SessionEntityState } from "../types/session";
import type { MetaRecord, SettingsRecord, SessionRecord, StorageAdapter } from "./adapter";

export const createMemoryStorage = (): StorageAdapter => {
  let settings: SettingsRecord | null = null;
  let session: SessionRecord | null = null;
  const programs = new Map<string, Program>();
  const exercises = new Map<string, Exercise>();
  const workouts = new Map<string, Workout>();
  const meta = new Map<string, MetaRecord>();
  const kv = new Map<string, unknown>();

  return {
    getSettings: async () => settings,
    setSettings: async (record) => {
      settings = record;
    },
    getItem: async <T = unknown>(key: string) => {
      return (kv.get(key) as T | undefined) ?? null;
    },
    setItem: async (key, value) => {
      kv.set(key, value);
    },
    removeItem: async (key) => {
      kv.delete(key);
    },
    getPrograms: async () => Array.from(programs.values()),
    getExercises: async () => Array.from(exercises.values()),
    putProgram: async (program) => {
      programs.set(program.id, program);
    },
    putExercise: async (exercise) => {
      exercises.set(exercise.id, exercise);
    },
    deleteProgram: async (id) => {
      programs.delete(id);
    },
    deleteExercise: async (id) => {
      exercises.delete(id);
    },
    clearPrograms: async () => {
      programs.clear();
    },
    clearExercises: async () => {
      exercises.clear();
    },
    getSessionSnapshot: async () => session,
    setSessionSnapshot: async (record) => {
      session = record as SessionRecord;
    },
    clearSessionSnapshot: async () => {
      session = null;
    },
    getLegacyWorkouts: async () => Array.from(workouts.values()),
    putLegacyWorkout: async (workout) => {
      workouts.set(workout.id, workout);
    },
    clearLegacyWorkouts: async () => {
      workouts.clear();
    },
    getMeta: async (id) => meta.get(id) ?? null,
    setMeta: async (record) => {
      meta.set(record.id, record);
    },
  };
};

export const seedMemorySession = (storage: StorageAdapter, state: SessionEntityState) => {
  return storage.setSessionSnapshot({
    id: "session",
    schemaVersion: 1,
    value: state,
    updatedAt: Date.now(),
  });
};
```

/Users/pavelkulikou/Projects/my-gym/gym-app/store/AppStoreProvider.tsx
```
/* eslint-disable react-hooks/refs */
"use client";

import { createContext, useEffect, useRef, type ReactNode } from "react";
import { createCatalogStore } from "./catalogStore/index";
import { createSessionStore } from "./sessionStore/index";
import { createSettingsStore } from "./settingsStore";
import { createUiStore } from "./uiStore";
import { defaultSettings } from "../app/shared/lib/seed";
import { indexedDbStorage } from "../storage/adapter";
import { attachStoreSubscriptions } from "./storeSubscriptions";
import { attachOutboxPersistence, hydrateOutbox } from "../sync/outbox";

export type SettingsStore = ReturnType<typeof createSettingsStore>;
export type CatalogStore = ReturnType<typeof createCatalogStore>;
export type SessionStore = ReturnType<typeof createSessionStore>;
export type UiStore = ReturnType<typeof createUiStore>;

export const SettingsStoreContext = createContext<SettingsStore | null>(null);
export const CatalogStoreContext = createContext<CatalogStore | null>(null);
export const SessionStoreContext = createContext<SessionStore | null>(null);
export const UiStoreContext = createContext<UiStore | null>(null);

export default function AppStoreProvider({ children }: { children: ReactNode }) {
  const settingsRef = useRef<SettingsStore | null>(null);
  const catalogRef = useRef<CatalogStore | null>(null);
  const sessionRef = useRef<SessionStore | null>(null);
  const uiRef = useRef<UiStore | null>(null);

  if (!settingsRef.current) {
    settingsRef.current = createSettingsStore(indexedDbStorage);
  }
  if (!catalogRef.current) {
    catalogRef.current = createCatalogStore(indexedDbStorage);
  }
  if (!sessionRef.current) {
    sessionRef.current = createSessionStore({
      storage: indexedDbStorage,
      getSettings: () => settingsRef.current?.getState().settings ?? defaultSettings,
      getCatalog: () => ({
        programs: catalogRef.current?.getState().programs ?? [],
        exercises: catalogRef.current?.getState().exercises ?? [],
      }),
    });
  }
  if (!uiRef.current) {
    uiRef.current = createUiStore();
  }

  const settingsStore = settingsRef.current;
  const catalogStore = catalogRef.current;
  const sessionStore = sessionRef.current;

  useEffect(() => {
    if (!settingsStore || !catalogStore || !sessionStore) return;

    const unsubscribe = attachStoreSubscriptions({
      settingsStore,
      catalogStore,
      sessionStore,
      storage: indexedDbStorage,
    });
    const unsubscribeOutbox = attachOutboxPersistence(indexedDbStorage);

    void hydrateOutbox(indexedDbStorage);
    void settingsStore.getState().hydrate();
    void catalogStore.getState().hydrate();
    void sessionStore.getState().hydrate();

    return () => {
      unsubscribe();
      unsubscribeOutbox();
    };
  }, [settingsStore, catalogStore, sessionStore]);

  return (
    <SettingsStoreContext.Provider value={settingsRef.current}>
      <CatalogStoreContext.Provider value={catalogRef.current}>
        <SessionStoreContext.Provider value={sessionRef.current}>
          <UiStoreContext.Provider value={uiRef.current}>{children}</UiStoreContext.Provider>
        </SessionStoreContext.Provider>
      </CatalogStoreContext.Provider>
    </SettingsStoreContext.Provider>
  );
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/store/__tests__/sessionStore.test.ts
```
import { describe, expect, it } from "vitest";
import { createCatalogStore } from "../catalogStore";
import { createSessionStore } from "../sessionStore";
import { createSettingsStore } from "../settingsStore";
import { createMemoryStorage } from "../../storage/memory";
import type { Workout } from "../../types/gym";

const setupStores = () => {
  const storage = createMemoryStorage();
  const settingsStore = createSettingsStore(storage);
  const catalogStore = createCatalogStore(storage);

  settingsStore.getState().replaceSettings({ unitsPreference: "kg", defaultBarWeight: 20 });
  catalogStore.getState().replaceCatalog(
    [{ id: "program-1", name: "Test Program", exerciseIds: ["exercise-1"] }],
    [{ id: "exercise-1", name: "Squat", type: "Barbell", defaultInputMode: "plates" }]
  );

  const sessionStore = createSessionStore({
    storage,
    getSettings: () => settingsStore.getState().settings,
    getCatalog: () => ({
      programs: catalogStore.getState().programs,
      exercises: catalogStore.getState().exercises,
    }),
  });

  return { storage, settingsStore, catalogStore, sessionStore };
};

describe("sessionStore", () => {
  it("startWorkout creates active workout with default set", () => {
    const { sessionStore } = setupStores();

    const workoutId = sessionStore.getState().startWorkout("program-1");
    const state = sessionStore.getState();

    expect(state.activeWorkoutId).toBe(workoutId);
    expect(state.workoutsById[workoutId]).toBeTruthy();

    const entryIds = state.entryIdsByWorkoutId[workoutId];
    expect(entryIds).toHaveLength(1);

    const setIds = state.setIdsByEntryId[entryIds[0]];
    expect(setIds).toHaveLength(1);

    const setEntry = state.setsById[setIds[0]];
    expect(setEntry.weightKg).toBe(20);
  });

  it("addSet, deleteSet, restoreDeletedSet", () => {
    const { sessionStore } = setupStores();
    const workoutId = sessionStore.getState().startWorkout("program-1");

    const newSetId = sessionStore.getState().addSet(workoutId, "exercise-1");
    let state = sessionStore.getState();

    const entryId = state.entryIdsByWorkoutId[workoutId][0];
    const setIds = state.setIdsByEntryId[entryId];
    expect(setIds).toHaveLength(2);
    expect(newSetId).toBe(setIds[1]);

    const targetSetId = setIds[0];
    const undoPayload = sessionStore.getState().deleteSet(workoutId, "exercise-1", targetSetId);
    state = sessionStore.getState();
    expect(state.setsById[targetSetId]).toBeUndefined();
    expect(undoPayload).not.toBeNull();

    if (undoPayload) {
      sessionStore.getState().restoreDeletedSet(undoPayload);
      state = sessionStore.getState();
      expect(state.setsById[targetSetId]).toBeTruthy();
    }
  });

  it("finishWorkout sets endedAt and clears activeWorkoutId", () => {
    const { sessionStore } = setupStores();
    const workoutId = sessionStore.getState().startWorkout("program-1");

    sessionStore.getState().finishWorkout(workoutId);
    const state = sessionStore.getState();

    expect(state.workoutsById[workoutId].endedAt).toBeTypeOf("number");
    expect(state.activeWorkoutId).toBeNull();
  });

  it("hydrate migrates legacy workouts and is idempotent", async () => {
    const storage = createMemoryStorage();
    const legacyWorkout: Workout = {
      id: "legacy-1",
      programId: "program-1",
      startedAt: Date.now(),
      entries: [
        {
          exerciseId: "exercise-1",
          suggested: false,
          sets: [
            { id: "set-1", weightKg: 60, reps: 5, mode: "total" },
          ],
        },
      ],
    };
    await storage.putLegacyWorkout(legacyWorkout);

    const settingsStore = createSettingsStore(storage);
    const catalogStore = createCatalogStore(storage);
    settingsStore.getState().replaceSettings({ unitsPreference: "kg", defaultBarWeight: 20 });
    catalogStore.getState().replaceCatalog(
      [{ id: "program-1", name: "Test Program", exerciseIds: ["exercise-1"] }],
      [{ id: "exercise-1", name: "Squat", type: "Barbell", defaultInputMode: "plates" }]
    );

    const sessionStore = createSessionStore({
      storage,
      getSettings: () => settingsStore.getState().settings,
      getCatalog: () => ({
        programs: catalogStore.getState().programs,
        exercises: catalogStore.getState().exercises,
      }),
    });

    await sessionStore.getState().hydrate();
    const firstHydration = sessionStore.getState();
    expect(firstHydration.workoutsById["legacy-1"]).toBeTruthy();
    expect(firstHydration.entryIdsByWorkoutId["legacy-1"]).toHaveLength(1);

    await sessionStore.getState().hydrate();
    const secondHydration = sessionStore.getState();
    expect(secondHydration.workoutIds).toEqual(firstHydration.workoutIds);
  });
});
```

/Users/pavelkulikou/Projects/my-gym/gym-app/store/appActions.ts
```
import type { GymExport } from "../types/gym";
import { defaultSettings, seedExercises, seedPrograms } from "../app/shared/lib/seed";
import type { CatalogStore, SessionStore, SettingsStore } from "./AppStoreProvider";
import { buildWorkoutsForExport } from "./selectors/sessionSelectors";

export type AppActionDeps = {
  settingsStore: SettingsStore;
  catalogStore: CatalogStore;
  sessionStore: SessionStore;
};

export const createAppActions = ({ settingsStore, catalogStore, sessionStore }: AppActionDeps) => {
  const exportData = async (): Promise<GymExport> => {
    const settings = settingsStore.getState().settings;
    const programs = catalogStore.getState().programs;
    const exercises = catalogStore.getState().exercises;
    const workouts = buildWorkoutsForExport(sessionStore.getState());
    return { programs, exercises, workouts, settings };
  };

  const importData = async (payload: GymExport): Promise<void> => {
    settingsStore.getState().replaceSettings(payload.settings);
    catalogStore.getState().replaceCatalog(payload.programs, payload.exercises);
    sessionStore.getState().replaceFromWorkouts(payload.workouts);
  };

  const resetAll = async (): Promise<void> => {
    const exercises = seedExercises();
    const programs = seedPrograms(exercises.map((exercise) => exercise.id));
    settingsStore.getState().replaceSettings(defaultSettings);
    catalogStore.getState().replaceCatalog(programs, exercises);
    sessionStore.getState().clearSession();
  };

  return { exportData, importData, resetAll };
};
```

/Users/pavelkulikou/Projects/my-gym/gym-app/store/catalogStore/index.ts
```
/**
 * Catalog store - manages programs and exercises.
 * Modular structure for better maintainability.
 */

import { createStore } from "zustand/vanilla";
import type { Exercise, InputMode, Program } from "../../types/gym";
import { createId } from "../../app/shared/lib/utils";
import { seedExercises, seedPrograms } from "../../app/shared/lib/seed";
import type { StorageAdapter } from "../../storage/adapter";
import { indexedDbStorage } from "../../storage/adapter";

export const CATALOG_SCHEMA_VERSION = 1;

const migrateCatalog = (
  programs: Program[],
  exercises: Exercise[],
  fromVersion: number
): { programs: Program[]; exercises: Exercise[] } => {
  if (fromVersion === CATALOG_SCHEMA_VERSION) return { programs, exercises };
  // Future migrations go here
  return { programs, exercises };
};

export type CatalogState = {
  schemaVersion: number;
  hasHydrated: boolean;
  lastHydratedAt?: number;
  programs: Program[];
  exercises: Exercise[];
  hydrate: () => Promise<void>;
  createProgram: () => string;
  updateProgram: (id: string, patch: Partial<Program>) => void;
  deleteProgram: (id: string) => void;
  reorderProgramExercise: (programId: string, fromId: string, toId: string) => void;
  moveProgramExercise: (programId: string, exerciseId: string, direction: "up" | "down") => void;
  addExerciseToProgram: (programId: string, exerciseId: string) => void;
  removeExerciseFromProgram: (programId: string, exerciseId: string) => void;
  createExercise: (name: string, type: Exercise["type"], mode: InputMode) => string;
  replaceCatalog: (programs: Program[], exercises: Exercise[]) => void;
};

export const createCatalogStore = (storage: StorageAdapter = indexedDbStorage) =>
  createStore<CatalogState>((set, get) => ({
    schemaVersion: CATALOG_SCHEMA_VERSION,
    hasHydrated: false,
    programs: [],
    exercises: [],
    lastHydratedAt: undefined,

    hydrate: async () => {
      if (get().hasHydrated) return;
      const [programs, exercises, meta] = await Promise.all([
        storage.getPrograms(),
        storage.getExercises(),
        storage.getMeta("catalog"),
      ]);
      const storedVersion = meta?.value.schemaVersion ?? 0;
      const migrated = migrateCatalog(programs, exercises, storedVersion);

      // Seed if empty
      if (migrated.programs.length === 0 || migrated.exercises.length === 0) {
        const seededExercises = seedExercises();
        const seededPrograms = seedPrograms(seededExercises.map((ex) => ex.id));
        set(
          {
            programs: seededPrograms,
            exercises: seededExercises,
            hasHydrated: true,
            lastHydratedAt: Date.now(),
          },
          false
        );
        return;
      }

      set(
        {
          programs: migrated.programs,
          exercises: migrated.exercises,
          hasHydrated: true,
          lastHydratedAt: Date.now(),
        },
        false
      );
    },

    // Program actions
    createProgram: () => {
      const id = createId();
      const program: Program = { id, name: "New Program", note: "", exerciseIds: [] };
      set((state) => ({ programs: [...state.programs, program] }), false);
      return id;
    },

    updateProgram: (id, patch) => {
      set(
        (state) => {
          const programs = state.programs.map((program) =>
            program.id === id ? { ...program, ...patch } : program
          );
          return { programs };
        },
        false
      );
    },

    deleteProgram: (id) => {
      set(
        (state) => ({
          programs: state.programs.filter((program) => program.id !== id),
        }),
        false
      );
    },

    reorderProgramExercise: (programId, fromId, toId) => {
      set(
        (state) => {
          const programs = state.programs.map((program) => {
            if (program.id !== programId) return program;
            const fromIndex = program.exerciseIds.indexOf(fromId);
            const toIndex = program.exerciseIds.indexOf(toId);
            if (fromIndex === -1 || toIndex === -1) return program;
            const exerciseIds = [...program.exerciseIds];
            exerciseIds.splice(fromIndex, 1);
            exerciseIds.splice(toIndex, 0, fromId);
            return { ...program, exerciseIds };
          });
          return { programs };
        },
        false
      );
    },

    moveProgramExercise: (programId, exerciseId, direction) => {
      set(
        (state) => {
          const programs = state.programs.map((program) => {
            if (program.id !== programId) return program;
            const index = program.exerciseIds.indexOf(exerciseId);
            if (index === -1) return program;
            const targetIndex = direction === "up" ? index - 1 : index + 1;
            if (targetIndex < 0 || targetIndex >= program.exerciseIds.length) return program;
            const exerciseIds = [...program.exerciseIds];
            [exerciseIds[index], exerciseIds[targetIndex]] = [
              exerciseIds[targetIndex],
              exerciseIds[index],
            ];
            return { ...program, exerciseIds };
          });
          return { programs };
        },
        false
      );
    },

    addExerciseToProgram: (programId, exerciseId) => {
      set(
        (state) => {
          const programs = state.programs.map((program) => {
            if (program.id !== programId) return program;
            if (program.exerciseIds.includes(exerciseId)) return program;
            return { ...program, exerciseIds: [...program.exerciseIds, exerciseId] };
          });
          return { programs };
        },
        false
      );
    },

    removeExerciseFromProgram: (programId, exerciseId) => {
      set(
        (state) => {
          const programs = state.programs.map((program) => {
            if (program.id !== programId) return program;
            return {
              ...program,
              exerciseIds: program.exerciseIds.filter((id) => id !== exerciseId),
            };
          });
          return { programs };
        },
        false
      );
    },

    // Exercise actions
    createExercise: (name, type, mode) => {
      const id = createId();
      const exercise: Exercise = { id, name, type, defaultInputMode: mode };
      set((state) => ({ exercises: [...state.exercises, exercise] }), false);
      return id;
    },

    replaceCatalog: (programs, exercises) => {
      set({ programs, exercises }, false);
    },
  }));
```

/Users/pavelkulikou/Projects/my-gym/gym-app/store/selectors/catalogSelectors.ts
```
import type { Exercise, Program } from "../../types/gym";
import type { CatalogState } from "../catalogStore";

export type CatalogMaps = {
  programById: Map<string, Program>;
  exerciseById: Map<string, Exercise>;
};

export const makeCatalogMapsSelector = () => {
  let lastPrograms: Program[] | undefined;
  let lastExercises: Exercise[] | undefined;
  let lastResult: CatalogMaps = {
    programById: new Map(),
    exerciseById: new Map(),
  };

  return (state: CatalogState): CatalogMaps => {
    if (state.programs === lastPrograms && state.exercises === lastExercises) {
      return lastResult;
    }

    lastPrograms = state.programs;
    lastExercises = state.exercises;
    lastResult = {
      programById: new Map(state.programs.map((program) => [program.id, program])),
      exerciseById: new Map(state.exercises.map((exercise) => [exercise.id, exercise])),
    };
    return lastResult;
  };
};
```

/Users/pavelkulikou/Projects/my-gym/gym-app/store/selectors/sessionSelectors.ts
```
import type { Workout, WorkoutEntry } from "../../types/gym";
import type { SessionState } from "../sessionStore";

export const selectActiveWorkoutId = (state: SessionState) => state.activeWorkoutId;

export const buildWorkoutFromState = (state: SessionState, workoutId: string): Workout | null => {
  const workout = state.workoutsById[workoutId];
  if (!workout) return null;
  const entryIds = state.entryIdsByWorkoutId[workoutId] ?? [];
  const entries: WorkoutEntry[] = entryIds
    .map((entryId) => {
      const entry = state.entriesById[entryId];
      if (!entry) return null;
      const setIds = state.setIdsByEntryId[entryId] ?? [];
      const sets = setIds
        .map((setId) => state.setsById[setId])
        .filter((set) => Boolean(set));
      return {
        exerciseId: entry.exerciseId,
        suggested: entry.suggested,
        sets,
      };
    })
    .filter((entry): entry is WorkoutEntry => Boolean(entry));
  return {
    id: workout.id,
    programId: workout.programId,
    startedAt: workout.startedAt,
    endedAt: workout.endedAt,
    entries,
  };
};

export const buildWorkoutsForExport = (state: SessionState): Workout[] => {
  return state.workoutIds
    .map((workoutId) => buildWorkoutFromState(state, workoutId))
    .filter((workout): workout is Workout => Boolean(workout));
};

export const makeWorkoutViewSelector = (workoutId: string) => {
  let lastWorkout = undefined as SessionState["workoutsById"][string] | undefined;
  let lastEntryIds: string[] | undefined;
  let lastEntriesById: SessionState["entriesById"] | undefined;
  let lastSetIdsByEntryId: SessionState["setIdsByEntryId"] | undefined;
  let lastSetsById: SessionState["setsById"] | undefined;
  let lastResult: Workout | null = null;

  return (state: SessionState) => {
    const workout = state.workoutsById[workoutId];
    if (!workout) return null;
    const entryIds = state.entryIdsByWorkoutId[workoutId] ?? [];

    if (
      workout === lastWorkout &&
      entryIds === lastEntryIds &&
      state.entriesById === lastEntriesById &&
      state.setIdsByEntryId === lastSetIdsByEntryId &&
      state.setsById === lastSetsById
    ) {
      return lastResult;
    }

    const next = buildWorkoutFromState(state, workoutId);
    lastWorkout = workout;
    lastEntryIds = entryIds;
    lastEntriesById = state.entriesById;
    lastSetIdsByEntryId = state.setIdsByEntryId;
    lastSetsById = state.setsById;
    lastResult = next;
    return next;
  };
};

export const getWorkoutStats = (workout: Workout | null) => {
  if (!workout) {
    return { totalSets: 0, totalVolume: 0, exerciseCount: 0 };
  }
  const allSets = workout.entries.flatMap((entry) => entry.sets);
  const totalSets = allSets.length;
  const totalVolume = allSets.reduce((total, set) => total + set.weightKg * set.reps, 0);
  const exerciseCount = workout.entries.length;
  return { totalSets, totalVolume, exerciseCount };
};
```

/Users/pavelkulikou/Projects/my-gym/gym-app/store/sessionStore/actions.ts
```
/**
 * Session store actions - workout and set CRUD operations.
 * All actions return void and update state via Zustand set().
 */

import type { Exercise, Program, Settings, SetEntry } from "../../types/gym";
import type {
  SessionEntityState,
  SessionEntry,
  SessionSet,
  SessionWorkout,
  UndoDeleteSetPayload,
} from "../../types/session";
import type { SyncEvent } from "../../sync/outbox";
import { createId } from "../../app/shared/lib/utils";
import {
  buildWorkoutEntries,
  createDefaultSet,
  getEntryId,
  insertSortedWorkoutId,
  normalizeWorkouts,
} from "./normalization";

export type PendingSyncEvent = {
  event: Omit<SyncEvent, "id" | "createdAt">;
  nonce: string;
};

export const createPendingSyncEvent = (event: PendingSyncEvent["event"]): PendingSyncEvent => ({
  event,
  nonce: createId(),
});

export type SessionActions = {
  startWorkout: (programId: string) => string;
  finishWorkout: (workoutId: string) => void;
  updateSet: (workoutId: string, exerciseId: string, setId: string, patch: Partial<SetEntry>) => void;
  addSet: (workoutId: string, exerciseId: string) => string | undefined;
  deleteSet: (workoutId: string, exerciseId: string, setId: string) => UndoDeleteSetPayload | null;
  restoreDeletedSet: (payload: UndoDeleteSetPayload) => void;
  replaceFromWorkouts: (workouts: import("../../types/gym").Workout[]) => void;
  clearSession: () => void;
};

type GetState = () => SessionEntityState & { pendingSyncEvent: PendingSyncEvent | null };
type SetState = (
  partial:
    | Partial<SessionEntityState & { pendingSyncEvent: PendingSyncEvent | null }>
    | ((
        state: SessionEntityState & { pendingSyncEvent: PendingSyncEvent | null }
      ) => Partial<SessionEntityState & { pendingSyncEvent: PendingSyncEvent | null }>),
  replace: boolean
) => void;

export type SessionDeps = {
  getSettings: () => Settings;
  getCatalog: () => { programs: Program[]; exercises: Exercise[] };
};

export const createActions = (
  set: SetState,
  get: GetState,
  deps: SessionDeps
): SessionActions => ({
  startWorkout: (programId) => {
    const { programs, exercises } = deps.getCatalog();
    const settings = deps.getSettings();
    const program = programs.find((item) => item.id === programId);
    if (!program) return "";

    const workoutId = createId();
    const workout: SessionWorkout = {
      id: workoutId,
      programId,
      startedAt: Date.now(),
    };

    const { entryIds, entriesById, setsById, setIdsByEntryId } = buildWorkoutEntries(
      workoutId,
      program,
      exercises,
      settings,
      get()
    );

    set(
      (state) => {
        const workoutsById = { ...state.workoutsById, [workoutId]: workout };
        const workoutIds = insertSortedWorkoutId(state.workoutIds, workoutsById, workout);
        return {
          activeWorkoutId: workoutId,
          workoutsById,
          entriesById: { ...state.entriesById, ...entriesById },
          setsById: { ...state.setsById, ...setsById },
          entryIdsByWorkoutId: { ...state.entryIdsByWorkoutId, [workoutId]: entryIds },
          setIdsByEntryId: { ...state.setIdsByEntryId, ...setIdsByEntryId },
          workoutIds,
          pendingSyncEvent: createPendingSyncEvent({
            type: "WORKOUT_STARTED",
            payload: { workoutId, programId },
          }),
        };
      },
      false
    );
    return workoutId;
  },

  finishWorkout: (workoutId) => {
    set(
      (state) => {
        const workout = state.workoutsById[workoutId];
        if (!workout) return state;
        const updated = { ...workout, endedAt: Date.now() };
        const workoutsById = { ...state.workoutsById, [workoutId]: updated };
        const workoutIds = insertSortedWorkoutId(state.workoutIds, workoutsById, updated);
        return {
          workoutsById,
          workoutIds,
          activeWorkoutId: state.activeWorkoutId === workoutId ? null : state.activeWorkoutId,
          pendingSyncEvent: createPendingSyncEvent({
            type: "WORKOUT_FINISHED",
            payload: { workoutId },
          }),
        };
      },
      false
    );
  },

  updateSet: (_workoutId, _exerciseId, setId, patch) => {
    set(
      (state) => {
        const setEntry = state.setsById[setId];
        if (!setEntry) return state;
        return {
          setsById: {
            ...state.setsById,
            [setId]: { ...setEntry, ...patch },
          },
          pendingSyncEvent: createPendingSyncEvent({
            type: "SET_UPDATED",
            payload: { setId },
          }),
        };
      },
      false
    );
  },

  addSet: (workoutId, exerciseId) => {
    const settings = deps.getSettings();
    const { exercises } = deps.getCatalog();
    const entryId = getEntryId(workoutId, exerciseId);
    let addedSetId: string | undefined;
    set(
      (state) => {
        const currentSetIds = state.setIdsByEntryId[entryId] ?? [];
        const lastSetId = currentSetIds[currentSetIds.length - 1];
        const lastSet = lastSetId ? state.setsById[lastSetId] : undefined;
        const exercise = exercises.find((item) => item.id === exerciseId);
        const nextSet: SessionSet = lastSet
          ? { ...lastSet, id: createId() }
          : createDefaultSet(exercise?.defaultInputMode ?? "total", settings);
        addedSetId = nextSet.id;
        return {
          setsById: { ...state.setsById, [nextSet.id]: nextSet },
          setIdsByEntryId: {
            ...state.setIdsByEntryId,
            [entryId]: [...currentSetIds, nextSet.id],
          },
          pendingSyncEvent: createPendingSyncEvent({
            type: "SET_ADDED",
            payload: { workoutId, exerciseId },
          }),
        };
      },
      false
    );
    return addedSetId;
  },

  deleteSet: (workoutId, exerciseId, setId) => {
    const entryId = getEntryId(workoutId, exerciseId);
    const state = get();
    const currentSetIds = state.setIdsByEntryId[entryId] ?? [];
    const setIndex = currentSetIds.indexOf(setId);
    const removed = state.setsById[setId];
    if (!removed || setIndex === -1) return null;

    set(
      (current) => {
        const nextSetIds = current.setIdsByEntryId[entryId]?.filter((id) => id !== setId) ?? [];
        const nextSetsById = { ...current.setsById };
        delete nextSetsById[setId];
        return {
          setsById: nextSetsById,
          setIdsByEntryId: {
            ...current.setIdsByEntryId,
            [entryId]: nextSetIds,
          },
          pendingSyncEvent: createPendingSyncEvent({
            type: "SET_DELETED",
            payload: { setId },
          }),
        };
      },
      false
    );

    return { workoutId, exerciseId, set: removed, index: setIndex };
  },

  restoreDeletedSet: (payload) => {
    const entryId = getEntryId(payload.workoutId, payload.exerciseId);
    set(
      (state) => {
        const currentSetIds = state.setIdsByEntryId[entryId] ?? [];
        if (currentSetIds.includes(payload.set.id)) return state;
        const nextSetIds = [...currentSetIds];
        const insertAt = Math.min(Math.max(payload.index, 0), nextSetIds.length);
        nextSetIds.splice(insertAt, 0, payload.set.id);
        return {
          setsById: { ...state.setsById, [payload.set.id]: payload.set },
          setIdsByEntryId: {
            ...state.setIdsByEntryId,
            [entryId]: nextSetIds,
          },
          pendingSyncEvent: createPendingSyncEvent({
            type: "SET_RESTORED",
            payload: { setId: payload.set.id },
          }),
        };
      },
      false
    );
  },

  replaceFromWorkouts: (workouts) => {
    const normalized = normalizeWorkouts(workouts);
    set({ ...normalized, pendingSyncEvent: null }, false);
  },

  clearSession: () => {
    const cleared: SessionEntityState = {
      activeWorkoutId: null,
      workoutsById: {},
      entriesById: {},
      setsById: {},
      entryIdsByWorkoutId: {},
      setIdsByEntryId: {},
      workoutIds: [],
    };
    set(
      {
        ...cleared,
        pendingSyncEvent: null,
      },
      false
    );
  },
});
```

/Users/pavelkulikou/Projects/my-gym/gym-app/store/sessionStore/hydration.ts
```
/**
 * Session store hydration logic.
 * Loads persisted state from storage or migrates legacy workouts.
 */

import type { StorageAdapter } from "../../storage/adapter";
import type { SessionEntityState } from "../../types/session";
import { normalizeWorkouts } from "./normalization";

export const SESSION_SCHEMA_VERSION = 1;

const migrateSessionState = (state: SessionEntityState, fromVersion: number): SessionEntityState => {
  if (fromVersion === SESSION_SCHEMA_VERSION) return state;
  // Future migrations go here
  return state;
};

type HydrateSetState = (
  partial: Partial<SessionEntityState & { hasHydrated: boolean; lastHydratedAt?: number }>,
  replace: boolean
) => void;

type HydrateGetState = () => { hasHydrated: boolean };

export const createHydrate = (storage: StorageAdapter, set: HydrateSetState, get: HydrateGetState) => {
  return async () => {
    if (get().hasHydrated) return;

    const record = await storage.getSessionSnapshot();
    if (record) {
      const value = migrateSessionState(record.value, record.schemaVersion);
      set(
        {
          ...value,
          hasHydrated: true,
          lastHydratedAt: Date.now(),
        },
        false
      );
      return;
    }

    // Fallback: migrate from legacy workouts storage
    const legacyWorkouts = await storage.getLegacyWorkouts();
    const normalized = normalizeWorkouts(legacyWorkouts);
    set(
      {
        ...normalized,
        hasHydrated: true,
        lastHydratedAt: Date.now(),
      },
      false
    );
  };
};
```

/Users/pavelkulikou/Projects/my-gym/gym-app/store/sessionStore/index.ts
```
/**
 * Session store - normalized entity state for workouts, entries, and sets.
 * Split into modules for maintainability:
 * - normalization.ts: Entity normalization/denormalization
 * - actions.ts: CRUD operations
 * - hydration.ts: Storage persistence and migration
 */

import { createStore } from "zustand/vanilla";
import type { SessionEntityState } from "../../types/session";
import type { StorageAdapter } from "../../storage/adapter";
import { indexedDbStorage } from "../../storage/adapter";
import { createActions, type SessionActions, type SessionDeps, type PendingSyncEvent } from "./actions";
import { createHydrate, SESSION_SCHEMA_VERSION } from "./hydration";

export { SESSION_SCHEMA_VERSION } from "./hydration";
export type { PendingSyncEvent } from "./actions";

export type SessionState = SessionEntityState & {
  schemaVersion: number;
  hasHydrated: boolean;
  lastHydratedAt?: number;
  pendingSyncEvent: PendingSyncEvent | null;
  legacyClearToken: number;
  hydrate: () => Promise<void>;
} & SessionActions;

export type SessionDependencies = SessionDeps & {
  storage?: StorageAdapter;
};

export const createSessionStore = ({
  storage = indexedDbStorage,
  getSettings,
  getCatalog,
}: SessionDependencies) =>
  createStore<SessionState>((set, get) => {
    const actions = createActions(
      set as any,
      get as any,
      { getSettings, getCatalog }
    );

    const hydrate = createHydrate(
      storage,
      set as any,
      get as any
    );

    return {
      schemaVersion: SESSION_SCHEMA_VERSION,
      hasHydrated: false,
      lastHydratedAt: undefined,
      pendingSyncEvent: null,
      legacyClearToken: 0,
      activeWorkoutId: null,
      workoutsById: {},
      entriesById: {},
      setsById: {},
      entryIdsByWorkoutId: {},
      setIdsByEntryId: {},
      workoutIds: [],
      hydrate,
      ...actions,
    };
  });

/**
 * Selector to extract just the entity state (for persistence).
 */
export const selectSessionSnapshot = (state: SessionState): SessionEntityState => ({
  activeWorkoutId: state.activeWorkoutId,
  workoutsById: state.workoutsById,
  entriesById: state.entriesById,
  setsById: state.setsById,
  entryIdsByWorkoutId: state.entryIdsByWorkoutId,
  setIdsByEntryId: state.setIdsByEntryId,
  workoutIds: state.workoutIds,
});
```

/Users/pavelkulikou/Projects/my-gym/gym-app/store/sessionStore/normalization.ts
```
/**
 * Normalization utilities for session store entities.
 * Converts between nested Workout[] and flat normalized state.
 */

import type { Exercise, InputMode, Program, Settings, Workout } from "../../types/gym";
import type {
  SessionEntityState,
  SessionEntry,
  SessionSet,
  SessionWorkout,
} from "../../types/session";
import { createId } from "../../app/shared/lib/utils";
import type { SetEntry } from "../../types/gym";

export const getEntryId = (workoutId: string, exerciseId: string) => `${workoutId}:${exerciseId}`;

export const createDefaultSet = (mode: InputMode, settings: Settings): SetEntry => {
  const weight = mode === "plates" ? settings.defaultBarWeight : 0;
  return {
    id: createId(),
    weightKg: weight,
    reps: 8,
    mode,
  };
};

export const workoutSortKey = (workout: SessionWorkout) => workout.endedAt ?? workout.startedAt;

export const insertSortedWorkoutId = (
  workoutIds: string[],
  workoutsById: Record<string, SessionWorkout>,
  workout: SessionWorkout
) => {
  const next = workoutIds.filter((id) => id !== workout.id);
  const key = workoutSortKey(workout);
  let insertAt = 0;
  for (; insertAt < next.length; insertAt += 1) {
    const candidate = workoutsById[next[insertAt]];
    if (!candidate) continue;
    if (workoutSortKey(candidate) < key) break;
  }
  next.splice(insertAt, 0, workout.id);
  return next;
};

/**
 * Normalizes nested Workout[] into flat entity dictionaries.
 * Used for hydration and bulk updates.
 */
export const normalizeWorkouts = (workouts: Workout[]): SessionEntityState => {
  const workoutsById: Record<string, SessionWorkout> = {};
  const entriesById: Record<string, SessionEntry> = {};
  const setsById: Record<string, SessionSet> = {};
  const entryIdsByWorkoutId: Record<string, string[]> = {};
  const setIdsByEntryId: Record<string, string[]> = {};
  const workoutIds: string[] = [];

  workouts.forEach((workout) => {
    workoutsById[workout.id] = {
      id: workout.id,
      programId: workout.programId,
      startedAt: workout.startedAt,
      endedAt: workout.endedAt,
    };
    workoutIds.push(workout.id);
    const entryIds: string[] = [];
    workout.entries.forEach((entry) => {
      const entryId = getEntryId(workout.id, entry.exerciseId);
      entryIds.push(entryId);
      entriesById[entryId] = {
        id: entryId,
        workoutId: workout.id,
        exerciseId: entry.exerciseId,
        suggested: entry.suggested,
      };
      const setIds = entry.sets.map((set) => set.id);
      setIdsByEntryId[entryId] = setIds;
      entry.sets.forEach((set) => {
        setsById[set.id] = { id: set.id, weightKg: set.weightKg, reps: set.reps, mode: set.mode };
      });
    });
    entryIdsByWorkoutId[workout.id] = entryIds;
  });

  workoutIds.sort((a, b) => {
    const aWorkout = workoutsById[a];
    const bWorkout = workoutsById[b];
    if (!aWorkout || !bWorkout) return 0;
    return workoutSortKey(bWorkout) - workoutSortKey(aWorkout);
  });

  const activeWorkoutId = workoutIds.find((id) => !workoutsById[id]?.endedAt) ?? null;

  return {
    activeWorkoutId,
    workoutsById,
    entriesById,
    setsById,
    entryIdsByWorkoutId,
    setIdsByEntryId,
    workoutIds,
  };
};

/**
 * Builds workout entries for a new workout, optionally copying suggested sets from previous workout.
 */
export const buildWorkoutEntries = (
  workoutId: string,
  program: Program,
  exercises: Exercise[],
  settings: Settings,
  state: SessionEntityState
) => {
  const entriesById: Record<string, SessionEntry> = {};
  const setsById: Record<string, SessionSet> = {};
  const setIdsByEntryId: Record<string, string[]> = {};
  const entryIds: string[] = [];

  const latestCompletedId = state.workoutIds.find((id) => {
    const workout = state.workoutsById[id];
    return workout?.programId === program.id && workout.endedAt;
  });

  program.exerciseIds.forEach((exerciseId) => {
    const entryId = getEntryId(workoutId, exerciseId);
    entryIds.push(entryId);
    const exercise = exercises.find((item) => item.id === exerciseId);

    let suggestedSets: SessionSet[] = [];
    if (latestCompletedId) {
      const previousEntryId = getEntryId(latestCompletedId, exerciseId);
      const previousSetIds = state.setIdsByEntryId[previousEntryId] ?? [];
      const previousSets = previousSetIds
        .map((setId) => state.setsById[setId])
        .filter((set): set is SessionSet => Boolean(set));
      if (previousSets.length > 0) {
        suggestedSets = previousSets.map((set) => ({
          ...set,
          id: createId(),
        }));
      }
    }

    const sets =
      suggestedSets.length > 0
        ? suggestedSets
        : [createDefaultSet(exercise?.defaultInputMode ?? "total", settings)];

    entriesById[entryId] = {
      id: entryId,
      workoutId,
      exerciseId,
      suggested: suggestedSets.length > 0,
    };

    setIdsByEntryId[entryId] = sets.map((set) => set.id);
    sets.forEach((set) => {
      setsById[set.id] = set;
    });
  });

  return { entryIds, entriesById, setsById, setIdsByEntryId };
};
```

/Users/pavelkulikou/Projects/my-gym/gym-app/store/settingsStore.ts
```
import { createStore } from "zustand/vanilla";
import type { Settings } from "../types/gym";
import { defaultSettings } from "../app/shared/lib/seed";
import type { StorageAdapter } from "../storage/adapter";
import { indexedDbStorage } from "../storage/adapter";

export const SETTINGS_SCHEMA_VERSION = 1;

export type SettingsState = {
  schemaVersion: number;
  hasHydrated: boolean;
  lastHydratedAt?: number;
  settings: Settings;
  hydrate: () => Promise<void>;
  updateSettings: (patch: Partial<Settings>) => void;
  replaceSettings: (settings: Settings) => void;
};

const migrateSettings = (value: Settings, fromVersion: number): Settings => {
  if (fromVersion === SETTINGS_SCHEMA_VERSION) return value;
  return value;
};

export const createSettingsStore = (storage: StorageAdapter = indexedDbStorage) =>
  createStore<SettingsState>((set, get) => ({
    schemaVersion: SETTINGS_SCHEMA_VERSION,
    hasHydrated: false,
    settings: defaultSettings,
    lastHydratedAt: undefined,
    hydrate: async () => {
      if (get().hasHydrated) return;
      const record = await storage.getSettings();
      const storedVersion = record?.schemaVersion ?? 0;
      const storedSettings = record?.value ?? defaultSettings;
      const migrated = migrateSettings(storedSettings, storedVersion);
      set(
        {
          settings: migrated,
          hasHydrated: true,
          lastHydratedAt: Date.now(),
        },
        false
      );
    },
    updateSettings: (patch) => {
      set(
        (state) => {
          const nextSettings = { ...state.settings, ...patch };
          return { settings: nextSettings };
        },
        false
      );
    },
    replaceSettings: (settings) => {
      set({ settings }, false);
    },
  }));
```

/Users/pavelkulikou/Projects/my-gym/gym-app/store/storeSubscriptions.ts
```
import type { CatalogStore, SessionStore, SettingsStore } from "./AppStoreProvider";
import type { StorageAdapter } from "../storage/adapter";
import { CATALOG_SCHEMA_VERSION } from "./catalogStore/index";
import { selectSessionSnapshot, SESSION_SCHEMA_VERSION, type SessionState } from "./sessionStore/index";
import { SETTINGS_SCHEMA_VERSION } from "./settingsStore";
import { enqueueSyncEvent } from "../sync/outbox";
import { createDebounced } from "../app/shared/lib/debounce";

type StoreSubscriptionsDeps = {
  settingsStore: SettingsStore;
  catalogStore: CatalogStore;
  sessionStore: SessionStore;
  storage: StorageAdapter;
};

const didSessionEntityChange = (next: SessionState, prev: SessionState) =>
  next.activeWorkoutId !== prev.activeWorkoutId ||
  next.workoutsById !== prev.workoutsById ||
  next.entriesById !== prev.entriesById ||
  next.setsById !== prev.setsById ||
  next.entryIdsByWorkoutId !== prev.entryIdsByWorkoutId ||
  next.setIdsByEntryId !== prev.setIdsByEntryId ||
  next.workoutIds !== prev.workoutIds;

export const attachStoreSubscriptions = ({
  settingsStore,
  catalogStore,
  sessionStore,
  storage,
}: StoreSubscriptionsDeps) => {
  const settingsDebounce = createDebounced(200);
  const catalogDebounce = createDebounced(240);
  const sessionDebounce = createDebounced(180);

  const persistSettings = () => {
    const state = settingsStore.getState();
    if (!state.hasHydrated) return;
    void storage
      .setSettings({
        id: "settings",
        schemaVersion: SETTINGS_SCHEMA_VERSION,
        value: state.settings,
        updatedAt: Date.now(),
      })
      .catch(() => undefined);
  };

  const persistCatalog = () => {
    const state = catalogStore.getState();
    if (!state.hasHydrated) return;
    void (async () => {
      await Promise.all([storage.clearPrograms(), storage.clearExercises()]);
      await Promise.all([
        ...state.exercises.map((exercise) => storage.putExercise(exercise)),
        ...state.programs.map((program) => storage.putProgram(program)),
      ]);
      await storage.setMeta({
        id: "catalog",
        value: { schemaVersion: CATALOG_SCHEMA_VERSION, updatedAt: Date.now() },
      });
    })().catch(() => undefined);
  };

  const persistSession = () => {
    const state = sessionStore.getState();
    if (!state.hasHydrated) return;
    void storage
      .setSessionSnapshot({
        id: "session",
        schemaVersion: SESSION_SCHEMA_VERSION,
        value: selectSessionSnapshot(state),
        updatedAt: Date.now(),
      })
      .catch(() => undefined);
  };

  const unsubscribeSettings = settingsStore.subscribe((state, prev) => {
    if (!state.hasHydrated) return;
    if (state.settings === prev.settings && state.hasHydrated === prev.hasHydrated) return;
    settingsDebounce.schedule(persistSettings);
  });

  const unsubscribeCatalog = catalogStore.subscribe((state, prev) => {
    if (!state.hasHydrated) return;
    if (
      state.programs === prev.programs &&
      state.exercises === prev.exercises &&
      state.hasHydrated === prev.hasHydrated
    ) {
      return;
    }
    catalogDebounce.schedule(persistCatalog);
  });

  const unsubscribeSession = sessionStore.subscribe((state, prev) => {
    if (state.pendingSyncEvent !== prev.pendingSyncEvent && state.pendingSyncEvent) {
      enqueueSyncEvent(state.pendingSyncEvent.event);
    }

    if (state.legacyClearToken !== prev.legacyClearToken && state.legacyClearToken > 0) {
      void storage.clearLegacyWorkouts().catch(() => undefined);
    }

    if (!state.hasHydrated) return;
    if (!didSessionEntityChange(state, prev) && state.hasHydrated === prev.hasHydrated) return;
    sessionDebounce.schedule(persistSession);
  });

  return () => {
    unsubscribeSettings();
    unsubscribeCatalog();
    unsubscribeSession();
    settingsDebounce.cancel();
    catalogDebounce.cancel();
    sessionDebounce.cancel();
  };
};
```

/Users/pavelkulikou/Projects/my-gym/gym-app/store/uiStore.ts
```
import { createStore } from "zustand/vanilla";
import type { Command } from "../commands/types";

export type MotionStyle = "lift" | "slide" | "spring";

const UI_STORAGE_KEY = "gym-ui";

function getPersistedMotionStyle(): MotionStyle {
  if (typeof localStorage === "undefined") return "lift";
  try {
    const raw = localStorage.getItem(UI_STORAGE_KEY);
    if (!raw) return "lift";
    const parsed = JSON.parse(raw) as { motionStyle?: string };
    if (parsed?.motionStyle === "slide" || parsed?.motionStyle === "spring") return parsed.motionStyle;
    return "lift";
  } catch {
    return "lift";
  }
}

function persistMotionStyle(motionStyle: MotionStyle) {
  if (typeof localStorage === "undefined") return;
  try {
    localStorage.setItem(UI_STORAGE_KEY, JSON.stringify({ motionStyle }));
  } catch {
    /* ignore */
  }
}

export type ConfirmPayload = {
  title: string;
  message: string;
  confirmLabel?: string;
  tone?: "default" | "danger";
  command: Command;
};

export type EditSetPayload = {
  workoutId: string;
  exerciseId: string;
  setId: string;
};

export type SearchExercisePayload = {
  programId: string;
};

type SheetState =
  | { type: null; open: false }
  | { type: "editSet"; open: boolean; payload: EditSetPayload; sessionId: number }
  | { type: "confirm"; open: boolean; payload: ConfirmPayload; sessionId: number }
  | { type: "searchExercise"; open: boolean; payload: SearchExercisePayload; sessionId: number };

type SnackbarState = {
  open: boolean;
  message: string;
  actionLabel?: string;
  actionCommand?: Command;
};

export type UiState = {
  sheet: SheetState;
  snackbar: SnackbarState;
  vtHero: { type: "program" | "history"; id: string } | null;
  motionStyle: MotionStyle;
  setVtHero: (hero: UiState["vtHero"]) => void;
  clearVtHero: () => void;
  setMotionStyle: (style: MotionStyle) => void;
  openEditSet: (payload: EditSetPayload) => void;
  openConfirm: (payload: ConfirmPayload) => void;
  openSearchExercise: (payload: SearchExercisePayload) => void;
  closeSheet: () => void;
  showSnackbar: (message: string, actionLabel?: string, actionCommand?: Command) => void;
  hideSnackbar: () => void;
};

let snackbarTimer: number | undefined;
let sheetSession = 0;

export const createUiStore = () =>
  createStore<UiState>((set, get) => ({
    sheet: { type: null, open: false },
    snackbar: { open: false, message: "" },
    vtHero: null,
    motionStyle: getPersistedMotionStyle(),
    setVtHero: (hero) => {
      set((state) => ({ ...state, vtHero: hero }), false);
      if (hero && typeof window !== "undefined") {
        window.setTimeout(() => {
          set((state) => ({ ...state, vtHero: null }), false);
        }, 700);
      }
    },
    clearVtHero: () => set((state) => ({ ...state, vtHero: null }), false),
    setMotionStyle: (style) => {
      set((state) => ({ ...state, motionStyle: style }), false);
      persistMotionStyle(style);
    },
    openEditSet: (payload) => {
      sheetSession += 1;
      set(
        (state) => ({
          ...state,
          sheet: { type: "editSet", open: true, payload, sessionId: sheetSession },
        }),
        false
      );
    },
    openConfirm: (payload) => {
      sheetSession += 1;
      set(
        (state) => ({
          ...state,
          sheet: { type: "confirm", open: true, payload, sessionId: sheetSession },
        }),
        false
      );
    },
    openSearchExercise: (payload) => {
      sheetSession += 1;
      set(
        (state) => ({
          ...state,
          sheet: { type: "searchExercise", open: true, payload, sessionId: sheetSession },
          }),
          false
        );
    },
    closeSheet: () => {
      set(
        (state) => {
          if (state.sheet.type === null) return state;
          return { ...state, sheet: { ...state.sheet, open: false } };
        },
        false
      );
    },
    showSnackbar: (message, actionLabel, actionCommand) => {
      if (typeof window === "undefined") return;
      if (snackbarTimer) {
        window.clearTimeout(snackbarTimer);
      }
      set(
        (state) => ({
          ...state,
          snackbar: {
            open: true,
            message,
            actionLabel,
            actionCommand,
          },
        }),
        false
      );
      snackbarTimer = window.setTimeout(() => {
        set(
          (state) => ({
            ...state,
            snackbar: { ...state.snackbar, open: false },
          }),
          false
        );
      }, 4200);
    },
    hideSnackbar: () => {
      if (typeof window === "undefined") return;
      if (snackbarTimer) {
        window.clearTimeout(snackbarTimer);
      }
      set(
        (state) => ({
          ...state,
          snackbar: { ...state.snackbar, open: false },
        }),
        false
      );
    },
  }));
```

/Users/pavelkulikou/Projects/my-gym/gym-app/store/useAppActions.ts
```
"use client";

import { useMemo } from "react";
import { createAppActions } from "./appActions";
import { useCatalogStoreApi } from "./useCatalogStore";
import { useSessionStoreApi } from "./useSessionStore";
import { useSettingsStoreApi } from "./useSettingsStore";

export const useAppActions = () => {
  const settingsStore = useSettingsStoreApi();
  const catalogStore = useCatalogStoreApi();
  const sessionStore = useSessionStoreApi();

  return useMemo(
    () => createAppActions({ settingsStore, catalogStore, sessionStore }),
    [settingsStore, catalogStore, sessionStore]
  );
};
```

/Users/pavelkulikou/Projects/my-gym/gym-app/store/useCatalogStore.ts
```
"use client";

import { useContext } from "react";
import { useStore } from "zustand";
import { useShallow } from "zustand/react/shallow";
import { CatalogStoreContext } from "./AppStoreProvider";
import type { CatalogState } from "./catalogStore/index";

export const useCatalogStoreApi = () => {
  const store = useContext(CatalogStoreContext);
  if (!store) throw new Error("AppStoreProvider missing");
  return store;
};

export const useCatalogStore = <T,>(selector: (state: CatalogState) => T): T => {
  const store = useCatalogStoreApi();
  return useStore(store, selector);
};

export const useCatalogShallow = <T extends object>(selector: (state: CatalogState) => T): T => {
  return useCatalogStore(useShallow(selector));
};
```

/Users/pavelkulikou/Projects/my-gym/gym-app/store/useSessionStore.ts
```
"use client";

import { useContext } from "react";
import { useStore } from "zustand";
import { useShallow } from "zustand/react/shallow";
import { SessionStoreContext } from "./AppStoreProvider";
import type { SessionState } from "./sessionStore/index";

export const useSessionStoreApi = () => {
  const store = useContext(SessionStoreContext);
  if (!store) throw new Error("AppStoreProvider missing");
  return store;
};

export const useSessionStore = <T,>(selector: (state: SessionState) => T): T => {
  const store = useSessionStoreApi();
  return useStore(store, selector);
};

export const useSessionShallow = <T extends object>(selector: (state: SessionState) => T): T => {
  return useSessionStore(useShallow(selector));
};
```

/Users/pavelkulikou/Projects/my-gym/gym-app/store/useSettingsStore.ts
```
"use client";

import { useContext } from "react";
import { useStore } from "zustand";
import { useShallow } from "zustand/react/shallow";
import { SettingsStoreContext } from "./AppStoreProvider";
import type { SettingsState } from "./settingsStore";

export const useSettingsStoreApi = () => {
  const store = useContext(SettingsStoreContext);
  if (!store) throw new Error("AppStoreProvider missing");
  return store;
};

export const useSettingsStore = <T,>(selector: (state: SettingsState) => T): T => {
  const store = useSettingsStoreApi();
  return useStore(store, selector);
};

export const useSettingsShallow = <T extends object>(selector: (state: SettingsState) => T): T => {
  return useSettingsStore(useShallow(selector));
};
```

/Users/pavelkulikou/Projects/my-gym/gym-app/store/useUiStore.ts
```
"use client";

import { useContext } from "react";
import { useStore } from "zustand";
import { useShallow } from "zustand/react/shallow";
import { UiStoreContext } from "./AppStoreProvider";
import type { UiState } from "./uiStore";

export const useUiStoreApi = () => {
  const store = useContext(UiStoreContext);
  if (!store) throw new Error("AppStoreProvider missing");
  return store;
};

export const useUiStore = <T,>(selector: (state: UiState) => T): T => {
  const store = useUiStoreApi();
  return useStore(store, selector);
};

export const useUiShallow = <T extends object>(selector: (state: UiState) => T): T => {
  return useUiStore(useShallow(selector));
};
```

/Users/pavelkulikou/Projects/my-gym/gym-app/sync/outbox.ts
```
import { createStore } from "zustand/vanilla";
import { createId } from "../app/shared/lib/utils";
import type { StorageAdapter } from "../storage/adapter";
import { createDebounced } from "../app/shared/lib/debounce";

export const OUTBOX_SCHEMA_VERSION = 1;
const OUTBOX_STORAGE_KEY = "outbox";

export type SyncEvent = {
  id: string;
  type:
    | "WORKOUT_STARTED"
    | "WORKOUT_FINISHED"
    | "SET_UPDATED"
    | "SET_ADDED"
    | "SET_DELETED"
    | "SET_RESTORED";
  payload: Record<string, unknown>;
  createdAt: number;
};

type OutboxState = {
  pendingEvents: SyncEvent[];
  hasHydrated: boolean;
  enqueue: (event: Omit<SyncEvent, "id" | "createdAt">) => SyncEvent;
  markSynced: (eventId: string) => void;
  clear: () => void;
};

const outboxStore = createStore<OutboxState>((set) => ({
  pendingEvents: [],
  hasHydrated: false,
  enqueue: (event) => {
    const next: SyncEvent = {
      ...event,
      id: createId(),
      createdAt: Date.now(),
    };
    set((state) => ({ pendingEvents: [...state.pendingEvents, next] }), false);
    return next;
  },
  markSynced: (eventId) =>
    set((state) => ({ pendingEvents: state.pendingEvents.filter((event) => event.id !== eventId) }), false),
  clear: () => set({ pendingEvents: [] }, false),
}));

export const enqueueSyncEvent = (event: Omit<SyncEvent, "id" | "createdAt">) => {
  outboxStore.getState().enqueue(event);
};

type OutboxRecord = {
  schemaVersion: number;
  value: SyncEvent[];
  updatedAt?: number;
};

const migrateOutbox = (events: SyncEvent[], fromVersion: number) => {
  if (fromVersion === OUTBOX_SCHEMA_VERSION) return events;
  return events;
};

const mergeEvents = (stored: SyncEvent[], current: SyncEvent[]) => {
  const existing = new Set(stored.map((event) => event.id));
  const merged = [...stored, ...current.filter((event) => !existing.has(event.id))];
  merged.sort((a, b) => a.createdAt - b.createdAt);
  return merged;
};

const persistOutbox = async (storage: StorageAdapter, events: SyncEvent[]) => {
  if (events.length === 0) {
    await storage.removeItem(OUTBOX_STORAGE_KEY);
    return;
  }
  await storage.setItem(OUTBOX_STORAGE_KEY, {
    schemaVersion: OUTBOX_SCHEMA_VERSION,
    value: events,
    updatedAt: Date.now(),
  } satisfies OutboxRecord);
};

export const hydrateOutbox = async (storage: StorageAdapter) => {
  const record = await storage.getItem<OutboxRecord>(OUTBOX_STORAGE_KEY);
  const storedVersion = record?.schemaVersion ?? 0;
  const storedEvents = migrateOutbox(record?.value ?? [], storedVersion);
  const currentEvents = outboxStore.getState().pendingEvents;
  const merged = mergeEvents(storedEvents, currentEvents);

  outboxStore.setState(
    {
      pendingEvents: merged,
      hasHydrated: true,
    },
    false
  );

  if (!record || storedVersion !== OUTBOX_SCHEMA_VERSION) {
    void persistOutbox(storage, merged).catch(() => undefined);
  }
};

export const attachOutboxPersistence = (storage: StorageAdapter) => {
  const debounce = createDebounced(200);

  const unsubscribe = outboxStore.subscribe((state, prev) => {
    if (!state.hasHydrated) return;
    if (state.pendingEvents === prev.pendingEvents && state.hasHydrated === prev.hasHydrated) {
      return;
    }
    debounce.schedule(() => {
      void persistOutbox(storage, outboxStore.getState().pendingEvents).catch(() => undefined);
    });
  });

  return () => {
    unsubscribe();
    debounce.cancel();
  };
};

export { outboxStore };
```

/Users/pavelkulikou/Projects/my-gym/gym-app/task-2.md
```
You are updating a Next.js App Router gym app to look and feel like a premium mobile product (not a CRUD prototype). Do NOT add third-party UI/animation libraries. Use modern CSS + existing View Transition infra. Also IMPORTANT: remove any “set completed / checkmark sets” concept; sets have no completion status.

Goals
1) Re-architect the visual system: typography, spacing, surfaces, colors, nav bar, cards.
2) Re-architect Workout Runner UX: logging flow, no set completion state, bottom sheets for editing.
3) Make globals.css consistent and token-driven (fonts, surfaces, radii, motion, VT baseline).

Hard rules
- NO “completed” status for sets anywhere (no checkbox, no “done” state, no strike-through, no progress tracking per set).
- A set is “logged” if it exists in the list. Undo = delete or edit.
- Keep app thin: no new libraries.
- Respect prefers-reduced-motion.

Work items (do in order)

A) Audit + remove “set completed” UI/state
1) Search repo for any of these and remove or refactor:
   - “completed”, “done”, “checked”, “isComplete”, “toggleSet”, “markSet”
   - UI icons for check, checkbox, progress per set
2) Files likely involved:
   - app/workout/[id]/page.tsx (runner)
   - any components rendering sets (SetRow / SetCard)
   - store state related to set completion (if any)
3) Replace interactions:
   - Tap set -> opens edit sheet
   - Add set -> appends new set (immediately counted as logged)
   - Optional: highlight newly added set for 1–2 seconds (CSS class) then fade.

B) Convert centered modals to bottom sheets
1) For set editing:
   - Replace centered dialog with a bottom sheet layout:
     - anchored to bottom, max-height ~80vh
     - rounded top corners, background dim
     - swipe-down to dismiss (optional if you already have a close button; do not add heavy gesture libs)
2) Finish confirmation:
   - Convert to action sheet style (bottom sheet) with Cancel / Finish.
3) Ensure sheet respects safe area insets and mobile keyboard.

C) Rebuild visual system (tokens + components)
1) Update globals.css to define tokens and base styles:
   - font stack
   - neutral background and surface colors
   - radii scale (choose one family: 12/16)
   - spacing rhythm (8/12/16/24)
   - one accent color used only for primary actions and selected nav
   - color-scheme: light dark
   - reduced motion baseline
   - ensure .vt-hero view-transition-name matches ui.css (vt-hero) and remove conflicting names
2) Update app/ui.css to:
   - use tokens for surfaces, borders, shadows, radii
   - reduce “pastel tinted cards”; cards should be true surface color
   - clean link styling: no underline unless actual link
3) Update key components styling:
   - ProgramCard: less padding, more density; actions aligned consistently
   - Exercise cards: clearer hierarchy, less empty space, tighter list
   - Buttons: unify sizes and radii; primary vs secondary style

D) Bottom navigation bar redesign
1) Reduce height and blur intensity, make it feel native.
2) Add icons (if you already have an icon set, use it; otherwise use simple inline SVG with currentColor).
3) Active tab indicator should be crisp:
   - small pill or underline; avoid large glowing blob.
4) Ensure safe-area padding at bottom.

E) Workout Complete screen polish
1) Add a subtle completion mark (not confetti):
   - a simple check in a circle icon near title
   - gentle enter motion (fade + slight scale) when reduced motion allows
2) Anchor “Done” button at bottom on mobile (sticky area) with safe-area padding.

Deliverables
- List of files changed with bullet notes.
- For each file, provide exact diffs or replaced blocks.
- Confirm: there is NO set completion UI/state remaining.
- Confirm: globals.css now contains the token system + font stack + motion baseline + VT hero naming consistency.
- Confirm: bottom sheets replace centered modals for frequent actions.

Acceptance test checklist
- Runner: add/edit/delete sets works; no completion toggles exist.
- Modal/sheet: set edit opens as bottom sheet.
- Motion: VT transitions still work; reduced motion disables them.
- Visual: cards are neutral surfaces; accent appears only on primary actions and active nav.
```

/Users/pavelkulikou/Projects/my-gym/gym-app/tsconfig.json
```
{
  "compilerOptions": {
    "target": "ES2017",
    "lib": ["dom", "dom.iterable", "esnext"],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "esnext",
    "moduleResolution": "bundler",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "react-jsx",
    "incremental": true,
    "plugins": [
      {
        "name": "next"
      }
    ],
    "paths": {
      "@/*": ["./*"]
    }
  },
  "include": [
    "next-env.d.ts",
    "**/*.ts",
    "**/*.tsx",
    ".next/types/**/*.ts",
    ".next/dev/types/**/*.ts",
    "**/*.mts"
  ],
  "exclude": ["node_modules"]
}
```

/Users/pavelkulikou/Projects/my-gym/gym-app/types/gym.ts
```
export type ExerciseType = "Barbell" | "Dumbbell" | "Machine" | "Bodyweight" | "Cable";
export type InputMode = "total" | "plates";

export type Exercise = {
  id: string;
  name: string;
  type: ExerciseType;
  defaultInputMode: InputMode;
};

export type Program = {
  id: string;
  name: string;
  note?: string;
  exerciseIds: string[];
};

export type SetEntry = {
  id: string;
  weightKg: number;
  reps: number;
  mode: InputMode;
};

export type WorkoutEntry = {
  exerciseId: string;
  sets: SetEntry[];
  suggested: boolean;
};

export type Workout = {
  id: string;
  programId: string;
  startedAt: number;
  endedAt?: number;
  entries: WorkoutEntry[];
};

export type Settings = {
  unitsPreference: "kg" | "lb";
  defaultBarWeight: number;
  reduceMotion?: boolean;
};

export type GymExport = {
  programs: Program[];
  exercises: Exercise[];
  workouts: Workout[];
  settings: Settings;
};
```

/Users/pavelkulikou/Projects/my-gym/gym-app/types/session.ts
```
import type { SetEntry } from "./gym";

export type SessionWorkout = {
  id: string;
  programId: string;
  startedAt: number;
  endedAt?: number;
};

export type SessionEntry = {
  id: string;
  workoutId: string;
  exerciseId: string;
  suggested: boolean;
};

export type SessionSet = SetEntry;

export type SessionEntityState = {
  activeWorkoutId: string | null;
  workoutsById: Record<string, SessionWorkout>;
  entriesById: Record<string, SessionEntry>;
  setsById: Record<string, SessionSet>;
  entryIdsByWorkoutId: Record<string, string[]>;
  setIdsByEntryId: Record<string, string[]>;
  workoutIds: string[];
};

export type UndoDeleteSetPayload = {
  workoutId: string;
  exerciseId: string;
  set: SessionSet;
  index: number;
};
```

